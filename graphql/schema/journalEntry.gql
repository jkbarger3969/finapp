enum JournalEntryType {
  CREDIT
  DEBIT
}

type JournalEntry {
  id:ID!
  type:JournalEntryType!
  date:String!
  department:Department!
  category:JournalEntryCategory!
  paymentMethod:PaymentMethod!
  description:String
  total:Rational!
  source:JournalEntrySource!
  reconciled:Boolean!
  lastUpdate:String!
  deleted:Boolean!
}

enum JournalEntrySourceType {
  BUSINESS
  DEPARTMENT
  PERSON
}

input JournalEntrySourceInput {
  sourceType:JournalEntrySourceType!
  id:ID!
}

input JournalEntryUpdateFields {
  date:String
  department:ID
  type:JournalEntryType
  category:ID
  paymentMethod:ID
  description:String
  total:RationalInput
  source:JournalEntrySourceInput
  reconciled:Boolean
}

input JournalEntryAddFields {
  date:String!
  department:ID!
  type:JournalEntryType!
  category:ID!
  paymentMethod:ID!
  description:String
  total:RationalInput!
  source:JournalEntrySourceInput!
  reconciled:Boolean
}

# enum JournalEntriesColumn {
#   DEPARTMENT
#   TYPE
#   CATEGORY
#   # ROOT_TYPE
#   PAYMENT_METHOD
#   TOTAL
#   DATE
#   SOURCE
# }

# input JournalEntriesSortByInput {
#   column:JournalEntriesColumn!
#   direction:SortDirection = ASC
# }

input JournalEntriesWhereDepartment {
  eq:ID
  ne:ID
  in:[ID]
  nin:[ID]
  includeDescendants:Boolean = true
}

input JournalEntriesWhereLastUpdate {
  gt:String
  lt:String
  gte:String
  lte:String
}

input JournalEntiresWhereInput {
  department:JournalEntriesWhereDepartment
  reconciled:Boolean
  deleted:Boolean
  lastUpdate:JournalEntriesWhereLastUpdate
  or:[JournalEntiresWhereInput]
  and:[JournalEntiresWhereInput]
}

type JournalEntriesRes {
  totalCount:Int!
  entries:[JournalEntry!]!
}

type JournalEntryAddedRes {
   totalCount:Int!
   index:Int!
   entry:JournalEntry!
}

type Query {
  journalEntries(where:JournalEntiresWhereInput):[JournalEntry!]!
}

type Mutation {
  journalEntryUpdate(id:ID!, fields:JournalEntryUpdateFields!):
    JournalEntry!
  journalEntryAdd(fields:JournalEntryAddFields!):JournalEntry!
  journalEntryDelete(id:ID!):JournalEntry!
}

type Subscription {
    journalEntryAdded:JournalEntry!
    journalEntryUpdated:JournalEntry!
}