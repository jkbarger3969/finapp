type Vendor {
  approved: Boolean!
  vendorId: ID
}

type Business {
  id: ID!
  name: String!
  budgets: [Budget!]!
  """
  When root is `true`, only departments who's direct parent is the the Business
  are returned.
  """
  departments(root: Boolean = false): [Department!]!
  vendor: Vendor
  hidden: Boolean
}

input NewBusiness {
  name: String!
}

input BusinessesWhere {
  # Fields
  id: WhereId
  name: WhereRegex
  hidden: Boolean

  # Logic
  and: [BusinessesWhere!]
  or: [BusinessesWhere!]
  nor: [BusinessesWhere!]
}

input UpdateBusinessInput {
  hidden: Boolean
  name: String
}

type UpdateBusinessPayload {
  business: Business!
}

extend type Query {
  businesses(where: BusinessesWhere): [Business!]!
  business(id: ID!): Business!
}

extend type Mutation {
  addNewBusiness(input: NewBusiness!): Business!
  updateBusiness(id: ID!, input: UpdateBusinessInput!): UpdateBusinessPayload!
}
