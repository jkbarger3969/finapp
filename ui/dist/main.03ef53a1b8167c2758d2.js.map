{"version":3,"sources":["webpack:///../src/apollo/graphTypes.ts","webpack:///../src/apollo/inMemoryCache.ts","webpack:///../src/apollo/resolvers.ts","webpack:///../src/apollo/link.ts","webpack:///../src/apollo/apollo.ts","webpack:///../src/components/Journal/Table/JournalEntries.gql.ts","webpack:///../src/components/Journal/constants.ts","webpack:///../src/components/utils/materialTableIcons.tsx","webpack:///../src/components/Journal/Upsert/Refunds/submitAdd.ts","webpack:///../src/utils/formik.ts","webpack:///../src/components/Journal/Upsert/EntryFields/DateEntry.tsx","webpack:///../src/components/Journal/Upsert/EntryFields/Description.tsx","webpack:///../src/utils/rational.ts","webpack:///../src/components/Journal/Upsert/EntryFields/Total.tsx","webpack:///../src/components/Journal/Upsert/EntryFields/Reconcile.tsx","webpack:///../src/components/Journal/Upsert/upsertEntry.gql.ts","webpack:///../src/components/Journal/Upsert/EntryFields/PaymentMethod.tsx","webpack:///../src/components/utils/Overlay.tsx","webpack:///../src/components/utils/OverlayLoading.tsx","webpack:///../src/components/Journal/Upsert/Refunds/refunds.gql.ts","webpack:///../src/components/Journal/Upsert/Refunds/AddRefund.tsx","webpack:///../src/components/Journal/Upsert/Refunds/submitUpdate.ts","webpack:///../src/components/Journal/Upsert/Refunds/UpdateRefund.tsx","webpack:///../src/components/Journal/Upsert/Entries/submitAdd.ts","webpack:///../src/components/Journal/Upsert/EntryFields/Category.tsx","webpack:///../src/components/Journal/Upsert/EntryFields/Department.tsx","webpack:///../src/components/Journal/Upsert/EntryFields/Source.tsx","webpack:///../src/components/Journal/Upsert/EntryFields/Type.tsx","webpack:///../src/components/Journal/Upsert/Entries/AddEntry.tsx","webpack:///../src/components/Journal/Upsert/Entries/submitUpdate.ts","webpack:///../src/components/Journal/Upsert/EntryFields/DateOfRecord.tsx","webpack:///../src/components/Journal/Upsert/Entries/UpdateEntry.tsx","webpack:///../src/components/Journal/Upsert/Entries/DeleteEntry.tsx","webpack:///../src/components/Journal/Upsert/Refunds/DeleteRefund.tsx","webpack:///../src/components/Journal/Upsert/Items/submitAdd.ts","webpack:///../src/components/Journal/Upsert/Items/ItemFields/Units.tsx","webpack:///../src/components/Journal/Upsert/Items/items.gql.ts","webpack:///../src/components/Journal/Upsert/Items/AddItem.tsx","webpack:///../src/components/Journal/Upsert/Items/submitUpdate.ts","webpack:///../src/components/Journal/Upsert/Items/UpdateItem.tsx","webpack:///../src/components/Journal/Upsert/Items/DeleteItem.tsx","webpack:///../src/components/Journal/Table/Items.tsx","webpack:///../src/components/Journal/Table/FilterFields/Reconciled.tsx","webpack:///../src/components/Journal/Table/FilterFields/Category.tsx","webpack:///../src/components/Journal/Table/FilterFields/PaymentMethod.tsx","webpack:///../src/components/Journal/Table/FilterFields/Department.tsx","webpack:///../src/components/Journal/Table/FilterFields/Source.tsx","webpack:///../src/components/Journal/Table/FilterFields/Date.tsx","webpack:///../src/components/Journal/Table/FilterFields/Total.tsx","webpack:///../src/components/Journal/Table/Journal.tsx","webpack:///../src/utils/mingoUtils.ts","webpack:///../src/components/Dashboard/ReportData.gql.ts","webpack:///../src/components/Dashboard/Dashboard.tsx","webpack:///../src/components/TopNav.tsx","webpack:///../src/Routes.tsx","webpack:///../src/App.tsx","webpack:///../src/index.tsx"],"names":["CHECK_ID","JOURNAL_ENTRY_FRAGMENT","a","s","dept","n","value","e","op","err"],"mappings":"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","file":"main.03ef53a1b8167c2758d2.js","sourcesContent":["export var BudgetOwnerType;\n(function (BudgetOwnerType) {\n    BudgetOwnerType[\"Business\"] = \"BUSINESS\";\n    BudgetOwnerType[\"Department\"] = \"DEPARTMENT\";\n})(BudgetOwnerType || (BudgetOwnerType = {}));\nexport var CacheControlScope;\n(function (CacheControlScope) {\n    CacheControlScope[\"Public\"] = \"PUBLIC\";\n    CacheControlScope[\"Private\"] = \"PRIVATE\";\n})(CacheControlScope || (CacheControlScope = {}));\nexport var DepartmentAncestorType;\n(function (DepartmentAncestorType) {\n    DepartmentAncestorType[\"Business\"] = \"BUSINESS\";\n    DepartmentAncestorType[\"Department\"] = \"DEPARTMENT\";\n})(DepartmentAncestorType || (DepartmentAncestorType = {}));\nexport var FilterType;\n(function (FilterType) {\n    FilterType[\"Include\"] = \"INCLUDE\";\n    FilterType[\"Exclude\"] = \"EXCLUDE\";\n})(FilterType || (FilterType = {}));\nexport var JournalEntrySourceType;\n(function (JournalEntrySourceType) {\n    JournalEntrySourceType[\"Business\"] = \"BUSINESS\";\n    JournalEntrySourceType[\"Department\"] = \"DEPARTMENT\";\n    JournalEntrySourceType[\"Person\"] = \"PERSON\";\n})(JournalEntrySourceType || (JournalEntrySourceType = {}));\nexport var JournalEntryType;\n(function (JournalEntryType) {\n    JournalEntryType[\"Credit\"] = \"CREDIT\";\n    JournalEntryType[\"Debit\"] = \"DEBIT\";\n})(JournalEntryType || (JournalEntryType = {}));\nexport var RationalSign;\n(function (RationalSign) {\n    RationalSign[\"Pos\"] = \"POS\";\n    RationalSign[\"Neg\"] = \"NEG\";\n})(RationalSign || (RationalSign = {}));\nexport var RegexOptions;\n(function (RegexOptions) {\n    RegexOptions[\"CaseInsensitive\"] = \"CaseInsensitive\";\n    RegexOptions[\"Multiline\"] = \"Multiline\";\n    RegexOptions[\"Extended\"] = \"Extended\";\n    RegexOptions[\"DotAll\"] = \"DotAll\";\n    RegexOptions[\"I\"] = \"I\";\n    RegexOptions[\"M\"] = \"M\";\n    RegexOptions[\"X\"] = \"X\";\n    RegexOptions[\"S\"] = \"S\";\n})(RegexOptions || (RegexOptions = {}));\nexport var SortDirection;\n(function (SortDirection) {\n    SortDirection[\"Asc\"] = \"ASC\";\n    SortDirection[\"Desc\"] = \"DESC\";\n})(SortDirection || (SortDirection = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JhcGhUeXBlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hcG9sbG8vZ3JhcGhUeXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnQ0EsTUFBTSxDQUFOLElBQVksZUFHWDtBQUhELFdBQVksZUFBZTtJQUN6Qix3Q0FBcUIsQ0FBQTtJQUNyQiw0Q0FBeUIsQ0FBQTtBQUMzQixDQUFDLEVBSFcsZUFBZSxLQUFmLGVBQWUsUUFHMUI7QUF1REQsTUFBTSxDQUFOLElBQVksaUJBR1g7QUFIRCxXQUFZLGlCQUFpQjtJQUMzQixzQ0FBaUIsQ0FBQTtJQUNqQix3Q0FBbUIsQ0FBQTtBQUNyQixDQUFDLEVBSFcsaUJBQWlCLEtBQWpCLGlCQUFpQixRQUc1QjtBQThCRCxNQUFNLENBQU4sSUFBWSxzQkFHWDtBQUhELFdBQVksc0JBQXNCO0lBQ2hDLCtDQUFxQixDQUFBO0lBQ3JCLG1EQUF5QixDQUFBO0FBQzNCLENBQUMsRUFIVyxzQkFBc0IsS0FBdEIsc0JBQXNCLFFBR2pDO0FBcUJELE1BQU0sQ0FBTixJQUFZLFVBR1g7QUFIRCxXQUFZLFVBQVU7SUFDcEIsaUNBQW1CLENBQUE7SUFDbkIsaUNBQW1CLENBQUE7QUFDckIsQ0FBQyxFQUhXLFVBQVUsS0FBVixVQUFVLFFBR3JCO0FBd1BELE1BQU0sQ0FBTixJQUFZLHNCQUlYO0FBSkQsV0FBWSxzQkFBc0I7SUFDaEMsK0NBQXFCLENBQUE7SUFDckIsbURBQXlCLENBQUE7SUFDekIsMkNBQWlCLENBQUE7QUFDbkIsQ0FBQyxFQUpXLHNCQUFzQixLQUF0QixzQkFBc0IsUUFJakM7QUFFRCxNQUFNLENBQU4sSUFBWSxnQkFHWDtBQUhELFdBQVksZ0JBQWdCO0lBQzFCLHFDQUFpQixDQUFBO0lBQ2pCLG1DQUFlLENBQUE7QUFDakIsQ0FBQyxFQUhXLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFHM0I7QUFrWEQsTUFBTSxDQUFOLElBQVksWUFHWDtBQUhELFdBQVksWUFBWTtJQUN0QiwyQkFBVyxDQUFBO0lBQ1gsMkJBQVcsQ0FBQTtBQUNiLENBQUMsRUFIVyxZQUFZLEtBQVosWUFBWSxRQUd2QjtBQUVELE1BQU0sQ0FBTixJQUFZLFlBU1g7QUFURCxXQUFZLFlBQVk7SUFDdEIsbURBQW1DLENBQUE7SUFDbkMsdUNBQXVCLENBQUE7SUFDdkIscUNBQXFCLENBQUE7SUFDckIsaUNBQWlCLENBQUE7SUFDakIsdUJBQU8sQ0FBQTtJQUNQLHVCQUFPLENBQUE7SUFDUCx1QkFBTyxDQUFBO0lBQ1AsdUJBQU8sQ0FBQTtBQUNULENBQUMsRUFUVyxZQUFZLEtBQVosWUFBWSxRQVN2QjtBQUVELE1BQU0sQ0FBTixJQUFZLGFBR1g7QUFIRCxXQUFZLGFBQWE7SUFDdkIsNEJBQVcsQ0FBQTtJQUNYLDhCQUFhLENBQUE7QUFDZixDQUFDLEVBSFcsYUFBYSxLQUFiLGFBQWEsUUFHeEIifQ==","import { InMemoryCache, IntrospectionFragmentMatcher, } from \"apollo-cache-inmemory\";\nimport introspectionQueryResultData from \"./fragmentTypes.json\";\nconst fragmentMatcher = new IntrospectionFragmentMatcher({\n    introspectionQueryResultData,\n});\nconst inMemoryCache = new InMemoryCache({ fragmentMatcher, addTypename: true });\nexport default inMemoryCache;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5NZW1vcnlDYWNoZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hcG9sbG8vaW5NZW1vcnlDYWNoZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsYUFBYSxFQUNiLDRCQUE0QixHQUM3QixNQUFNLHVCQUF1QixDQUFDO0FBRS9CLE9BQU8sNEJBQTRCLE1BQU0sc0JBQXNCLENBQUM7QUFFaEUsTUFBTSxlQUFlLEdBQUcsSUFBSSw0QkFBNEIsQ0FBQztJQUN2RCw0QkFBNEI7Q0FDN0IsQ0FBQyxDQUFDO0FBRUgsTUFBTSxhQUFhLEdBQUcsSUFBSSxhQUFhLENBQUMsRUFBRSxlQUFlLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7QUFFaEYsZUFBZSxhQUFhLENBQUMifQ==","const resolvers = {};\nexport default resolvers;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Fwb2xsby9yZXNvbHZlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxTQUFTLEdBQWEsRUFBRSxDQUFDO0FBRS9CLGVBQWUsU0FBUyxDQUFDIn0=","import { BatchHttpLink } from 'apollo-link-batch-http';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { ApolloLink } from 'apollo-link';\nimport { onError } from 'apollo-link-error';\nimport { getMainDefinition } from 'apollo-utilities';\nconst batchHttpLink = new BatchHttpLink({\n    uri: '/graphql',\n    credentials: 'same-origin',\n});\nconst wsLink = new WebSocketLink({\n    uri: `ws://${window.location.host}/graphql`,\n    options: {\n        reconnect: true\n    }\n});\nconst link = ApolloLink.from([\n    onError(({ graphQLErrors, networkError }) => {\n        if (graphQLErrors)\n            graphQLErrors.forEach(({ message, locations, path }) => console.error(`[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`));\n        if (networkError)\n            console.log(`[Network error]: ${networkError}`);\n    }),\n    ApolloLink.split(({ query }) => {\n        const def = getMainDefinition(query);\n        return def.kind === 'OperationDefinition'\n            && def.operation === 'subscription';\n    }, wsLink, batchHttpLink)\n]);\nexport default link;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGluay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hcG9sbG8vbGluay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDdkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDekMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRXJELE1BQU0sYUFBYSxHQUFHLElBQUksYUFBYSxDQUFDO0lBQ3RDLEdBQUcsRUFBRSxVQUFVO0lBQ2YsV0FBVyxFQUFFLGFBQWE7Q0FDM0IsQ0FBQyxDQUFDO0FBRUgsTUFBTSxNQUFNLEdBQUcsSUFBSSxhQUFhLENBQUM7SUFDL0IsR0FBRyxFQUFFLFFBQVEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLFVBQVU7SUFDM0MsT0FBTyxFQUFFO1FBQ1AsU0FBUyxFQUFFLElBQUk7S0FDaEI7Q0FDRixDQUFDLENBQUM7QUFFSCxNQUFNLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO0lBQzNCLE9BQU8sQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUU7UUFDMUMsSUFBSSxhQUFhO1lBQ2YsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQ3JELE9BQU8sQ0FBQyxLQUFLLENBQ1gsNkJBQTZCLE9BQU8sZUFBZSxTQUFTLFdBQVcsSUFBSSxFQUFFLENBQzlFLENBQ0YsQ0FBQztRQUNKLElBQUksWUFBWTtZQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLFlBQVksRUFBRSxDQUFDLENBQUM7SUFDcEUsQ0FBQyxDQUFDO0lBQ0YsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLEVBQUUsRUFBRTtRQUMzQixNQUFNLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxPQUFPLEdBQUcsQ0FBQyxJQUFJLEtBQUsscUJBQXFCO2VBQ3BDLEdBQUcsQ0FBQyxTQUFTLEtBQUssY0FBYyxDQUFDO0lBQ3hDLENBQUMsRUFBQyxNQUFNLEVBQUUsYUFBYSxDQUFDO0NBRXpCLENBQUMsQ0FBQztBQUVILGVBQWUsSUFBSSxDQUFDIn0=","import { ApolloClient } from \"apollo-client\";\nimport cache from \"./inMemoryCache\";\nimport resolvers from \"./resolvers\";\nimport link from \"./link\";\nexport default new ApolloClient({\n    link,\n    cache,\n    resolvers,\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBvbGxvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Fwb2xsby9hcG9sbG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU3QyxPQUFPLEtBQUssTUFBTSxpQkFBaUIsQ0FBQztBQUNwQyxPQUFPLFNBQVMsTUFBTSxhQUFhLENBQUM7QUFDcEMsT0FBTyxJQUFJLE1BQU0sUUFBUSxDQUFDO0FBRTFCLGVBQWUsSUFBSSxZQUFZLENBQUM7SUFDOUIsSUFBSTtJQUNKLEtBQUs7SUFDTCxTQUFTO0NBQ1YsQ0FBQyxDQUFDIn0=","import gql from \"graphql-tag\";\nexport const JOURNAL_ENTRY_PAY_METHOD_FRAGMENT = gql `\n  fragment JournalEntryPayMethod_1Fragment on PaymentMethod {\n    __typename\n    id\n    name\n    parent {\n      __typename\n      id\n    }\n  }\n`;\nexport const JOURNAL_ENTRY_CATEGORY_FRAGMENT = gql `\n  fragment JournalEntryCategory_1Fragment on JournalEntryCategory {\n    __typename\n    id\n    type\n    name\n  }\n`;\nexport const JOURNAL_ENTRY_DEPT_FRAGMENT = gql `\n  fragment JournalEntryDept_1Fragment on Department {\n    __typename\n    id\n    name\n    ancestors {\n      __typename\n      ... on Business {\n        id\n        bizName: name\n      }\n      ... on Department {\n        id\n        deptName: name\n      }\n    }\n  }\n`;\nexport const JOURNAL_ENTRY_REFUND = gql `\n  fragment JournalEntryRefund_1Fragment on JournalEntryRefund {\n    __typename\n    id\n    date\n    description\n    total {\n      n\n      d\n      s\n    }\n    paymentMethod {\n      ...JournalEntryPayMethod_1Fragment\n    }\n    reconciled\n    lastUpdate\n    deleted\n  }\n  ${JOURNAL_ENTRY_PAY_METHOD_FRAGMENT}\n`;\nexport const JOURNAL_ENTRY_ITEM = gql `\n  fragment JournalEntryItem_1Fragment on JournalEntryItem {\n    __typename\n    id\n    category {\n      ...JournalEntryCategory_1Fragment\n    }\n    department {\n      ...JournalEntryDept_1Fragment\n    }\n    total {\n      n\n      d\n      s\n    }\n    units\n    description\n    lastUpdate\n    deleted\n  }\n  ${JOURNAL_ENTRY_CATEGORY_FRAGMENT}\n  ${JOURNAL_ENTRY_DEPT_FRAGMENT}\n`;\nexport const JOURNAL_ENTRY_FRAGMENT = gql `\n  fragment JournalEntry_1Fragment on JournalEntry {\n    __typename\n    id\n    date\n    dateOfRecord {\n      date\n      overrideFiscalYear\n    }\n    department {\n      __typename\n      id\n      name\n      ancestors {\n        __typename\n        ... on Business {\n          id\n          bizName: name\n        }\n        ... on Department {\n          id\n          deptName: name\n        }\n      }\n    }\n    type\n    category {\n      ...JournalEntryCategory_1Fragment\n    }\n    department {\n      ...JournalEntryDept_1Fragment\n    }\n    description\n    paymentMethod {\n      ...JournalEntryPayMethod_1Fragment\n    }\n    source {\n      __typename\n      ... on Person {\n        id\n        name {\n          first\n          last\n        }\n      }\n      ... on Business {\n        id\n        bizName: name\n      }\n      ... on Department {\n        id\n        deptName: name\n      }\n    }\n    total {\n      n\n      d\n      s\n    }\n    refunds {\n      ...JournalEntryRefund_1Fragment\n    }\n    items {\n      ...JournalEntryItem_1Fragment\n    }\n    deleted\n    lastUpdate\n    reconciled\n  }\n  ${JOURNAL_ENTRY_PAY_METHOD_FRAGMENT}\n  ${JOURNAL_ENTRY_DEPT_FRAGMENT}\n  ${JOURNAL_ENTRY_CATEGORY_FRAGMENT}\n  ${JOURNAL_ENTRY_REFUND}\n  ${JOURNAL_ENTRY_ITEM}\n`;\nexport const JOURNAL_ENTRIES = gql `\n  query JournalEntries_1($where: JournalEntiresWhere!) {\n    journalEntries(where: $where)\n      @connection(key: \"JournalEntries_1\", filter: [\"where\"]) {\n      ...JournalEntry_1Fragment\n    }\n    fiscalYears {\n      __typename\n      id\n      name\n      begin\n      end\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nexport const JOURNAL_ENTRY_ADDED_SUB = gql `\n  subscription JournalEntryAdded_1 {\n    journalEntryAdded {\n      ...JournalEntry_1Fragment\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nexport const JOURNAL_ENTRY_UPDATED_SUB = gql `\n  subscription JournalEntryUpdated_1 {\n    journalEntryUpdated {\n      ...JournalEntry_1Fragment\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSm91cm5hbEVudHJpZXMuZ3FsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9UYWJsZS9Kb3VybmFsRW50cmllcy5ncWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBRTlCLE1BQU0sQ0FBQyxNQUFNLGlDQUFpQyxHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7OztDQVVuRCxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sK0JBQStCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7O0NBT2pELENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSwyQkFBMkIsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUI3QyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFrQm5DLGlDQUFpQztDQUNwQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW9CakMsK0JBQStCO0lBQy9CLDJCQUEyQjtDQUM5QixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFxRXJDLGlDQUFpQztJQUNqQywyQkFBMkI7SUFDM0IsK0JBQStCO0lBQy9CLG9CQUFvQjtJQUNwQixrQkFBa0I7Q0FDckIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7O0lBYzlCLHNCQUFzQjtDQUN6QixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7SUFNdEMsc0JBQXNCO0NBQ3pCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxHQUFHLENBQUE7Ozs7OztJQU14QyxzQkFBc0I7Q0FDekIsQ0FBQyJ9","export const CHECK_ID = \"5dc46d0af74afb2c2805bd54\";\nexport const CREDIT_ID = \"5dc46d0af74afb2c2805bd55\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9jb25zdGFudHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLDBCQUEwQixDQUFDO0FBQ25ELE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRywwQkFBMEIsQ0FBQyJ9","/* eslint-disable react/display-name */\nimport React, { forwardRef } from \"react\";\nimport { AddBox, ArrowDownward, Check, ChevronLeft, ChevronRight, Clear, DeleteOutline, Edit, FilterList, FirstPage, LastPage, Remove, SaveAlt, Search, ViewColumn, } from \"@material-ui/icons\";\nconst tableIcons = {\n    Add: forwardRef((props, ref) => (React.createElement(AddBox, Object.assign({}, props, { ref: ref })))),\n    Check: forwardRef((props, ref) => (React.createElement(Check, Object.assign({}, props, { ref: ref })))),\n    Clear: forwardRef((props, ref) => (React.createElement(Clear, Object.assign({}, props, { ref: ref })))),\n    Delete: forwardRef((props, ref) => (React.createElement(DeleteOutline, Object.assign({}, props, { ref: ref })))),\n    DetailPanel: forwardRef((props, ref) => (React.createElement(ChevronRight, Object.assign({}, props, { ref: ref })))),\n    Edit: forwardRef((props, ref) => (React.createElement(Edit, Object.assign({}, props, { ref: ref })))),\n    Export: forwardRef((props, ref) => (React.createElement(SaveAlt, Object.assign({}, props, { ref: ref })))),\n    Filter: forwardRef((props, ref) => (React.createElement(FilterList, Object.assign({}, props, { ref: ref })))),\n    FirstPage: forwardRef((props, ref) => (React.createElement(FirstPage, Object.assign({}, props, { ref: ref })))),\n    LastPage: forwardRef((props, ref) => (React.createElement(LastPage, Object.assign({}, props, { ref: ref })))),\n    NextPage: forwardRef((props, ref) => (React.createElement(ChevronRight, Object.assign({}, props, { ref: ref })))),\n    PreviousPage: forwardRef((props, ref) => (React.createElement(ChevronLeft, Object.assign({}, props, { ref: ref })))),\n    ResetSearch: forwardRef((props, ref) => (React.createElement(Clear, Object.assign({}, props, { ref: ref })))),\n    Search: forwardRef((props, ref) => (React.createElement(Search, Object.assign({}, props, { ref: ref })))),\n    SortArrow: forwardRef((props, ref) => (React.createElement(ArrowDownward, Object.assign({}, props, { ref: ref })))),\n    ThirdStateCheck: forwardRef((props, ref) => (React.createElement(Remove, Object.assign({}, props, { ref: ref })))),\n    ViewColumn: forwardRef((props, ref) => (React.createElement(ViewColumn, Object.assign({}, props, { ref: ref })))),\n};\nexport default tableIcons;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0ZXJpYWxUYWJsZUljb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvdXRpbHMvbWF0ZXJpYWxUYWJsZUljb25zLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx1Q0FBdUM7QUFDdkMsT0FBTyxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFFMUMsT0FBTyxFQUNMLE1BQU0sRUFDTixhQUFhLEVBQ2IsS0FBSyxFQUNMLFdBQVcsRUFDWCxZQUFZLEVBQ1osS0FBSyxFQUNMLGFBQWEsRUFDYixJQUFJLEVBQ0osVUFBVSxFQUNWLFNBQVMsRUFDVCxRQUFRLEVBQ1IsTUFBTSxFQUNOLE9BQU8sRUFDUCxNQUFNLEVBQ04sVUFBVSxHQUNYLE1BQU0sb0JBQW9CLENBQUM7QUFFNUIsTUFBTSxVQUFVLEdBQUc7SUFDakIsR0FBRyxFQUFFLFVBQVUsQ0FBZ0IsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUM3QyxvQkFBQyxNQUFNLG9CQUFLLEtBQUssSUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQ2hDLENBQUM7SUFDRixLQUFLLEVBQUUsVUFBVSxDQUFnQixDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQy9DLG9CQUFDLEtBQUssb0JBQUssS0FBSyxJQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FDL0IsQ0FBQztJQUNGLEtBQUssRUFBRSxVQUFVLENBQWdCLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FDL0Msb0JBQUMsS0FBSyxvQkFBSyxLQUFLLElBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUMvQixDQUFDO0lBQ0YsTUFBTSxFQUFFLFVBQVUsQ0FBZ0IsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUNoRCxvQkFBQyxhQUFhLG9CQUFLLEtBQUssSUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJ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","import gql from \"graphql-tag\";\nimport { JOURNAL_ENTRY_REFUND } from \"../../Table/JournalEntries.gql\";\nconst ADD_REFUND = gql `\n  mutation AddEntryRefund(\n    $id: ID!\n    $fields: JournalEntryAddRefundFields!\n    $paymentMethodAdd: PaymentMethodAddFields\n  ) {\n    journalEntryAddRefund(\n      id: $id\n      fields: $fields\n      paymentMethodAdd: $paymentMethodAdd\n    ) {\n      id\n      __typename\n      refunds {\n        ...JournalEntryRefund_1Fragment\n      }\n    }\n  }\n  ${JOURNAL_ENTRY_REFUND}\n`;\nconst submitAdd = async (client, id, values) => {\n    var _a, _b;\n    const { paymentMethod, paymentMethodAdd } = (() => {\n        const payMethod = values.paymentMethod.value[values.paymentMethod.value.length - 1];\n        // New Payment Method\n        if (typeof payMethod === \"string\") {\n            const parent = values.paymentMethod.value[values.paymentMethod.value.length - 2].id;\n            return {\n                paymentMethod: \"\",\n                paymentMethodAdd: {\n                    parent,\n                    refId: payMethod,\n                    name: payMethod,\n                    active: false,\n                },\n            };\n        }\n        return {\n            paymentMethod: payMethod.id,\n            paymentMethodAdd: null,\n        };\n    })();\n    const variables = {\n        id,\n        fields: {\n            date: values.date.value,\n            description: ((_a = values.description) === null || _a === void 0 ? void 0 : _a.trim()) ? values.description.trim()\n                : null,\n            paymentMethod,\n            total: values.total.value,\n            reconciled: (_b = values.reconciled) !== null && _b !== void 0 ? _b : null,\n        },\n        paymentMethodAdd,\n    };\n    await client.mutate({\n        mutation: ADD_REFUND,\n        variables,\n    });\n};\nexport default submitAdd;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VibWl0QWRkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvUmVmdW5kcy9zdWJtaXRBZGQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBVTlCLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBa0J0RSxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWtCbEIsb0JBQW9CO0NBQ3ZCLENBQUM7QUFFRixNQUFNLFNBQVMsR0FJd0MsS0FBSyxFQUMxRCxNQUFNLEVBQ04sRUFBRSxFQUNGLE1BQU0sRUFDTixFQUFFOztJQUNGLE1BQU0sRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRTtRQUNoRCxNQUFNLFNBQVMsR0FDYixNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFcEUscUJBQXFCO1FBQ3JCLElBQUksT0FBTyxTQUFTLEtBQUssUUFBUSxFQUFFO1lBQ2pDLE1BQU0sTUFBTSxHQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUN4QyxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUNSLENBQUMsRUFBRSxDQUFDO1lBRW5DLE9BQU87Z0JBQ0wsYUFBYSxFQUFFLEVBQUU7Z0JBQ2pCLGdCQUFnQixFQUFFO29CQUNoQixNQUFNO29CQUNOLEtBQUssRUFBRSxTQUFTO29CQUNoQixJQUFJLEVBQUUsU0FBUztvQkFDZixNQUFNLEVBQUUsS0FBSztpQkFDZDthQUNGLENBQUM7U0FDSDtRQUVELE9BQU87WUFDTCxhQUFhLEVBQUUsU0FBUyxDQUFDLEVBQUU7WUFDM0IsZ0JBQWdCLEVBQUUsSUFBSTtTQUN2QixDQUFDO0lBQ0osQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUVMLE1BQU0sU0FBUyxHQUEyRDtRQUN4RSxFQUFFO1FBQ0YsTUFBTSxFQUFFO1lBQ04sSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSztZQUN2QixXQUFXLEVBQUUsT0FBQSxNQUFNLENBQUMsV0FBVywwQ0FBRSxJQUFJLElBQ25DLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRTtnQkFDM0IsQ0FBQyxDQUFDLElBQUk7WUFDUixhQUFhO1lBQ2IsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSztZQUN6QixVQUFVLFFBQUUsTUFBTSxDQUFDLFVBQVUsbUNBQUksSUFBSTtTQUN0QztRQUNELGdCQUFnQjtLQUNqQixDQUFDO0lBRUYsTUFBTSxNQUFNLENBQUMsTUFBTSxDQUEyQjtRQUM1QyxRQUFRLEVBQUUsVUFBVTtRQUNwQixTQUFTO0tBQ1YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsZUFBZSxTQUFTLENBQUMifQ==","import { useFormikContext } from \"formik\";\nimport { useCallback } from \"react\";\nexport const createValueTransmutator = (transMutator) => (inputValue, ...rest) => ({\n    inputValue,\n    value: transMutator(inputValue, ...rest),\n});\nexport var FormikStatusType;\n(function (FormikStatusType) {\n    FormikStatusType[FormikStatusType[\"NOTIFICATION\"] = 0] = \"NOTIFICATION\";\n    FormikStatusType[FormikStatusType[\"ERROR\"] = 1] = \"ERROR\";\n    FormikStatusType[FormikStatusType[\"FATAL_ERROR\"] = 2] = \"FATAL_ERROR\";\n})(FormikStatusType || (FormikStatusType = {}));\nexport const useFormikStatus = () => {\n    const { setStatus: setStatusNative, status } = useFormikContext();\n    const setStatus = useCallback((args) => {\n        if (status) {\n            if (!args ||\n                Object.keys(args).some((key) => args[key] !== status[key])) {\n                setStatusNative(args);\n            }\n        }\n        else if (args) {\n            setStatusNative(args);\n        }\n    }, [setStatusNative, status]);\n    return [status !== null && status !== void 0 ? status : null, setStatus];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWlrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3V0aWxzL2Zvcm1pay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDMUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQU9wQyxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxDQUtyQyxZQUFpRSxFQUNqRSxFQUFFLENBQUMsQ0FDSCxVQUF1QixFQUN2QixHQUFHLElBQVcsRUFDMkIsRUFBRSxDQUMzQyxDQUFDO0lBQ0MsVUFBVTtJQUNWLEtBQUssRUFBRSxZQUFZLENBQUMsVUFBVSxFQUFFLEdBQUcsSUFBSSxDQUFDO0NBQ0csQ0FBQSxDQUFDO0FBRWhELE1BQU0sQ0FBTixJQUFZLGdCQUlYO0FBSkQsV0FBWSxnQkFBZ0I7SUFDMUIsdUVBQVksQ0FBQTtJQUNaLHlEQUFLLENBQUE7SUFDTCxxRUFBVyxDQUFBO0FBQ2IsQ0FBQyxFQUpXLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFJM0I7QUFPRCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsR0FHN0IsRUFBRTtJQUNGLE1BQU0sRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLE1BQU0sRUFBRSxHQUFHLGdCQUFnQixFQUFVLENBQUM7SUFFMUUsTUFBTSxTQUFTLEdBQUcsV0FBVyxDQUMzQixDQUFDLElBQXlCLEVBQUUsRUFBRTtRQUM1QixJQUFJLE1BQU0sRUFBRTtZQUNWLElBQ0UsQ0FBQyxJQUFJO2dCQUNMLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUNwQixDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQXlCLENBQUMsS0FBSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQ3pELEVBQ0Q7Z0JBQ0EsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3ZCO1NBQ0Y7YUFBTSxJQUFJLElBQUksRUFBRTtZQUNmLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN2QjtJQUNILENBQUMsRUFDRCxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUMsQ0FDMUIsQ0FBQztJQUVGLE9BQU8sQ0FBQyxNQUFNLGFBQU4sTUFBTSxjQUFOLE1BQU0sR0FBSSxJQUFJLEVBQUUsU0FBUyxDQUE0QyxDQUFDO0FBQ2hGLENBQUMsQ0FBQyJ9","import React, { useMemo, useCallback, useRef } from \"react\";\nimport { KeyboardDatePicker, MuiPickersUtilsProvider, } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { useField, useFormikContext } from \"formik\";\nimport { parseISO, min, isValid, formatISO, format } from \"date-fns\";\nimport { createValueTransmutator, useFormikStatus, FormikStatusType, } from \"../../../../utils/formik\";\nconst inputProps = {\n    inputMode: \"numeric\",\n};\nconst keyboardButtonProps = {\n    tabIndex: -1,\n};\nconst dateValueTransmutator = createValueTransmutator((...args) => {\n    const [date, value] = args;\n    if (date && isValid(date)) {\n        return formatISO(date);\n    }\n    return value || \"\";\n});\nconst DateField = (props) => {\n    var _a, _b, _c;\n    const { autoFocus = false, disabled = false, maxDate = new Date(), minDate, } = props;\n    const { variant: inputVariant = \"filled\", ...textFieldProps } = props;\n    const { isSubmitting } = useFormikContext();\n    const validate = useCallback((value) => {\n        const dateStr = ((value === null || value === void 0 ? void 0 : value.value) || \"\").trim();\n        if (dateStr) {\n            const date = parseISO(dateStr);\n            if (!isValid(date)) {\n                return \"Invalid Date\";\n            }\n            else if (minDate && date < minDate) {\n                return `Cannot be before ${format(minDate, \"MM/dd/yyyy\")}`;\n            }\n            else if (maxDate < date) {\n                return `Cannot be after ${format(maxDate, \"MM/dd/yyyy\")}`;\n            }\n        }\n        else {\n            return \"Date is Required\";\n        }\n    }, [minDate, maxDate]);\n    const [field, meta, helpers] = useField({\n        name: \"date\",\n        validate,\n    });\n    const value = (_b = (_a = field.value) === null || _a === void 0 ? void 0 : _a.inputValue) !== null && _b !== void 0 ? _b : null;\n    const { error, touched } = meta;\n    const { setValue, setTouched } = helpers;\n    const initialInputValue = (_c = meta.initialValue) === null || _c === void 0 ? void 0 : _c.inputValue;\n    const initialFocusedDate = useMemo(() => initialInputValue && isValid(initialInputValue)\n        ? initialInputValue\n        : new Date(), [initialInputValue]);\n    const InputProps = useMemo(() => ({\n        autoFocus,\n    }), [autoFocus]);\n    // Handle touched\n    const calOpen = useRef(false);\n    const onBlur = useCallback(() => setTimeout(() => {\n        if (calOpen.current) {\n            return;\n        }\n        setTouched(true);\n    }, 0), [setTouched, calOpen]);\n    const onOpen = useCallback(() => (calOpen.current = true), [calOpen]);\n    const onClose = useCallback(() => {\n        calOpen.current = false;\n        onBlur();\n    }, [calOpen, onBlur]);\n    const onChange = useCallback((date, value) => {\n        setValue(dateValueTransmutator(\n        // limit max date\n        date && isValid(date) ? min([new Date(), date]) : date, value));\n    }, [setValue]);\n    const [formikStatus] = useFormikStatus();\n    const dataPickerProps = useMemo(() => ({\n        ...field,\n        disabled: isSubmitting ||\n            disabled ||\n            (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR,\n        value,\n        error: touched && !!error,\n        helperText: touched ? error : undefined,\n        animateYearScrolling: true,\n        disableToolbar: true,\n        disableFuture: true,\n        inputVariant,\n        variant: \"inline\",\n        format: \"MM/dd/yyyy\",\n        margin: \"none\",\n        label: \"Date\",\n        initialFocusedDate,\n        autoOk: true,\n        InputProps,\n        inputProps,\n        placeholder: \"mm/dd/yyyy\",\n        KeyboardButtonProps: keyboardButtonProps,\n        onBlur,\n        onOpen,\n        onClose,\n        onChange,\n    }), [\n        value,\n        initialFocusedDate,\n        onBlur,\n        error,\n        inputVariant,\n        InputProps,\n        isSubmitting,\n        field,\n        onOpen,\n        onClose,\n        onChange,\n        touched,\n        disabled,\n        formikStatus,\n    ]);\n    return (React.createElement(MuiPickersUtilsProvider, { utils: DateFnsUtils },\n        React.createElement(KeyboardDatePicker, Object.assign({ maxDate: maxDate }, textFieldProps, dataPickerProps))));\n};\nexport default DateField;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0ZUVudHJ5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvRW50cnlGaWVsZHMvRGF0ZUVudHJ5LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQzVELE9BQU8sRUFDTCxrQkFBa0IsRUFFbEIsdUJBQXVCLEdBQ3hCLE1BQU0sc0JBQXNCLENBQUM7QUFDOUIsT0FBTyxZQUFZLE1BQU0sbUJBQW1CLENBQUM7QUFDN0MsT0FBTyxFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBbUIsTUFBTSxRQUFRLENBQUM7QUFFckUsT0FBTyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFckUsT0FBTyxFQUVMLHVCQUF1QixFQUN2QixlQUFlLEVBQ2YsZ0JBQWdCLEdBQ2pCLE1BQU0sMEJBQTBCLENBQUM7QUFFbEMsTUFBTSxVQUFVLEdBQUc7SUFDakIsU0FBUyxFQUFFLFNBQVM7Q0FDWixDQUFDO0FBRVgsTUFBTSxtQkFBbUIsR0FBRztJQUMxQixRQUFRLEVBQUUsQ0FBQyxDQUFDO0NBQ0osQ0FBQztBQUVYLE1BQU0scUJBQXFCLEdBQUcsdUJBQXVCLENBQ25ELENBQUMsR0FBRyxJQUFxRCxFQUFFLEVBQUU7SUFDM0QsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDM0IsSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3pCLE9BQU8sU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3hCO0lBQ0QsT0FBTyxLQUFLLElBQUksRUFBRSxDQUFDO0FBQ3JCLENBQUMsQ0FDRixDQUFDO0FBR0YsTUFBTSxTQUFTLEdBQUcsQ0FDaEIs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","import React, { useMemo, useCallback } from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport { useField } from \"formik\";\nimport { useFormikStatus, FormikStatusType } from \"../../../../utils/formik\";\nconst Description = (props) => {\n    var _a;\n    const { autoFocus = false, disabled = false, variant = \"filled\", ...textFieldProps } = props;\n    const [field, , { setValue }] = useField({\n        name: \"description\",\n    });\n    const onChange = useCallback((event) => { var _a, _b; return void setValue(((_b = (_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value) === null || _b === void 0 ? void 0 : _b.trimLeft()) || null); }, [setValue]);\n    const InputProps = useMemo(() => ({\n        type: \"text\",\n        autoFocus,\n    }), [autoFocus]);\n    const [formikStatus] = useFormikStatus();\n    return (React.createElement(TextField, Object.assign({}, textFieldProps, field, { disabled: disabled || (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR, onChange: onChange, value: (_a = field.value) !== null && _a !== void 0 ? _a : \"\", variant: variant, label: \"Description\", name: \"description\", InputProps: InputProps })));\n};\nexport default Description;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVzY3JpcHRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1Vwc2VydC9FbnRyeUZpZWxkcy9EZXNjcmlwdGlvbi50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxTQUFTLEVBQWtCLE1BQU0sbUJBQW1CLENBQUM7QUFDOUQsT0FBTyxFQUFFLFFBQVEsRUFBbUIsTUFBTSxRQUFRLENBQUM7QUFDbkQsT0FBTyxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRTdFLE1BQU0sV0FBVyxHQUFHLENBQ2xCLEtBWUMsRUFDWSxFQUFFOztJQUNmLE1BQU0sRUFDSixTQUFTLEdBQUcsS0FBSyxFQUNqQixRQUFRLEdBQUcsS0FBSyxFQUNoQixPQUFPLEdBQUcsUUFBUSxFQUNsQixHQUFHLGNBQWMsRUFDbEIsR0FBRyxLQUFLLENBQUM7SUFFVixNQUFNLENBQUMsS0FBSyxFQUFFLEFBQUQsRUFBRyxFQUFFLFFBQVEsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUE0QjtRQUNsRSxJQUFJLEVBQUUsYUFBYTtLQUNwQixDQUFDLENBQUM7SUFFSCxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQzFCLENBQUMsS0FBSyxFQUFFLEVBQUUsZUFBQyxPQUFBLEtBQUssUUFBUSxDQUFDLGFBQUEsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLE1BQU0sMENBQUUsS0FBSywwQ0FBRSxRQUFRLE9BQU0sSUFBSSxDQUFDLENBQUEsRUFBQSxFQUNsRSxDQUFDLFFBQVEsQ0FBQyxDQUNYLENBQUM7SUFFRixNQUFNLFVBQVUsR0FBRyxPQUFPLENBQ3hCLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDTCxJQUFJLEVBQUUsTUFBTTtRQUNaLFNBQVM7S0FDVixDQUFDLEVBQ0YsQ0FBQyxTQUFTLENBQUMsQ0FDWixDQUFDO0lBRUYsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLGVBQWUsRUFBRSxDQUFDO0lBRXpDLE9BQU8sQ0FDTCxvQkFBQyxTQUFTLG9CQUNKLGNBQWMsRUFDZCxLQUFLLElBQ1QsUUFBUSxFQUFFLFFBQVEsSUFBSSxDQUFBLFlBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxJQUFJLE1BQUssZ0JBQWdCLENBQUMsV0FBVyxFQUN6RSxRQUFRLEVBQUUsUUFBUSxFQUNsQixLQUFLLFFBQUUsS0FBSyxDQUFDLEtBQUssbUNBQUksRUFBRSxFQUN4QixPQUFPLEVBQUUsT0FBb0MsRUFDN0MsS0FBSyxFQUFFLGFBQWEsRUFDcEIsSUFBSSxFQUFFLGFBQWEsRUFDbkIsVUFBVSxFQUFFLFVBQVUsSUFDdEIsQ0FDSCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsZUFBZSxXQUFXLENBQUMifQ==","import Fraction from \"fraction.js\";\nimport { RationalSign } from \"../apollo/graphTypes\";\nexport const isRational = (rational) => typeof rational === \"object\" &&\n    rational !== null &&\n    \"s\" in rational &&\n    \"n\" in rational &&\n    \"d\" in rational;\nexport const fractionToRational = (fraction) => ({\n    n: Math.abs(fraction.n),\n    d: Math.abs(fraction.d),\n    s: fraction.s === -1 ? RationalSign.Neg : RationalSign.Pos,\n});\nexport const rationalToFraction = (rational) => new Fraction({\n    n: rational.s === RationalSign.Neg\n        ? -Math.abs(rational.n)\n        : Math.abs(rational.n),\n    d: Math.abs(rational.d),\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmF0aW9uYWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdXRpbHMvcmF0aW9uYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxRQUFRLE1BQU0sYUFBYSxDQUFDO0FBRW5DLE9BQU8sRUFBRSxZQUFZLEVBQTJCLE1BQU0sc0JBQXNCLENBQUM7QUFFN0UsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsUUFBaUIsRUFBVyxFQUFFLENBQ3ZELE9BQU8sUUFBUSxLQUFLLFFBQVE7SUFDNUIsUUFBUSxLQUFLLElBQUk7SUFDakIsR0FBRyxJQUFJLFFBQVE7SUFDZixHQUFHLElBQUksUUFBUTtJQUNmLEdBQUcsSUFBSSxRQUFRLENBQUM7QUFFbEIsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FDaEMsUUFBd0QsRUFDVixFQUFFLENBQUMsQ0FBQztJQUNsRCxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3ZCLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdkIsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxHQUFHO0NBQzNELENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQ2hDLFFBQWtDLEVBQ3hCLEVBQUUsQ0FDWixJQUFJLFFBQVEsQ0FBQztJQUNYLENBQUMsRUFDQyxRQUFRLENBQUMsQ0FBQyxLQUFLLFlBQVksQ0FBQyxHQUFHO1FBQzdCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUN2QixDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Q0FDeEIsQ0FBQyxDQUFDIn0=","import React, { useMemo, useCallback } from \"react\";\nimport { TextField, InputAdornment } from \"@material-ui/core\";\nimport { useField } from \"formik\";\nimport numeral from \"numeral\";\nimport Fraction from \"fraction.js\";\nimport { createValueTransmutator, useFormikStatus, FormikStatusType, } from \"../../../../utils/formik\";\nimport { fractionToRational, rationalToFraction, } from \"../../../../utils/rational\";\nconst inputProps = {\n    min: \"0.00\",\n    step: \"0.01\",\n};\nexport const totalValueTransmutator = createValueTransmutator((inputValue) => {\n    if (typeof inputValue === \"string\" && !inputValue.trim()) {\n        return fractionToRational(new Fraction(0));\n    }\n    return fractionToRational(new Fraction(inputValue).round(2));\n});\nconst Total = (props) => {\n    var _a, _b;\n    const { autoFocus = false, disabled = false, variant = \"filled\", maxTotal = new Fraction(Number.MAX_SAFE_INTEGER), minTotal: minTotalProp = new Fraction(0), ...textFieldProps } = props;\n    const minTotal = new Fraction(1, 100).compare(minTotalProp) > 0\n        ? new Fraction(1, 100)\n        : minTotalProp;\n    // Math.max(0.01, minTotalProp);\n    const validate = useCallback((value) => {\n        var _a, _b;\n        if (!value || !((_b = (_a = value.inputValue) === null || _a === void 0 ? void 0 : _a.trim()) !== null && _b !== void 0 ? _b : \"\")) {\n            return \"Total Required\";\n        }\n        const num = rationalToFraction(value.value);\n        if (Number.isNaN(Number.parseInt(value.inputValue))) {\n            return \"Invalid Number\";\n        }\n        else if (num.compare(maxTotal) > 0) {\n            return `Cannot be greater than ${numeral(maxTotal.valueOf()).format(\"$0,0.00\")}`;\n        }\n        else if (num.compare(new Fraction(0)) === 0) {\n            return \"Cannot be 0\";\n        }\n        else if (num.compare(minTotal) < 0) {\n            return `Cannot be less than ${numeral(minTotal.valueOf()).format(\"$0,0.00\")}`;\n        }\n    }, [minTotal, maxTotal]);\n    const [field, meta, { setValue }] = useField({\n        name: \"total\",\n        validate,\n    });\n    const inputValue = (_b = (_a = field.value) === null || _a === void 0 ? void 0 : _a.inputValue) !== null && _b !== void 0 ? _b : \"\";\n    const { error, touched } = meta;\n    const InputProps = useMemo(() => ({\n        type: \"number\",\n        autoFocus,\n        startAdornment: React.createElement(InputAdornment, { position: \"start\" }, \"$\"),\n    }), [autoFocus]);\n    const onChange = useCallback((event) => {\n        var _a, _b;\n        setValue(totalValueTransmutator(((_b = (_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value) === null || _b === void 0 ? void 0 : _b.toString()) || \"\"));\n    }, [setValue]);\n    const helperText = useMemo(() => {\n        const maxSafe = new Fraction(Number.MAX_SAFE_INTEGER);\n        const minValid = new Fraction(1, 100);\n        if (touched && error) {\n            return error;\n        }\n        else if (maxTotal.compare(maxSafe) !== 0 &&\n            minTotal.compare(minValid) > 0) {\n            return `Max ${numeral(maxTotal.valueOf()).format(\"$0,0.00\")} & Min ${numeral(minTotal.valueOf()).format(\"$0,0.00\")}`;\n        }\n        else if (maxTotal.compare(maxSafe) !== 0) {\n            return `Max ${numeral(maxTotal.valueOf()).format(\"$0,0.00\")}`;\n        }\n        else if (minTotal.compare(minValid) > 0) {\n            return `Min ${numeral(minTotal.valueOf()).format(\"$0,0.00\")}`;\n        }\n        else {\n            return \"\";\n        }\n    }, [touched, error, maxTotal, minTotal]);\n    const [formikStatus] = useFormikStatus();\n    return (React.createElement(TextField, Object.assign({}, textFieldProps, field, { disabled: disabled || (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR, type: \"number\", value: inputValue, error: touched && !!error, helperText: helperText, placeholder: \"0.00\", label: \"Total\", name: \"total\", required: true, variant: variant, inputProps: inputProps, InputProps: InputProps, onChange: onChange })));\n};\nexport default Total;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG90YWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1Vwc2VydC9FbnRyeUZpZWxkcy9Ub3RhbC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxTQUFTLEVBQWtCLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzlFLE9BQU8sRUFBRSxRQUFRLEVBQW1CLE1BQU0sUUFBUSxDQUFDO0FBQ25ELE9BQU8sT0FBTyxNQUFNLFNBQVMsQ0FBQztBQUM5QixPQUFPLFFBQVEsTUFBTSxhQUFhLENBQUM7QUFFbkMsT0FBTyxFQUNMLHVCQUF1QixFQUV2QixlQUFlLEVBQ2YsZ0JBQWdCLEdBQ2pCLE1BQU0sMEJBQTBCLENBQUM7QUFFbEMsT0FBTyxFQUNMLGtCQUFrQixFQUNsQixrQkFBa0IsR0FDbkIsTUFBTSw0QkFBNEIsQ0FBQztBQUlwQyxNQUFNLFVBQVUsR0FBRztJQUNqQixHQUFHLEVBQUUsTUFBTTtJQUNYLElBQUksRUFBRSxNQUFNO0NBQ0osQ0FBQztBQUVYLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLHVCQUF1QixDQUMzRCxDQUFDLFVBQWtCLEVBQUUsRUFBRTtJQUNyQixJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUN4RCxPQUFPLGtCQUFrQixDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDNUM7SUFDRCxPQUFPLGtCQUFrQixDQUN2QixJQUFJLFFBQVEsQ0FBQyxVQUE2QixDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUNyRCxDQUFDO0FBQ0osQ0FBQyxDQUNGLENBQUM7QUFFRixNQUFNLEtBQUssR0FBRyxDQUNaLEtBb0JDLEVBQ1ksRUFBRTs7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","import React from \"react\";\nimport { Checkbox, FormControlLabel, } from \"@material-ui/core\";\nimport { useField } from \"formik\";\nimport { useFormikStatus, FormikStatusType } from \"../../../../utils/formik\";\nconst inputProps = {\n    type: \"checkbox\",\n};\nconst Reconcile = (props) => {\n    var _a;\n    const { label, disabled = false, ...customProps } = props;\n    const [field] = useField({\n        name: \"reconciled\",\n        type: \"checkbox\",\n    });\n    const value = (_a = field.value) !== null && _a !== void 0 ? _a : false;\n    const [formikStatus] = useFormikStatus();\n    if (label) {\n        return (React.createElement(FormControlLabel\n        // TS is having trouble with DOMAttributes<T>\n        , Object.assign({}, customProps, field, { value: value, disabled: disabled || (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR, label: \"Reconcile\", control: React.createElement(Checkbox, { inputProps: inputProps }) })));\n    }\n    return (React.createElement(Checkbox\n    // TS is having trouble with DOMAttributes<T>\n    , Object.assign({}, customProps, field, { value: value, disabled: disabled || (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR, inputProps: inputProps })));\n};\nexport default Reconcile;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVjb25jaWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvRW50cnlGaWVsZHMvUmVjb25jaWxlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDMUIsT0FBTyxFQUNMLFFBQVEsRUFDUixnQkFBZ0IsR0FHakIsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsUUFBUSxFQUFtQixNQUFNLFFBQVEsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFN0UsTUFBTSxVQUFVLEdBQUc7SUFDakIsSUFBSSxFQUFFLFVBQVU7Q0FDUixDQUFDO0FBRVgsTUFBTSxTQUFTLEdBQUcsQ0FDaEIsS0FnQk0sRUFDTyxFQUFFOztJQUNmLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxHQUFHLEtBQUssRUFBRSxHQUFHLFdBQVcsRUFBRSxHQUFHLEtBQUssQ0FBQztJQUUxRCxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsUUFBUSxDQUFzQjtRQUM1QyxJQUFJLEVBQUUsWUFBWTtRQUNsQixJQUFJLEVBQUUsVUFBVTtLQUNqQixDQUFDLENBQUM7SUFFSCxNQUFNLEtBQUssU0FBRyxLQUFLLENBQUMsS0FBSyxtQ0FBSSxLQUFLLENBQUM7SUFFbkMsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLGVBQWUsRUFBRSxDQUFDO0lBRXpDLElBQUksS0FBSyxFQUFFO1FBQ1QsT0FBTyxDQUNMLG9CQUFDLGdCQUFnQjtRQUNmLDZDQUE2Qzs0QkFDeEMsV0FBdUIsRUFDeEIsS0FBSyxJQUNULEtBQUssRUFBRSxLQUFLLEVBQ1osUUFBUSxFQUNOLFFBQVEsSUFBSSxDQUFBLFlBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxJQUFJLE1BQUssZ0JBQWdCLENBQUMsV0FBVyxFQUVqRSxLQUFLLEVBQUMsV0FBVyxFQUNqQixPQUFPLEVBQUUsb0JBQUMsUUFBUSxJQUFDLFVBQVUsRUFBRSxVQUFVLEdBQUksSUFDN0MsQ0FDSCxDQUFDO0tBQ0g7SUFFRCxPQUFPLENBQ0wsb0JBQUMsUUFBUTtJQUNQLDZDQUE2Qzt3QkFDeEMsV0FBdUIsRUFDeEIsS0FBSyxJQUNULEtBQUssRUFBRSxLQUFLLEVBQ1osUUFBUSxFQUFFLFFBQVEsSUFBSSxDQUFBLFlBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxJQUFJLE1BQUssZ0JBQWdCLENBQUMsV0FBVyxFQUN6RSxVQUFVLEVBQUUsVUFBVSxJQUN0QixDQUNILENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLFNBQVMsQ0FBQyJ9","import gql from \"graphql-tag\";\nexport const FISCAL_YEAR = gql `\n  query FiscalYear($date: String) {\n    fiscalYears(where: { hasDate: { eq: $date } }) {\n      __typename\n      id\n    }\n  }\n`;\nexport const DEPT_ENTRY_OPT_FRAGMENT = gql `\n  fragment DeptEntryOptFragment on Department {\n    __typename\n    id\n    name\n    budgets {\n      id\n      __typename\n      fiscalYear {\n        __typename\n        id\n      }\n    }\n    parent {\n      __typename\n      ... on Business {\n        id\n      }\n      ... on Department {\n        id\n      }\n    }\n  }\n`;\nexport const CAT_ENTRY_OPT_FRAGMENT = gql `\n  fragment CatEntryOptFragment on JournalEntryCategory {\n    __typename\n    id\n    name\n    type\n    parent {\n      __typename\n      id\n    }\n  }\n`;\nexport const SRC_ENTRY_PERSON_OPT_FRAGMENT = gql `\n  fragment SrcEntryPersonOptFragment on Person {\n    __typename\n    id\n    personName: name {\n      first\n      last\n    }\n  }\n`;\nexport const SRC_ENTRY_DEPT_OPT_FRAGMENT = gql `\n  fragment SrcEntryDeptOptFragment on Department {\n    __typename\n    id\n    name\n    parent {\n      ... on Business {\n        __typename\n        id\n      }\n      ... on Department {\n        __typename\n        id\n      }\n    }\n  }\n`;\nexport const SRC_ENTRY_BIZ_OPT_FRAGMENT = gql `\n  fragment SrcEntryBizOptFragment on Business {\n    __typename\n    id\n    name\n    vendor {\n      approved\n      vendorId\n    }\n    departments {\n      ...SrcEntryDeptOptFragment\n    }\n  }\n  ${SRC_ENTRY_DEPT_OPT_FRAGMENT}\n`;\nexport const PAY_METHOD_ENTRY_OPT_FRAGMENT = gql `\n  fragment PayMethodEntryOptFragment on PaymentMethod {\n    __typename\n    id\n    refId\n    name\n    active\n    parent {\n      __typename\n      id\n    }\n  }\n`;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBzZXJ0RW50cnkuZ3FsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvdXBzZXJ0RW50cnkuZ3FsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQUU5QixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFBOzs7Ozs7O0NBTzdCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBdUJ6QyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7OztDQVd4QyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sNkJBQTZCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Q0FTL0MsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLDJCQUEyQixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7OztDQWdCN0MsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7OztJQWF6QywyQkFBMkI7Q0FDOUIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLDZCQUE2QixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7O0NBWS9DLENBQUMifQ==","import React, { useMemo, useState, useCallback } from \"react\";\nimport { TextField, Box, Chip } from \"@material-ui/core\";\nimport gql from \"graphql-tag\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { useField } from \"formik\";\nimport { PAY_METHOD_ENTRY_OPT_FRAGMENT } from \"../upsertEntry.gql\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { ChevronRight } from \"@material-ui/icons\";\nimport { CHECK_ID } from \"../../constants\";\nimport { useFormikStatus, FormikStatusType, } from \"../../../../utils/formik\";\nconst PAY_METHOD_ENTRY_OPTS = gql `\n  query PayMethodEntryOpts($where: PaymentMethodWhereInput!) {\n    paymentMethods(where: $where) {\n      ...PayMethodEntryOptFragment\n    }\n  }\n  ${PAY_METHOD_ENTRY_OPT_FRAGMENT}\n`;\nconst validate = (payMethodValue) => {\n    var _a, _b;\n    const value = (_a = payMethodValue === null || payMethodValue === void 0 ? void 0 : payMethodValue.value) !== null && _a !== void 0 ? _a : [];\n    const numValues = value.length;\n    const curValue = value[numValues - 1];\n    const parent = value[numValues - 2];\n    if (curValue === undefined) {\n        return \"Method Required\";\n    }\n    else if (typeof curValue === \"string\") {\n        if ((parent === null || parent === void 0 ? void 0 : parent.id) === CHECK_ID) {\n            const checkNumber = ((_b = curValue.match(/[0-9]/g)) !== null && _b !== void 0 ? _b : []).join(\"\");\n            if (!checkNumber) {\n                return \"Check # Required\";\n            }\n        }\n    }\n    else if (curValue.id === CHECK_ID) {\n        return \"Check # Required\";\n    }\n};\nconst getOptionLabel = (opt) => {\n    return typeof opt === \"string\" ? opt : opt.name;\n};\nconst renderTags = (values, getTagProps) => {\n    const lastIndex = values.length - 1;\n    return values.map((value, index) => {\n        const isLastIndex = lastIndex === index;\n        const { key, ...props } = getTagProps({ index });\n        const parent = values[index - 1];\n        const isString = typeof value === \"string\";\n        let label;\n        switch (parent === null || parent === void 0 ? void 0 : parent.id) {\n            case CHECK_ID:\n                label =\n                    \"CK-\" +\n                        (isString ? value : value.name);\n                break;\n            default:\n                label = getOptionLabel(value);\n        }\n        let endAdornment;\n        if (!isLastIndex) {\n            endAdornment = React.createElement(ChevronRight, { fontSize: \"small\" });\n        }\n        else if (!isString) {\n            // Add Prefixes\n            switch (value.id) {\n                case CHECK_ID:\n                    endAdornment = React.createElement(\"span\", null, \"CK-\");\n                    break;\n            }\n        }\n        return (React.createElement(Box, { key: key, display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"flex-start\" },\n            React.createElement(Chip, Object.assign({ color: isLastIndex ? \"primary\" : \"default\", variant: isLastIndex ? \"default\" : \"outlined\", label: label, size: \"medium\" }, props, { disabled: !isLastIndex })),\n            \" \",\n            endAdornment));\n    });\n};\nconst PaymentMethod = (props) => {\n    var _a, _b, _c, _d, _e;\n    const { disabled = false, ...textFieldProps } = props;\n    const [hasFocus, setHasFocus] = useState(false);\n    const [field, meta, helpers] = useField({\n        name: \"paymentMethod\",\n        validate,\n    });\n    const onBlurField = field.onBlur;\n    const value = (_b = (_a = field.value) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : [];\n    const inputValue = (_d = (_c = field.value) === null || _c === void 0 ? void 0 : _c.inputValue) !== null && _d !== void 0 ? _d : \"\";\n    const { error, touched } = meta;\n    const { setValue } = helpers;\n    const curValue = (_e = value[value.length - 1]) !== null && _e !== void 0 ? _e : null;\n    const variables = useMemo(() => curValue === null\n        ? {\n            where: {\n                hasParent: false,\n            },\n        }\n        : {\n            where: {\n                parent: {\n                    eq: curValue.id,\n                },\n            },\n        }, [curValue]);\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((error) => void setFormikStatus({\n        msg: error.message,\n        type: FormikStatusType.FATAL_ERROR,\n    }), [setFormikStatus]);\n    const { loading, error: gqlError, data } = useQuery(PAY_METHOD_ENTRY_OPTS, {\n        skip: typeof curValue === \"string\",\n        variables,\n        onError,\n    });\n    const options = useMemo(() => !(data === null || data === void 0 ? void 0 : data.paymentMethods) ||\n        typeof curValue === \"string\" ||\n        (curValue === null || curValue === void 0 ? void 0 : curValue.id) === CHECK_ID\n        ? []\n        : data.paymentMethods, [data, curValue]);\n    const hasOptions = options.length > 0;\n    const freeSolo = useMemo(() => { var _a; return ((_a = curValue) === null || _a === void 0 ? void 0 : _a.id) === CHECK_ID; }, [curValue]);\n    const disableTextInput = useMemo(() => !hasOptions && !freeSolo, [\n        hasOptions,\n        freeSolo,\n    ]);\n    const label = useMemo(() => {\n        var _a;\n        if (typeof curValue === \"string\" ||\n            ((_a = curValue) === null || _a === void 0 ? void 0 : _a.id) === CHECK_ID) {\n            return \"Check #\";\n        }\n        return \"Payment Method\";\n    }, [curValue]);\n    const InputProps = useMemo(() => {\n        var _a;\n        if (((_a = curValue) === null || _a === void 0 ? void 0 : _a.id) === CHECK_ID) {\n            return {\n                type: \"number\",\n            };\n        }\n        return {};\n    }, [curValue]);\n    const inputProps = useMemo(() => {\n        var _a;\n        if (((_a = curValue) === null || _a === void 0 ? void 0 : _a.id) === CHECK_ID) {\n            return {\n                min: \"0\",\n                step: \"1\",\n            };\n        }\n        return {};\n    }, [curValue]);\n    const renderInput = useCallback((params) => {\n        var _a, _b;\n        params.InputProps = {\n            ...((_a = params.InputProps) !== null && _a !== void 0 ? _a : {}),\n            ...InputProps,\n        };\n        params.inputProps = {\n            ...((_b = params.inputProps) !== null && _b !== void 0 ? _b : {}),\n            ...inputProps,\n        };\n        const helperText = (() => {\n            if (gqlError) {\n                return gqlError.message;\n            }\n            else if (touched) {\n                return error;\n            }\n        })();\n        return (React.createElement(TextField, Object.assign({}, textFieldProps, params, { variant: (textFieldProps.variant || \"filled\"), error: (touched && !!error) || !!gqlError, helperText: helperText, name: \"paymentMethod\", label: label })));\n    }, [textFieldProps, touched, gqlError, error, label, InputProps, inputProps]);\n    const onFocus = useCallback(() => setHasFocus(true), [setHasFocus]);\n    const onBlur = useCallback((event) => {\n        setHasFocus(false);\n        // Fixes formik validate called with wrong version of value\n        event.persist();\n        setTimeout(() => void onBlurField(event), 0);\n    }, [setHasFocus, onBlurField]);\n    const onChange = useCallback((event, value) => {\n        setValue({ inputValue, value });\n    }, [setValue, inputValue]);\n    const onInputChange = useCallback((event, inputValue) => {\n        inputValue = (inputValue || \"\").trimStart();\n        if (!disableTextInput) {\n            setValue({ inputValue, value });\n        }\n    }, [setValue, value, disableTextInput]);\n    const autoCompleteProps = useMemo(() => ({\n        value,\n        disabled: !!gqlError ||\n            loading ||\n            (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR ||\n            disabled,\n        multiple: true,\n        options,\n        renderInput,\n        renderTags,\n        freeSolo,\n        getOptionLabel,\n        onChange,\n        onInputChange,\n        inputValue: disableTextInput ? \"\" : inputValue,\n        onFocus,\n        onBlur,\n        open: hasFocus &&\n            hasOptions &&\n            (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) !== FormikStatusType.FATAL_ERROR,\n        loading,\n        autoSelect: true,\n        name: \"paymentMethod\",\n    }), [\n        options,\n        value,\n        renderInput,\n        freeSolo,\n        onChange,\n        onInputChange,\n        inputValue,\n        disableTextInput,\n        onFocus,\n        onBlur,\n        hasFocus,\n        hasOptions,\n        loading,\n        gqlError,\n        disabled,\n        formikStatus,\n    ]);\n    return React.createElement(Autocomplete, Object.assign({}, autoCompleteProps));\n};\nexport default PaymentMethod;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGF5bWVudE1ldGhvZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVXBzZXJ0L0VudHJ5RmllbGRzL1BheW1lbnRNZXRob2QudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUQsT0FBTyxFQUFFLFNBQVMsRUFBa0IsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3pFLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQUM5QixPQUFPLEVBQUUsUUFBUSxFQUFvQixNQUFNLHFCQUFxQixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxRQUFRLEVBQW1CLE1BQU0sUUFBUSxDQUFDO0FBRW5ELE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBTW5FLE9BQU8sWUFHTixNQUFNLCtCQUErQixDQUFDO0FBRXZDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUVMLGVBQWUsRUFDZixnQkFBZ0IsR0FDakIsTUFBTSwwQkFBMEIsQ0FBQztBQU9sQyxNQUFNLHFCQUFxQixHQUFHLEdBQUcsQ0FBQTs7Ozs7O0lBTTdCLDZCQUE2QjtDQUNoQyxDQUFDO0FBSUYsTUFBTSxRQUFRLEdBQUcsQ0FBQyxjQUE4QyxFQUFFLEVBQUU7O0lBQ2xFLE1BQU0sS0FBSyxTQUFHLGNBQWMsYUFBZCxjQUFjLHVCQUFkLGNBQWMsQ0FBRSxLQUFLLG1DQUFJLEVBQUUsQ0FBQztJQUMxQyxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQy9CLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUM7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","import React from \"react\";\nimport { useTheme, Box } from \"@material-ui/core\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nconst Overlay = (props) => {\n    const theme = useTheme();\n    const { opacity = 0.62, ...boxProps } = props;\n    return (React.createElement(Box, Object.assign({}, boxProps, { overflow: \"auto\", position: \"absolute\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", top: \"0px\", bottom: \"0px\", bgcolor: fade(theme.palette.background.paper, opacity) })));\n};\nexport default Overlay;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3ZlcmxheS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL3V0aWxzL092ZXJsYXkudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMxQixPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBbUIsTUFBTSxtQkFBbUIsQ0FBQztBQUNuRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFFakUsTUFBTSxPQUFPLEdBQUcsQ0FDZCxLQW9CQyxFQUNZLEVBQUU7SUFDZixNQUFNLEtBQUssR0FBRyxRQUFRLEVBQUUsQ0FBQztJQUV6QixNQUFNLEVBQUUsT0FBTyxHQUFHLElBQUksRUFBRSxHQUFHLFFBQVEsRUFBRSxHQUFHLEtBQUssQ0FBQztJQUU5QyxPQUFPLENBQ0wsb0JBQUMsR0FBRyxvQkFDRSxRQUFRLElBQ1osUUFBUSxFQUFDLE1BQU0sRUFDZixRQUFRLEVBQUMsVUFBVSxFQUNuQixPQUFPLEVBQUMsTUFBTSxFQUNkLFVBQVUsRUFBQyxRQUFRLEVBQ25CLGNBQWMsRUFBQyxRQUFRLEVBQ3ZCLEtBQUssRUFBQyxNQUFNLEVBQ1osR0FBRyxFQUFDLEtBQUssRUFDVCxNQUFNLEVBQUMsS0FBSyxFQUNaLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxJQUN0RCxDQUNILENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLE9BQU8sQ0FBQyJ9","import React from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Overlay from \"./Overlay\";\nconst OverlayLoading = (props) => {\n    return React.createElement(Overlay, Object.assign({}, props), React.createElement(CircularProgress, null));\n};\nexport default OverlayLoading;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3ZlcmxheUxvYWRpbmcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy91dGlscy9PdmVybGF5TG9hZGluZy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQzFCLE9BQU8sRUFBRSxnQkFBZ0IsRUFBUyxNQUFNLG1CQUFtQixDQUFDO0FBRTVELE9BQU8sT0FBTyxNQUFNLFdBQVcsQ0FBQztBQUVoQyxNQUFNLGNBQWMsR0FBRyxDQUFDLEtBRXZCLEVBQWUsRUFBRTtJQUNoQixPQUFPLG9CQUFDLE9BQU8sb0JBQUssS0FBSyxHQUFHLG9CQUFDLGdCQUFnQixPQUFHLENBQVcsQ0FBQztBQUM5RCxDQUFDLENBQUM7QUFFRixlQUFlLGNBQWMsQ0FBQyJ9","import gql from \"graphql-tag\";\nexport const JOURNAL_FRAGMENT = gql `\n  fragment JournalEntry_2Fragment on JournalEntry {\n    __typename\n    id\n    date\n    type\n    total {\n      n\n      d\n      s\n    }\n    refunds {\n      id\n      __typename\n      deleted\n      total {\n        n\n        d\n        s\n      }\n    }\n  }\n`;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVmdW5kcy5ncWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1Vwc2VydC9SZWZ1bmRzL3JlZnVuZHMuZ3FsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQUU5QixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FzQmxDLENBQUMifQ==","import React, { useCallback, useMemo } from \"react\";\nimport { Formik, useFormikContext } from \"formik\";\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Grid, DialogContentText, useTheme, Box, } from \"@material-ui/core\";\nimport { useApolloClient, useQuery, } from \"@apollo/react-hooks\";\nimport { Add as AddIcon, Cancel as CancelIcon } from \"@material-ui/icons\";\nimport gql from \"graphql-tag\";\nimport Fraction from \"fraction.js\";\nimport submitAdd from \"./submitAdd\";\nimport { JournalEntryType, } from \"../../../../apollo/graphTypes\";\nimport DateEntry from \"../EntryFields/DateEntry\";\nimport Description from \"../EntryFields/Description\";\nimport Total from \"../EntryFields/Total\";\nimport Reconcile from \"../EntryFields/Reconcile\";\nimport PaymentMethod from \"../EntryFields/PaymentMethod\";\nimport { FormikStatusType, useFormikStatus, } from \"../../../../utils/formik\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport Overlay from \"../../../utils/Overlay\";\nimport { JOURNAL_FRAGMENT } from \"./refunds.gql\";\nimport { rationalToFraction } from \"../../../../utils/rational\";\nconst GET_ENTRY_REFUND_INFO = gql `\n  query GetEntryRefundInfo_1($id: ID!) {\n    journalEntry(id: $id) {\n      ...JournalEntry_2Fragment\n    }\n  }\n  ${JOURNAL_FRAGMENT}\n`;\nconst NULLISH = Symbol();\n// Must be in separate component to access FormikContext.\nconst AddRefundDialog = (props) => {\n    var _a, _b, _c, _d;\n    const { entryId, open, onClose, onExited: onExitedCb, handleSubmit } = props;\n    const { resetForm, isSubmitting, isValid } = useFormikContext();\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((error) => setFormikStatus({\n        msg: error.message,\n        type: FormikStatusType.FATAL_ERROR,\n    }), [setFormikStatus]);\n    const { loading, error, data } = useQuery(GET_ENTRY_REFUND_INFO, {\n        skip: !entryId,\n        variables: { id: entryId },\n        onError,\n    });\n    const total = (_a = data === null || data === void 0 ? void 0 : data.journalEntry) === null || _a === void 0 ? void 0 : _a.total;\n    const refunds = ((_b = data === null || data === void 0 ? void 0 : data.journalEntry) === null || _b === void 0 ? void 0 : _b.refunds) || [];\n    const maxTotal = useMemo(() => {\n        if (total) {\n            const totalRefunds = refunds.reduce((totalRefunds, { deleted, total }) => deleted ? totalRefunds : totalRefunds.add(rationalToFraction(total)), new Fraction(0));\n            return rationalToFraction(total).sub(totalRefunds);\n        }\n        return new Fraction(Number.MAX_SAFE_INTEGER);\n    }, [total, refunds]);\n    const date = (_c = data === null || data === void 0 ? void 0 : data.journalEntry) === null || _c === void 0 ? void 0 : _c.date;\n    const minDate = useMemo(() => (date ? new Date(date) : undefined), [date]);\n    const onExited = useCallback(() => {\n        onExitedCb();\n        resetForm();\n        setFormikStatus(null);\n    }, [resetForm, onExitedCb, setFormikStatus]);\n    const [generalError, fatalError] = useMemo(() => {\n        if (formikStatus &&\n            (formikStatus.type === FormikStatusType.FATAL_ERROR ||\n                formikStatus.type === FormikStatusType.ERROR)) {\n            return [\n                formikStatus.msg,\n                formikStatus.type === FormikStatusType.FATAL_ERROR,\n            ];\n        }\n        return [null, null];\n    }, [formikStatus]);\n    const journalEntryType = (_d = data === null || data === void 0 ? void 0 : data.journalEntry) === null || _d === void 0 ? void 0 : _d.type;\n    const title = useMemo(() => {\n        const title = !loading && !error && (journalEntryType !== null && journalEntryType !== void 0 ? journalEntryType : NULLISH) !== NULLISH\n            ? `${journalEntryType === JournalEntryType.Credit ? \"Give\" : \"Add\"} Refund`\n            : \"Refund\";\n        if (fatalError) {\n            return \"Fatal Error\";\n        }\n        else if (loading) {\n            return `Loading ${title}...`;\n        }\n        else if (isSubmitting) {\n            return `Submitting ${title}`;\n        }\n        return title;\n    }, [loading, error, journalEntryType, fatalError, isSubmitting]);\n    const theme = useTheme();\n    return (React.createElement(Dialog, { open: open, onClose: onClose, onExited: onExited, disableBackdropClick: isSubmitting, disableEscapeKeyDown: isSubmitting, fullWidth: true, maxWidth: \"lg\", PaperProps: {\n            component: \"form\",\n            onSubmit: handleSubmit,\n        } },\n        React.createElement(DialogTitle, { style: generalError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            (loading || isSubmitting) && !generalError && (React.createElement(OverlayLoading, { zIndex: \"modal\" })),\n            !!generalError && fatalError && (React.createElement(Overlay, { opacity: 0.78, zIndex: \"modal\", padding: 2 },\n                React.createElement(DialogContentText, { color: \"error\" }, generalError))),\n            React.createElement(DialogContent, { dividers: true },\n                !!generalError && !fatalError && (React.createElement(DialogContentText, { color: \"error\" }, generalError)),\n                React.createElement(Grid, { container: true, spacing: 2 },\n                    React.createElement(Grid, { item: true, lg: 4, sm: 6, xs: 12 },\n                        React.createElement(DateEntry, { minDate: minDate, disabled: loading || isSubmitting, fullWidth: true })),\n                    React.createElement(Grid, { item: true, lg: 4, sm: 6, xs: 12 },\n                        React.createElement(Description, { disabled: loading || isSubmitting, fullWidth: true })),\n                    React.createElement(Grid, { item: true, lg: 4, sm: 6, xs: 12 },\n                        React.createElement(PaymentMethod, { disabled: loading || isSubmitting, fullWidth: true })),\n                    React.createElement(Grid, { item: true, lg: 4, sm: 6, xs: 12 },\n                        React.createElement(Total, { disabled: loading || isSubmitting, fullWidth: true, maxTotal: maxTotal })),\n                    React.createElement(Grid, { item: true, container: true, justify: \"center\", alignItems: \"flex-start\", lg: 4, md: 6, sm: 12 },\n                        React.createElement(Reconcile, { disabled: loading || isSubmitting, label: true }))))),\n        React.createElement(DialogActions, null,\n            !fatalError && (React.createElement(Button, { disabled: loading || isSubmitting || !isValid, type: \"submit\", startIcon: React.createElement(AddIcon, null), color: \"primary\", variant: \"contained\" }, \"Add\")),\n            React.createElement(Button, { disabled: loading || isSubmitting, color: fatalError ? \"primary\" : \"default\", startIcon: !fatalError && React.createElement(CancelIcon, null), onClick: onClose }, fatalError ? \"Ok\" : \"Cancel\"))));\n};\nconst AddRefund = (props) => {\n    const { entryId, open, onClose, onExited } = props;\n    const initialValues = useMemo(() => ({}), []);\n    const client = useApolloClient();\n    const onSubmit = useCallback(async (values, formikHelpers) => {\n        var _a;\n        try {\n            formikHelpers.setStatus(null);\n            await submitAdd(client, entryId || \"\", values, formikHelpers);\n            onClose();\n        }\n        catch (error) {\n            formikHelpers.setStatus({\n                msg: (_a = error.message) !== null && _a !== void 0 ? _a : `${error}`,\n                type: FormikStatusType.ERROR,\n            });\n        }\n    }, [client, entryId, onClose]);\n    const children = useCallback((props) => (React.createElement(AddRefundDialog, { entryId: entryId, open: open, onClose: onClose, onExited: onExited, handleSubmit: props.handleSubmit })), [entryId, open, onClose, onExited]);\n    return (React.createElement(Formik, { initialValues: initialValues, initialStatus: null, \n        // isInitialValid={false}\n        enableReinitialize: true, onSubmit: onSubmit }, children));\n};\nexport default AddRefund;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWRkUmVmdW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvUmVmdW5kcy9BZGRSZWZ1bmQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNwRCxPQUFPLEVBQUUsTUFBTSxFQUFnQixnQkFBZ0IsRUFBZSxNQUFNLFFBQVEsQ0FBQztBQUM3RSxPQUFPLEVBQ0wsTUFBTSxFQUNOLFdBQVcsRUFDWCxhQUFhLEVBQ2IsYUFBYSxFQUNiLE1BQU0sRUFFTixJQUFJLEVBQ0osaUJBQWlCLEVBQ2pCLFFBQVEsRUFDUixHQUFHLEdBQ0osTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQ0wsZUFBZSxFQUNmLFFBQVEsR0FFVCxNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxHQUFHLElBQUksT0FBTyxFQUFFLE1BQU0sSUFBSSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMxRSxPQUFPLEdBQUcsTUFBTSxhQUFhLENBQUM7QUFDOUIsT0FBTyxRQUFRLE1BQU0sYUFBYSxDQUFDO0FBRW5DLE9BQU8sU0FBd0IsTUFBTSxhQUFhLENBQUM7QUFDbkQsT0FBTyxFQUdMLGdCQUFnQixHQUNqQixNQUFNLCtCQUErQixDQUFDO0FBQ3ZDLE9BQU8sU0FBUyxNQUFNLDBCQUEwQixDQUFDO0FBQ2pELE9BQU8sV0FBVyxNQUFNLDRCQUE0QixDQUFDO0FBQ3JELE9BQU8sS0FBSyxNQUFNLHNCQUFzQixDQUFDO0FBQ3pDLE9BQU8sU0FBUyxNQUFNLDBCQUEwQixDQUFDO0FBQ2pELE9BQU8sYUFBYSxNQUFNLDhCQUE4QixDQUFDO0FBQ3pELE9BQU8sRUFDTCxnQkFBZ0IsRUFDaEIsZUFBZSxHQUVoQixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sY0FBYyxNQUFNLCtCQUErQixD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","import gql from \"graphql-tag\";\nimport { isEqual } from \"date-fns\";\nimport { JOURNAL_ENTRY_REFUND } from \"../../Table/JournalEntries.gql\";\nimport { CHECK_ID } from \"../../constants\";\nimport { rationalToFraction } from \"../../../../utils/rational\";\nconst UPDATE_REFUND = gql `\n  mutation UpdateRefund(\n    $id: ID!\n    $fields: JournalEntryUpdateRefundFields!\n    $paymentMethodAdd: PaymentMethodAddFields\n    $paymentMethodUpdate: JournalEntryUpdatePaymentMethod\n  ) {\n    journalEntryUpdateRefund(\n      id: $id\n      fields: $fields\n      paymentMethodAdd: $paymentMethodAdd\n      paymentMethodUpdate: $paymentMethodUpdate\n    ) {\n      id\n      __typename\n      refunds {\n        ...JournalEntryRefund_1Fragment\n      }\n    }\n  }\n  ${JOURNAL_ENTRY_REFUND}\n`;\nconst submitUpdate = async (client, iniValues, id, values) => {\n    var _a, _b;\n    // Date\n    const date = isEqual(iniValues.date.inputValue, values.date.inputValue)\n        ? null\n        : values.date.value;\n    // Description\n    const description = values.description !== iniValues.description\n        ? (_b = (_a = values.description) === null || _a === void 0 ? void 0 : _a.trim()) !== null && _b !== void 0 ? _b : \"\" : null;\n    // Total\n    const total = rationalToFraction(values.total.value).compare(rationalToFraction(iniValues.total.value)) === 0\n        ? null\n        : values.total.value;\n    // Reconciled\n    const reconciled = values.reconciled === iniValues.reconciled ? null : values.reconciled;\n    // Payment Method\n    const { paymentMethod, paymentMethodAdd, paymentMethodUpdate } = (() => {\n        const iniPayMethod = iniValues.paymentMethod.value[iniValues.paymentMethod.value.length - 1];\n        const [payMethod, parent] = values.paymentMethod.value\n            .slice(-2)\n            .reverse();\n        // Currently CHECK Numbers only\n        if (typeof payMethod === \"string\") {\n            // Update check number on payment method\n            if (iniPayMethod.parent && iniPayMethod.parent.id === CHECK_ID) {\n                return {\n                    paymentMethod: null,\n                    paymentMethodAdd: null,\n                    paymentMethodUpdate: {\n                        id: iniPayMethod.id,\n                        fields: {\n                            active: null,\n                            refId: payMethod,\n                            name: payMethod,\n                        },\n                    },\n                };\n                // Add new check number payment method\n            }\n            else {\n                return {\n                    paymentMethod: null,\n                    paymentMethodAdd: {\n                        parent: parent.id,\n                        refId: payMethod,\n                        name: payMethod,\n                        active: false,\n                    },\n                    paymentMethodUpdate: null,\n                };\n            }\n            // Update payment method\n        }\n        else if (payMethod.id !== iniPayMethod.id) {\n            return {\n                paymentMethod: payMethod.id,\n                paymentMethodAdd: null,\n                paymentMethodUpdate: null,\n            };\n        }\n        return {\n            paymentMethod: null,\n            paymentMethodAdd: null,\n            paymentMethodUpdate: null,\n        };\n    })();\n    const variables = {\n        id,\n        fields: {\n            date,\n            description,\n            total,\n            reconciled,\n            paymentMethod,\n        },\n        paymentMethodAdd,\n        paymentMethodUpdate,\n    };\n    await client.mutate({\n        mutation: UPDATE_REFUND,\n        variables,\n    });\n};\nexport default submitUpdate;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VibWl0VXBkYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvUmVmdW5kcy9zdWJtaXRVcGRhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBRTlCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFTbkMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDdEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBOEJoRSxNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBb0JyQixvQkFBb0I7Q0FDdkIsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUt3QyxLQUFLLEVBQzdELE1BQU0sRUFDTixTQUFTLEVBQ1QsRUFBRSxFQUNGLE1BQU0sRUFDTixFQUFFOztJQUNGLE9BQU87SUFDUCxNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDckUsQ0FBQyxDQUFDLElBQUk7UUFDTixDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFFdEIsY0FBYztJQUNkLE1BQU0sV0FBVyxHQUNmLE1BQU0sQ0FBQyxXQUFXLEtBQUssU0FBUyxDQUFDLFdBQVc7UUFDMUMsQ0FBQyxhQUFDLE1BQU0sQ0FBQyxXQUFXLDBDQUFFLElBQUkscUNBQU0sRUFBRSxDQUNsQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBRVgsUUFBUTtJQUNSLE1BQU0sS0FBSyxHQUNULGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxD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","import React, { useMemo, useCallback } from \"react\";\nimport { useQuery, useApolloClient } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nimport { Formik, useFormikContext } from \"formik\";\nimport { useTheme, Dialog, DialogTitle, Box, DialogContent, DialogContentText, Grid, DialogActions, Button, } from \"@material-ui/core\";\nimport { Add as AddIcon, Cancel as CancelIcon } from \"@material-ui/icons\";\nimport Fraction from \"fraction.js\";\nimport submitUpdate from \"./submitUpdate\";\nimport { JOURNAL_FRAGMENT } from \"./refunds.gql\";\nimport { PAY_METHOD_ENTRY_OPT_FRAGMENT } from \"../upsertEntry.gql\";\nimport { FormikStatusType, useFormikStatus, } from \"../../../../utils/formik\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport Overlay from \"../../../utils/Overlay\";\nimport Description from \"../EntryFields/Description\";\nimport PaymentMethod from \"../EntryFields/PaymentMethod\";\nimport Total from \"../EntryFields/Total\";\nimport DateEntry from \"../EntryFields/DateEntry\";\nimport Reconcile from \"../EntryFields/Reconcile\";\nimport { rationalToFraction } from \"../../../../utils/rational\";\nconst UPDATE_REFUND_INI_STATE = gql `\n  query UpdateRefundIniState($entryId: ID!, $refundId: ID!) {\n    journalEntry(id: $entryId) {\n      ...JournalEntry_2Fragment\n    }\n    journalEntryRefund(id: $refundId) {\n      __typename\n      id\n      date\n      description\n      paymentMethod {\n        ...PayMethodEntryOptFragment\n        ancestors {\n          ...PayMethodEntryOptFragment\n        }\n      }\n      total {\n        n\n        d\n        s\n      }\n      reconciled\n    }\n  }\n  ${JOURNAL_FRAGMENT}\n  ${PAY_METHOD_ENTRY_OPT_FRAGMENT}\n`;\nconst UpdateRefundDialog = (props) => {\n    const { refundId, open, onClose, onExited: onExitedCb, journalEntry, loading, handleSubmit, } = props;\n    const { resetForm, isSubmitting, isValid } = useFormikContext();\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const total = journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.total;\n    const refunds = (journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.refunds) || [];\n    const maxTotal = useMemo(() => {\n        if (total) {\n            const totalRefunds = refunds.reduce((totalRefunds, { id, deleted, total }) => \n            // Do NOT include refund being updated in max total calculation\n            deleted || id === refundId\n                ? totalRefunds\n                : totalRefunds.add(rationalToFraction(total)), new Fraction(0));\n            return rationalToFraction(total).sub(totalRefunds);\n        }\n        return new Fraction(Number.MAX_SAFE_INTEGER);\n    }, [total, refunds, refundId]);\n    const date = journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.date;\n    const minDate = useMemo(() => (date ? new Date(date) : undefined), [date]);\n    const onExited = useCallback(() => {\n        onExitedCb();\n        resetForm();\n        setFormikStatus(null);\n    }, [resetForm, onExitedCb, setFormikStatus]);\n    const [generalError, fatalError] = useMemo(() => {\n        if (formikStatus &&\n            (formikStatus.type === FormikStatusType.FATAL_ERROR ||\n                formikStatus.type === FormikStatusType.ERROR)) {\n            return [\n                formikStatus.msg,\n                formikStatus.type === FormikStatusType.FATAL_ERROR,\n            ];\n        }\n        return [null, null];\n    }, [formikStatus]);\n    const title = useMemo(() => {\n        const title = \"Refund Update\";\n        if (fatalError) {\n            return \"Fatal Error\";\n        }\n        else if (loading) {\n            return `Loading ${title}...`;\n        }\n        else if (isSubmitting) {\n            return `Submitting ${title}`;\n        }\n        return title;\n    }, [loading, fatalError, isSubmitting]);\n    const theme = useTheme();\n    return (React.createElement(Dialog, { open: open, onClose: onClose, onExited: onExited, disableBackdropClick: isSubmitting, disableEscapeKeyDown: isSubmitting, fullWidth: true, maxWidth: \"lg\", PaperProps: {\n            component: \"form\",\n            onSubmit: handleSubmit,\n        } },\n        React.createElement(DialogTitle, { style: generalError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            (loading || isSubmitting) && !generalError && (React.createElement(OverlayLoading, { zIndex: \"modal\" })),\n            !!generalError && fatalError && (React.createElement(Overlay, { opacity: 0.78, zIndex: \"modal\", padding: 2 },\n                React.createElement(DialogContentText, { color: \"error\" }, generalError))),\n            React.createElement(DialogContent, { dividers: true },\n                !!generalError && !fatalError && (React.createElement(DialogContentText, { color: \"error\" }, generalError)),\n                React.createElement(Grid, { container: true, spacing: 2 },\n                    React.createElement(Grid, { item: true, lg: 4, sm: 6, xs: 12 },\n                        React.createElement(DateEntry, { minDate: minDate, disabled: loading || isSubmitting || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, { item: true, lg: 4, sm: 6, xs: 12 },\n                        React.createElement(Description, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, { item: true, lg: 4, sm: 6, xs: 12 },\n                        React.createElement(PaymentMethod, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, { item: true, lg: 4, sm: 6, xs: 12 },\n                        React.createElement(Total, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true, maxTotal: maxTotal })),\n                    React.createElement(Grid, { item: true, container: true, justify: \"center\", alignItems: \"flex-start\", lg: 4, md: 6, sm: 12 },\n                        React.createElement(Reconcile, { disabled: loading || isSubmitting || !!fatalError, label: true }))))),\n        React.createElement(DialogActions, null,\n            !fatalError && (React.createElement(Button, { disabled: loading || isSubmitting || !isValid, type: \"submit\", startIcon: React.createElement(AddIcon, null), color: \"primary\", variant: \"contained\" }, \"Update\")),\n            React.createElement(Button, { disabled: loading || isSubmitting || !!fatalError, color: fatalError ? \"primary\" : \"default\", startIcon: !fatalError && React.createElement(CancelIcon, null), onClick: onClose }, fatalError ? \"Ok\" : \"Cancel\"))));\n};\nconst UpdateRefund = (props) => {\n    const { entryId, refundId, open, onClose, onExited } = props;\n    const { loading, error, data } = useQuery(UPDATE_REFUND_INI_STATE, {\n        skip: !entryId,\n        variables: {\n            entryId: entryId,\n            refundId: refundId,\n        },\n    });\n    const initialStatus = useMemo(() => error\n        ? {\n            msg: error.message,\n            type: FormikStatusType.FATAL_ERROR,\n        }\n        : null, [error]);\n    const journalEntryRefund = data === null || data === void 0 ? void 0 : data.journalEntryRefund;\n    const initialValues = useMemo(() => {\n        var _a;\n        if (!journalEntryRefund) {\n            return {};\n        }\n        const date = {\n            inputValue: new Date(journalEntryRefund.date),\n            value: journalEntryRefund.date,\n        };\n        const paymentMethod = (() => {\n            const { ancestors, ...paymentMethod } = journalEntryRefund.paymentMethod;\n            // Array.prototype.sort mutates the array, create copy.\n            const value = [...ancestors].sort((a, b) => {\n                var _a, _b;\n                // a is the parent of b\n                if (a.id === ((_a = b.parent) === null || _a === void 0 ? void 0 : _a.id)) {\n                    return -1;\n                    // b is the parent of a\n                }\n                else if (b.id === ((_b = a.parent) === null || _b === void 0 ? void 0 : _b.id)) {\n                    return 1;\n                }\n                return 0;\n            });\n            value.push(paymentMethod);\n            return {\n                inputValue: \"\",\n                value,\n            };\n        })();\n        const total = {\n            inputValue: rationalToFraction(journalEntryRefund.total)\n                .round(2)\n                .toString(),\n            value: journalEntryRefund.total,\n        };\n        const reconciled = journalEntryRefund.reconciled;\n        const description = (_a = journalEntryRefund.description) !== null && _a !== void 0 ? _a : null;\n        return {\n            date,\n            paymentMethod,\n            total,\n            reconciled,\n            description,\n        };\n    }, [journalEntryRefund]);\n    const client = useApolloClient();\n    const onSubmit = useCallback(async (values, formikHelpers) => {\n        var _a;\n        if (!initialValues) {\n            formikHelpers.setStatus({\n                msg: `Failed to load initial values for refund \"${refundId}\".`,\n                type: FormikStatusType.FATAL_ERROR,\n            });\n            return;\n        }\n        else if (!refundId) {\n            formikHelpers.setStatus({\n                msg: `No refund ID.`,\n                type: FormikStatusType.FATAL_ERROR,\n            });\n            return;\n        }\n        try {\n            formikHelpers.setStatus(null);\n            await submitUpdate(client, initialValues, refundId, values, formikHelpers);\n            onClose();\n        }\n        catch (error) {\n            formikHelpers.setStatus({\n                msg: (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : `${error}`,\n                type: FormikStatusType.FATAL_ERROR,\n            });\n        }\n    }, [client, initialValues, onClose, refundId]);\n    const children = useCallback((props) => {\n        var _a;\n        return (React.createElement(UpdateRefundDialog, { entryId: entryId, refundId: refundId, open: open, onClose: onClose, onExited: onExited, journalEntry: (_a = data === null || data === void 0 ? void 0 : data.journalEntry) !== null && _a !== void 0 ? _a : null, loading: loading, handleSubmit: props.handleSubmit }));\n    }, [data, entryId, loading, onClose, onExited, open, refundId]);\n    return (React.createElement(Formik, { initialValues: (initialValues !== null && initialValues !== void 0 ? initialValues : {}), initialStatus: initialStatus, \n        // isInitialValid={false}\n        enableReinitialize: true, onSubmit: onSubmit }, children));\n};\nexport default UpdateRefund;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXBkYXRlUmVmdW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvUmVmdW5kcy9VcGRhdGVSZWZ1bmQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNwRCxPQUFPLEVBQUUsUUFBUSxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2hFLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQUM5QixPQUFPLEVBQUUsTUFBTSxFQUE2QixnQkFBZ0IsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUM3RSxPQUFPLEVBQ0wsUUFBUSxFQUNSLE1BQU0sRUFDTixXQUFXLEVBRVgsR0FBRyxFQUNILGFBQWEsRUFDYixpQkFBaUIsRUFDakIsSUFBSSxFQUNKLGFBQWEsRUFDYixNQUFNLEdBQ1AsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsR0FBRyxJQUFJLE9BQU8sRUFBRSxNQUFNLElBQUksVUFBVSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDMUUsT0FBTyxRQUFRLE1BQU0sYUFBYSxDQUFDO0FBT25DLE9BQU8sWUFBK0MsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDakQsT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbkUsT0FBTyxFQUVMLGdCQUFnQixFQUNoQixlQUFlLEdBQ2hCLE1BQU0sMEJBQTBCLENBQUM7QUFDbEMsT0FBTyxjQUFjLE1BQU0sK0JBQStCLENBQUM7QUFDM0QsT0FBTyxPQUFPLE1BQU0sd0JBQXdCLENBQUM7QUFDN0MsT0FBTyxXQUFXLE1BQU0sNEJBQTRCLENBQUM7QUFDckQsT0FBTyxhQUFhLE1BQU0sOEJBQThCLENBQUM7QUFDekQsT0FBTyxL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","import gql from \"graphql-tag\";\nimport { parseName } from \"humanparser\";\nimport { JournalEntrySourceType, } from \"../../../../apollo/graphTypes\";\nimport { JOURNAL_ENTRY_FRAGMENT } from \"../../Table/JournalEntries.gql\";\nconst ADD_ENTRY = gql `\n  mutation AddEntry(\n    $fields: JournalEntryAddFields!\n    $paymentMethodAdd: PaymentMethodAddFields\n    $personAdd: PersonAddFields\n    $businessAdd: BusinessAddFields\n  ) {\n    journalEntryAdd(\n      fields: $fields\n      paymentMethodAdd: $paymentMethodAdd\n      personAdd: $personAdd\n      businessAdd: $businessAdd\n    ) {\n      ...JournalEntry_1Fragment\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nconst submitAdd = async (client, values) => {\n    var _a, _b;\n    const { paymentMethod, paymentMethodAdd } = (() => {\n        const payMethod = values.paymentMethod.value[values.paymentMethod.value.length - 1];\n        // New Payment Method\n        if (typeof payMethod === \"string\") {\n            const parent = values.paymentMethod.value[values.paymentMethod.value.length - 2].id;\n            return {\n                paymentMethod: \"\",\n                paymentMethodAdd: {\n                    parent,\n                    refId: payMethod,\n                    name: payMethod,\n                    active: false,\n                },\n            };\n        }\n        return {\n            paymentMethod: payMethod.id,\n            paymentMethodAdd: null,\n        };\n    })();\n    const { source, personAdd, businessAdd } = (() => {\n        const srcType = values.source.value[0];\n        const src = values.source.value[values.source.value.length - 1];\n        if (typeof src === \"string\") {\n            if (srcType === JournalEntrySourceType.Person) {\n                const parsedName = parseName(src);\n                return {\n                    source: {\n                        sourceType: JournalEntrySourceType.Person,\n                        id: \"\",\n                    },\n                    businessAdd: null,\n                    personAdd: {\n                        name: {\n                            first: parsedName.firstName,\n                            last: parsedName.lastName,\n                        },\n                    },\n                };\n            }\n            else {\n                return {\n                    source: {\n                        sourceType: JournalEntrySourceType.Business,\n                        id: \"\",\n                    },\n                    businessAdd: {\n                        name: src,\n                    },\n                    personAdd: null,\n                };\n            }\n        }\n        return {\n            source: {\n                sourceType: (() => {\n                    switch (src.__typename) {\n                        case \"Business\":\n                            return JournalEntrySourceType.Business;\n                        case \"Department\":\n                            return JournalEntrySourceType.Department;\n                        case \"Person\":\n                            return JournalEntrySourceType.Person;\n                    }\n                })(),\n                id: src.id,\n            },\n            personAdd: null,\n            businessAdd: null,\n        };\n    })();\n    const variables = {\n        fields: {\n            date: values.date.value,\n            dateOfRecord: null,\n            department: values.department.id,\n            type: values.type,\n            category: values.category.value[values.category.value.length - 1].id,\n            description: ((_a = values.description) === null || _a === void 0 ? void 0 : _a.trim()) || null,\n            total: values.total.value,\n            reconciled: (_b = values.reconciled) !== null && _b !== void 0 ? _b : null,\n            paymentMethod,\n            source,\n        },\n        paymentMethodAdd,\n        personAdd,\n        businessAdd,\n    };\n    await client.mutate({\n        mutation: ADD_ENTRY,\n        variables,\n    });\n};\nexport default submitAdd;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VibWl0QWRkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvRW50cmllcy9zdWJtaXRBZGQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBRTlCLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFeEMsT0FBTyxFQVFMLHNCQUFzQixHQUd2QixNQUFNLCtCQUErQixDQUFDO0FBRXZDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBMEJ4RSxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7SUFnQmpCLHNCQUFzQjtDQUN6QixDQUFDO0FBRUYsTUFBTSxTQUFTLEdBR3dDLEtBQUssRUFDMUQsTUFBTSxFQUNOLE1BQU0sRUFDTixFQUFFOztJQUNGLE1BQU0sRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRTtRQUNoRCxNQUFNLFNBQVMsR0FDYixNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFcEUscUJBQXFCO1FBQ3JCLElBQUksT0FBTyxTQUFTLEtBQUssUUFBUSxFQUFFO1lBQ2pDLE1BQU0sTUFBTSxHQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUN4QyxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUNSLENBQUMsRUFBRSxDQUFDO1lBRW5DLE9BQU87Z0JBQ0wsYUFBYSxFQUFFLEVBQUU7Z0JBQ2pCLGdCQUFnQixFQUFFO29CQUNoQixNQUFNO29CQUNOLEtBQUssRUFBRSxTQUFTO29CQUNoQixJQUFJLEVBQUUsU0FBUztvQkFDZixNQUFNLEVBQUUsS0FBSztpQkFDZDthQUNGLENBQUM7U0FDSDtRQUVELE9BQU87WUFDTCxhQUFhLEVBQUUsU0FBUyxDQUFDLEVBQUU7WUFDM0IsZ0JBQWdCLEVBQUUsSUFBSTtTQUN2QixDQUFDO0lBQ0osQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUVMLE1BQU0sRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFO1FBQy9DLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBMkIsQ0FBQztRQUNqRSxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FDaEIsQ0FBQztRQUVqQixJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtZQUMzQixJQUFJLE9BQU8sS0FBSyxzQkFBc0IsQ0FBQyxNQUFNLEVBQUU7Z0JBQzdDLE1BQU0sVUFBVSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFFbEMsT0FBTztvQkFDTCxNQUFNLEVBQUU7d0JBQ04sVUFBVSxFQUFFLHNCQUFzQixDQUFDLE1BQU07d0JBQ3pDLEVBQUUsRUFBRSxFQUFFO3FCQUNQO29CQUNELFdBQVcsRUFBRSxJQUFJO29CQUNqQixTQUFTLEVBQUU7d0JBQ1QsSUFBSSxFQUFFOzRCQUNKLEtBQUssRUFBRSxVQUFVLENBQUMsU0FBUzs0QkFDM0IsSUFBSSxFQUFFLFVBQVUsQ0FBQyxRQUFRO3lCQUMxQjtxQkFDRjtpQkFDRixDQUFDO2FBQ0g7aUJBQU07Z0JBQ0wsT0FBTztvQkFDTCxNQUFNLEVBQUU7d0JBQ04sVUFBVSxFQUFFLHNCQUFzQixDQUFDLFFBQVE7d0JBQzNDLEVBQUUsRUFBRSxFQUFFO3FCQUNQO29CQUNELFdBQVcsRUFBRTt3QkFDWCxJQUFJLEVBQUUsR0FBRztxQkFDVjtvQkFDRCxTQUFTLEVBQUUsSUFBSTtpQkFDaEIsQ0FBQzthQUNIO1NBQ0Y7UUFFRCxPQUFPO1lBQ0wsTUFBTSxFQUFFO2dCQUNOLFVBQVUsRUFBRSxDQUFDLEdBQUcsRUFBRTtvQkFDaEIsUUFBUSxHQUFHLENBQUMsVUFBVSxFQUFFO3dCQUN0QixLQUFLLFVBQVU7NEJBQ2IsT0FBTyxzQkFBc0IsQ0FBQyxRQUFRLENBQUM7d0JBQ3pDLEtBQUssWUFBWTs0QkFDZixPQUFPLHNCQUFzQixDQUFDLFVBQVUsQ0FBQzt3QkFDM0MsS0FBSyxRQUFROzRCQUNYLE9BQU8sc0JBQXNCLENBQUMsTUFBTSxDQUFDO3FCQUN4QztnQkFDSCxDQUFDLENBQUMsRUFBRTtnQkFDSixFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUU7YUFDWDtZQUNELFNBQVMsRUFBRSxJQUFJO1lBQ2YsV0FBVyxFQUFFLElBQUk7U0FDbEIsQ0FBQztJQUNKLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFFTCxNQUFNLFNBQVMsR0FBeUQ7UUFDdEUsTUFBTSxFQUFFO1lBQ04sSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSztZQUN2QixZQUFZLEVBQUUsSUFBSTtZQUNsQixVQUFVLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQ2hDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSTtZQUNqQixRQUFRLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDcEUsV0FBVyxFQUFFLE9BQUEsTUFBTSxDQUFDLFdBQVcsMENBQUUsSUFBSSxPQUFNLElBQUk7WUFDL0MsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSztZQUN6QixVQUFVLFFBQUUsTUFBTSxDQUFDLFVBQVUsbUNBQUksSUFBSTtZQUNyQyxhQUFhO1lBQ2IsTUFBTTtTQUNQO1FBQ0QsZ0JBQWdCO1FBQ2hCLFNBQVM7UUFDVCxXQUFXO0tBQ1osQ0FBQztJQUVGLE1BQU0sTUFBTSxDQUFDLE1BQU0sQ0FBeUI7UUFDMUMsUUFBUSxFQUFFLFNBQVM7UUFDbkIsU0FBUztLQUNWLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGLGVBQWUsU0FBUyxDQUFDIn0=","import React, { useCallback, useMemo, useState, useEffect } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { useField, useFormikContext } from \"formik\";\nimport gql from \"graphql-tag\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { TextField, Box, Chip } from \"@material-ui/core\";\nimport { ChevronRight } from \"@material-ui/icons\";\nimport { CAT_ENTRY_OPT_FRAGMENT } from \"../upsertEntry.gql\";\nimport { useFormikStatus, FormikStatusType, } from \"../../../../utils/formik\";\nconst CAT_OPTS_QUERY = gql `\n  query CatEntryOpts($where: JournalEntryCategoryWhereInput!) {\n    catOpts: journalEntryCategories(where: $where) {\n      ...CatEntryOptFragment\n    }\n  }\n  ${CAT_ENTRY_OPT_FRAGMENT}\n`;\nconst getOptionLabel = (opt) => opt.name;\nconst renderTags = (values, getTagProps) => {\n    const lastIndex = values.length - 1;\n    return values.map((dept, index) => {\n        const isLastIndex = lastIndex === index;\n        const { key, ...props } = getTagProps({ index });\n        return (React.createElement(Box, { key: key, display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"flex-start\" },\n            React.createElement(Chip, Object.assign({ color: isLastIndex ? \"primary\" : \"default\", variant: isLastIndex ? \"default\" : \"outlined\", label: dept.name, size: \"medium\" }, props, { disabled: !isLastIndex })),\n            \" \",\n            !isLastIndex && React.createElement(ChevronRight, { fontSize: \"small\" })));\n    });\n};\nconst NULLISH = Symbol();\nconst Category = (props) => {\n    var _a, _b, _c, _d, _e, _f;\n    const formikContext = useFormikContext();\n    const { disabled: disabledFromProps = false, required } = props;\n    const { entryType: entryTypeFromProps, ...textFieldProps } = props;\n    const value = ((_b = (_a = formikContext.values) === null || _a === void 0 ? void 0 : _a.category) === null || _b === void 0 ? void 0 : _b.value) || [];\n    const inputValue = ((_d = (_c = formikContext.values) === null || _c === void 0 ? void 0 : _c.category) === null || _d === void 0 ? void 0 : _d.inputValue.trimLeft()) || \"\";\n    const entryType = (_f = entryTypeFromProps !== null && entryTypeFromProps !== void 0 ? entryTypeFromProps : (_e = formikContext.values) === null || _e === void 0 ? void 0 : _e.type) !== null && _f !== void 0 ? _f : null;\n    const catValue = value[value.length - 1];\n    const variables = useMemo(() => (catValue === null || catValue === void 0 ? void 0 : catValue.id) ? {\n        where: {\n            parent: {\n                eq: catValue.id,\n            },\n            type: {\n                eq: entryType,\n            },\n        },\n    }\n        : {\n            where: {\n                hasParent: false,\n                type: {\n                    eq: entryType,\n                },\n            },\n        }, [catValue, entryType]);\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((error) => void setFormikStatus({\n        msg: error.message,\n        type: FormikStatusType.FATAL_ERROR,\n    }), [setFormikStatus]);\n    const { loading, error: gqlError, data } = useQuery(CAT_OPTS_QUERY, {\n        skip: (entryType !== null && entryType !== void 0 ? entryType : NULLISH) === NULLISH,\n        variables,\n        onCompleted: () => setTimeout(() => formikContext.validateField(\"category\"), 0),\n        onError,\n    });\n    const catOpts = data === null || data === void 0 ? void 0 : data.catOpts;\n    const options = useMemo(() => catOpts || [], [\n        catOpts,\n    ]);\n    const validate = useCallback((transmutationVal) => {\n        const values = (transmutationVal === null || transmutationVal === void 0 ? void 0 : transmutationVal.value) || [];\n        const value = values[values.length - 1] || null;\n        if (!value) {\n            if (required) {\n                return \"Category Required\";\n            }\n            return;\n        }\n        else if (options.length > 0) {\n            return \"Sub-category Required\";\n        }\n    }, [options, required]);\n    const [field, meta, helpers] = useField({\n        name: \"category\",\n        validate,\n    });\n    const { onBlur: onBlurField } = field;\n    const { error, touched } = meta;\n    const { setValue } = helpers;\n    // Reset category value if type changes\n    useEffect(() => {\n        if (catValue && entryType !== catValue.type) {\n            setValue({\n                inputValue: \"\",\n                value: [],\n            });\n        }\n    }, [entryType, catValue, setValue]);\n    // const disableTextInput = useMemo(() => {\n    //   return value.length > 0 && options.length === 0;\n    // }, [value, options]);\n    const helperText = useMemo(() => {\n        if (!!error && touched) {\n            return error;\n        }\n        else if ((entryType !== null && entryType !== void 0 ? entryType : NULLISH) === NULLISH) {\n            return \"Category requires entry type.\";\n        }\n        else if (gqlError) {\n            return gqlError.message;\n        }\n        return \"\";\n    }, [entryType, error, touched, gqlError]);\n    const disabled = useMemo(() => loading ||\n        (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR ||\n        (entryType !== null && entryType !== void 0 ? entryType : NULLISH) === NULLISH ||\n        disabledFromProps ||\n        (value.length > 0 && options.length === 0), [\n        disabledFromProps,\n        entryType,\n        formikStatus,\n        loading,\n        options.length,\n        value.length,\n    ]);\n    const renderInput = useCallback((params) => {\n        return (React.createElement(TextField, Object.assign({}, textFieldProps, { variant: textFieldProps.variant || \"filled\" }, params, { error: (touched && !!error) || !!gqlError, disabled: disabled, helperText: helperText, name: \"category\", label: \"Category\" })));\n    }, [textFieldProps, touched, error, gqlError, disabled, helperText]);\n    const [hasFocus, setHasFocus] = useState(false);\n    const onFocus = useCallback(() => setHasFocus(true), [setHasFocus]);\n    const onBlur = useCallback((event) => {\n        setHasFocus(false);\n        // Fixes formik validate called with wrong version of value\n        event.persist();\n        setTimeout(() => void onBlurField(event), 0);\n    }, [setHasFocus, onBlurField]);\n    const onChange = useCallback((event, value) => {\n        setValue({ inputValue, value });\n    }, [setValue, inputValue]);\n    const onInputChange = useCallback((event, inputValue) => {\n        inputValue = (inputValue || \"\").trimStart();\n        setValue({\n            inputValue,\n            value,\n        });\n    }, [setValue, value]);\n    const autoCompleteProps = useMemo(() => {\n        return {\n            ...field,\n            open: hasFocus && options.length > 0,\n            onFocus,\n            onBlur,\n            options,\n            renderTags,\n            forcePopupIcon: false,\n            disabled,\n            value,\n            renderInput,\n            loading,\n            autoSelect: true,\n            multiple: true,\n            getOptionLabel,\n            onInputChange,\n            inputValue,\n            onChange,\n            name: \"category\",\n        };\n    }, [\n        field,\n        hasFocus,\n        options,\n        onFocus,\n        onBlur,\n        loading,\n        disabled,\n        value,\n        renderInput,\n        onInputChange,\n        inputValue,\n        onChange,\n    ]);\n    return React.createElement(Autocomplete, Object.assign({}, autoCompleteProps));\n};\nexport default Category;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2F0ZWdvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1Vwc2VydC9FbnRyeUZpZWxkcy9DYXRlZ29yeS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDekUsT0FBTyxZQUdOLE1BQU0sK0JBQStCLENBQUM7QUFFdkMsT0FBTyxFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUNwRCxPQUFPLEdBQUcsTUFBTSxhQUFhLENBQUM7QUFDOUIsT0FBTyxFQUFFLFFBQVEsRUFBb0IsTUFBTSxxQkFBcUIsQ0FBQztBQUNqRSxPQUFPLEVBQWtCLFNBQVMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDekUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRWxELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBUTVELE9BQU8sRUFFTCxlQUFlLEVBQ2YsZ0JBQWdCLEdBQ2pCLE1BQU0sMEJBQTBCLENBQUM7QUFFbEMsTUFBTSxjQUFjLEdBQUcsR0FBRyxDQUFBOzs7Ozs7SUFNdEIsc0JBQXNCO0NBQ3pCLENBQUM7QUFPRixNQUFNLGNBQWMsR0FBRyxDQUFDLEdBQWEsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztBQUNuRCxNQUFNLFVBQVUsR0FBb0MsQ0FDbEQsTUFBa0IsRUFDbEIsV0FBVyxFQUNYLEVBQUU7SUFDRixNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUVwQyxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBYSxFQUFFLEVBQUU7UUFDeEMsTUFBTSxXQUFX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","import React, { useCallback, useMemo, useState } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { useField } from \"formik\";\nimport gql from \"graphql-tag\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { TextField, Box, Chip } from \"@material-ui/core\";\nimport { ChevronRight } from \"@material-ui/icons\";\nimport { DEPT_ENTRY_OPT_FRAGMENT } from \"../upsertEntry.gql\";\nimport { \n// TransmutationValue,\nuseFormikStatus, FormikStatusType, } from \"../../../../utils/formik\";\nconst DEPT_OPTS_QUERY = gql `\n  query DeptEntryOpts($bizId: ID!) {\n    deptOpts: business(id: $bizId) {\n      __typename\n      id\n      departments {\n        ...DeptEntryOptFragment\n      }\n    }\n  }\n  ${DEPT_ENTRY_OPT_FRAGMENT}\n`;\nconst businessId = \"5dc4b09bcf96e166daaa0090\";\nconst getOptionLabel = (opt) => opt.name;\nconst renderTags = (values, getTagProps) => {\n    const lastIndex = values.length - 1;\n    return values.map((dept, index) => {\n        const isLastIndex = lastIndex === index;\n        const { key, ...props } = getTagProps({ index });\n        return (React.createElement(Box, { key: key, display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"flex-start\" },\n            React.createElement(Chip, Object.assign({ color: isLastIndex ? \"primary\" : \"default\", variant: isLastIndex ? \"default\" : \"outlined\", label: dept.name, size: \"medium\" }, props, { disabled: !isLastIndex })),\n            \" \",\n            !isLastIndex && React.createElement(ChevronRight, { fontSize: \"small\" })));\n    });\n};\nconst Department = (props) => {\n    const { disabled: disabledFromProps = false, required, fiscalYearId, ...textFieldProps } = props;\n    const fiscalYearRequired = typeof fiscalYearId === \"string\";\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((error) => void setFormikStatus({\n        msg: error.message,\n        type: FormikStatusType.FATAL_ERROR,\n    }), [setFormikStatus]);\n    const { loading, error: gqlError, data } = useQuery(DEPT_OPTS_QUERY, { onError, variables: { bizId: businessId } });\n    const depts = (data === null || data === void 0 ? void 0 : data.deptOpts.departments) || [];\n    const [hasFocus, setHasFocus] = useState(false);\n    // Input must be controlled to stop input when leaf option is selected.\n    const [inputValue, setInputValue] = useState(\"\");\n    const validate = useCallback((value) => {\n        if (!value) {\n            if (required) {\n                return \"Department Required\";\n            }\n            return;\n        }\n        else if (fiscalYearRequired) {\n            if (value.budgets.every((budget) => budget.fiscalYear.id !== fiscalYearId)) {\n                return \"Department has no budget.\";\n            }\n            return;\n        }\n        else if (depts.some(({ parent }) => parent.__typename === \"Department\" && parent.id === value.id)) {\n            return \"Sub-department Required\";\n        }\n    }, [depts, required, fiscalYearRequired, fiscalYearId]);\n    const [field, meta, helpers] = useField({\n        name: \"department\",\n        validate,\n    });\n    const { value: deptValue, onBlur: onBlurField } = field;\n    const { error, touched } = meta;\n    const { setValue } = helpers;\n    const hasBudget = useMemo(() => !!deptValue &&\n        !deptValue.budgets.every((budget) => budget.fiscalYear.id !== fiscalYearId), [deptValue, fiscalYearId]);\n    const idDeptMap = useMemo(() => new Map(depts.reduce((idDepts, dept) => {\n        idDepts.push([dept.id, dept]);\n        return idDepts;\n    }, [])), [depts]);\n    const value = useMemo(() => {\n        if (!deptValue) {\n            return [];\n        }\n        const value = [deptValue];\n        let { __typename, id } = deptValue.parent;\n        while (__typename !== \"Business\" && idDeptMap.has(id)) {\n            const parentDept = idDeptMap.get(id);\n            value.unshift(parentDept);\n            ({ __typename, id } = parentDept.parent);\n        }\n        return value;\n    }, [deptValue, idDeptMap]);\n    const options = useMemo(() => {\n        var _a;\n        const deptId = (_a = value[value.length - 1]) === null || _a === void 0 ? void 0 : _a.id;\n        return depts.filter((opt) => deptId ? opt.parent.id === deptId : opt.parent.__typename === \"Business\");\n    }, [depts, value]);\n    const disableTextInput = useMemo(() => {\n        return value.length > 0 && options.length === 0;\n    }, [value, options]);\n    const helperText = useMemo(() => {\n        if (!!error && touched) {\n            return error;\n        }\n        else if (gqlError) {\n            return gqlError.message;\n        }\n        else if (fiscalYearId === \"\") {\n            return \"Department requires a date.\";\n        }\n        return \"\";\n    }, [error, touched, gqlError, fiscalYearId]);\n    const disabled = useMemo(() => loading ||\n        disableTextInput ||\n        (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR ||\n        disabledFromProps ||\n        (fiscalYearRequired && !fiscalYearId), [\n        disableTextInput,\n        disabledFromProps,\n        formikStatus,\n        loading,\n        fiscalYearRequired,\n        fiscalYearId,\n    ]);\n    const renderInput = useCallback((params) => {\n        return (React.createElement(TextField, Object.assign({}, textFieldProps, { required: fiscalYearRequired ? !hasBudget : !!props.required, variant: props.variant || \"filled\" }, params, { error: touched && !!error, helperText: helperText, name: \"department\", label: \"Department\", disabled: disabled })));\n    }, [\n        props,\n        touched,\n        error,\n        helperText,\n        textFieldProps,\n        disabled,\n        fiscalYearRequired,\n        hasBudget,\n    ]);\n    const onFocus = useCallback(() => setHasFocus(true), [setHasFocus]);\n    const onBlur = useCallback((event) => {\n        setHasFocus(false);\n        onBlurField(event);\n    }, [setHasFocus, onBlurField]);\n    const onChange = useCallback((event, value) => {\n        if (!value) {\n            setValue(null);\n        }\n        else if (Array.isArray(value)) {\n            const len = value.length;\n            setValue(len === 0 ? null : value[len - 1]);\n        }\n        else {\n            setValue(value);\n        }\n    }, [setValue]);\n    const onInputChange = useCallback((event, value) => {\n        setInputValue((value || \"\").trimStart());\n    }, [setInputValue]);\n    const autoCompleteProps = useMemo(() => {\n        return {\n            ...field,\n            open: hasFocus && options.length > 0,\n            onFocus,\n            onBlur,\n            options,\n            renderTags,\n            forcePopupIcon: false,\n            disabled,\n            value,\n            renderInput,\n            loading,\n            autoSelect: false,\n            multiple: true,\n            getOptionLabel,\n            onChange,\n            onInputChange,\n            inputValue: disableTextInput ? \"\" : inputValue,\n            name: \"department\",\n        };\n    }, [\n        field,\n        hasFocus,\n        options,\n        onFocus,\n        onBlur,\n        disableTextInput,\n        disabled,\n        value,\n        renderInput,\n        loading,\n        onChange,\n        onInputChange,\n        inputValue,\n    ]);\n    if (gqlError) {\n        return React.createElement(\"pre\", null, JSON.stringify(gqlError, null, 2));\n    }\n    return React.createElement(Autocomplete, Object.assign({}, autoCompleteProps));\n};\nexport default Department;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwYXJ0bWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVXBzZXJ0L0VudHJ5RmllbGRzL0RlcGFydG1lbnQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUQsT0FBTyxZQUdOLE1BQU0sK0JBQStCLENBQUM7QUFFdkMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUNsQyxPQUFPLEdBQUcsTUFBTSxhQUFhLENBQUM7QUFDOUIsT0FBTyxFQUFFLFFBQVEsRUFBb0IsTUFBTSxxQkFBcUIsQ0FBQztBQUNqRSxPQUFPLEVBQWtCLFNBQVMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDekUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBT2xELE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzdELE9BQU87QUFDTCxzQkFBc0I7QUFDdEIsZUFBZSxFQUNmLGdCQUFnQixHQUNqQixNQUFNLDBCQUEwQixDQUFDO0FBRWxDLE1BQU0sZUFBZSxHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7OztJQVV2Qix1QkFBdUI7Q0FDMUIsQ0FBQztBQUVGLE1BQU0sVUFBVSxHQUFHLDBCQUEwQixDQUFDO0FBSzlDLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBYyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO0FBQ3BELE1BQU0sVUFBVSxHQUFvQyxDQUNsRCxNQUFtQixFQUNuQixXQUFXLEVBQ1gsRUFBRTtJQUNGLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ3BDLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFB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","import React, { useCallback, useMemo, useState, useRef } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { useField } from \"formik\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { TextField, Box, Chip } from \"@material-ui/core\";\nimport { ChevronRight } from \"@material-ui/icons\";\nimport { parseName } from \"humanparser\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore: namecase has no type defs.\nimport * as namecase from \"namecase\";\nimport gql from \"graphql-tag\";\nimport { JournalEntrySourceType, } from \"../../../../apollo/graphTypes\";\nimport { SRC_ENTRY_PERSON_OPT_FRAGMENT, SRC_ENTRY_BIZ_OPT_FRAGMENT, SRC_ENTRY_DEPT_OPT_FRAGMENT, } from \"../upsertEntry.gql\";\nimport { useFormikStatus, FormikStatusType, } from \"../../../../utils/formik\";\nconst SRC_ENTRY_OPTS_QUERY = gql `\n  query SrcEntryOpts($name: String!, $isBiz: Boolean!) {\n    businesses(where: { name: { pattern: $name, options: I } })\n      @include(if: $isBiz) {\n      ...SrcEntryBizOptFragment\n    }\n    people(\n      where: {\n        or: [\n          { firstName: { pattern: $name, options: I } }\n          { lastName: { pattern: $name, options: I } }\n        ]\n      }\n    ) @skip(if: $isBiz) {\n      ...SrcEntryPersonOptFragment\n    }\n  }\n  ${SRC_ENTRY_PERSON_OPT_FRAGMENT}\n  ${SRC_ENTRY_BIZ_OPT_FRAGMENT}\n  ${SRC_ENTRY_DEPT_OPT_FRAGMENT}\n`;\nexport const isFreeSoloOpt = (opt) => {\n    switch (opt) {\n        case JournalEntrySourceType.Business:\n        case JournalEntrySourceType.Department:\n        case JournalEntrySourceType.Person:\n            break;\n        default:\n            return typeof opt === \"string\";\n    }\n    return false;\n};\nconst getOptionLabel = (opt) => {\n    switch (opt) {\n        case JournalEntrySourceType.Business:\n            return \"Vendor\";\n        case JournalEntrySourceType.Department:\n            return \"Department\";\n        case JournalEntrySourceType.Person:\n            return \"Person\";\n        default:\n            if (typeof opt === \"string\") {\n                return opt;\n            }\n    }\n    if (opt.__typename === \"Person\") {\n        return `${opt.personName.first} ${opt.personName.last}`;\n    }\n    return opt.name;\n};\nconst renderTags = (values, getTagProps) => {\n    const lastIndex = values.length - 1;\n    return values.map((value, index) => {\n        const isLastIndex = lastIndex === index;\n        const { key, ...props } = getTagProps({ index });\n        if (isFreeSoloOpt(value)) {\n            return value;\n        }\n        return (React.createElement(Box, { key: key, display: \"flex\", flexDirection: \"row\", alignItems: \"center\", justifyContent: \"flex-start\" },\n            React.createElement(Chip, Object.assign({ color: isLastIndex ? \"primary\" : \"default\", variant: isLastIndex ? \"default\" : \"outlined\", label: getOptionLabel(value), size: \"medium\" }, props, { disabled: !isLastIndex })),\n            \" \",\n            !isLastIndex && React.createElement(ChevronRight, { fontSize: \"small\" })));\n    });\n};\nconst filterOptions = (options, { inputValue }) => {\n    const regex = new RegExp(`(^|\\\\s)${inputValue}`, \"i\");\n    return options.filter((opt) => regex.test(getOptionLabel(opt)));\n};\nconst validate = (transmutationVal) => {\n    var _a;\n    const value = (transmutationVal === null || transmutationVal === void 0 ? void 0 : transmutationVal.value) || [];\n    const srcType = ((_a = value[0]) !== null && _a !== void 0 ? _a : null);\n    const srcValue = value.length > 1 ? value[value.length - 1] : null;\n    if (srcType === null || srcValue === null || srcValue === \"\") {\n        return \"Source Required\";\n    }\n    else if (isFreeSoloOpt(srcValue) &&\n        srcType === JournalEntrySourceType.Person) {\n        // Validate Free Solo Person name\n        const parsedName = parseName(srcValue);\n        if (!parsedName.firstName.trim()) {\n            return \"First Name Required\";\n        }\n        else if (!parsedName.lastName.trim()) {\n            return \"Last Name Required\";\n        }\n    }\n};\nconst Source = function (props) {\n    var _a, _b, _c, _d, _e;\n    const { disabled: disabledFromProps = false } = props;\n    const [hasFocus, setHasFocus] = useState(false);\n    const [field, meta, helpers] = useField({\n        name: \"source\",\n        validate,\n    });\n    const { onBlur: onBlurField } = field;\n    const value = (_b = (_a = field.value) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : [];\n    const inputValue = (_d = (_c = field.value) === null || _c === void 0 ? void 0 : _c.inputValue) !== null && _d !== void 0 ? _d : \"\";\n    const { error, touched } = meta;\n    const { setValue } = helpers;\n    const srcType = ((_e = value[0]) !== null && _e !== void 0 ? _e : null);\n    const srcValue = value.length > 1 ? value[value.length - 1] : null;\n    const searchedName = useRef(\"\");\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((error) => void setFormikStatus({\n        msg: error.message,\n        type: FormikStatusType.FATAL_ERROR,\n    }), [setFormikStatus]);\n    const { loading, error: gqlError, data } = useQuery(SRC_ENTRY_OPTS_QUERY, {\n        skip: !searchedName.current && !value[1],\n        variables: {\n            name: searchedName.current,\n            isBiz: srcType !== JournalEntrySourceType.Person,\n        },\n        onError,\n    });\n    const idDeptMap = useMemo(() => {\n        const idDeptMap = new Map();\n        for (const bizOpt of (data === null || data === void 0 ? void 0 : data.businesses) || []) {\n            for (const deptOpt of bizOpt.departments) {\n                idDeptMap.set(deptOpt.id, deptOpt);\n            }\n        }\n        return idDeptMap;\n    }, [data]);\n    const options = useMemo(() => {\n        if (srcType === null) {\n            return [JournalEntrySourceType.Business, JournalEntrySourceType.Person];\n            // Person ONLY person options\n        }\n        else if (srcType === JournalEntrySourceType.Person) {\n            return srcValue === null ? (data === null || data === void 0 ? void 0 : data.people) || [] : [];\n            // Only Business options\n        }\n        else if (!srcValue) {\n            return (data === null || data === void 0 ? void 0 : data.businesses) || [];\n            // Free solo no options\n        }\n        else if (typeof srcValue === \"string\") {\n            return [];\n        }\n        const options = [];\n        for (const deptOpt of idDeptMap.values()) {\n            if (deptOpt.parent.__typename === srcValue.__typename &&\n                deptOpt.parent.id === srcValue.id) {\n                options.push(deptOpt);\n            }\n        }\n        return options;\n    }, [srcType, data, idDeptMap, srcValue]);\n    const freeSolo = useMemo(() => {\n        return srcType !== null && srcValue === null;\n    }, [srcType, srcValue]);\n    const disableTextInput = useMemo(() => {\n        return value.length > 0 && options.length === 0 && !freeSolo;\n    }, [value, options, freeSolo]);\n    const label = useMemo(() => {\n        if (srcType === null) {\n            return \"Source Type\";\n        }\n        else if (srcType === JournalEntrySourceType.Person) {\n            return \"Person Name\";\n        }\n        else if (value.length === 1) {\n            return \"Vendor\";\n        }\n        else if (value.length === 2 && options.length > 0) {\n            return \"Department\";\n        }\n        else if (options.length > 0) {\n            return \"Sub-Department\";\n        }\n        return \"Vendor\";\n    }, [value, options, srcType]);\n    const disabled = useMemo(() => \n    // loading || CANNOT disable on loading bc input loses focus on first char\n    disabledFromProps ||\n        disableTextInput ||\n        (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR, [disableTextInput, disabledFromProps, formikStatus]);\n    const renderInput = useCallback((params) => {\n        var _a;\n        // Disable input?\n        if (srcValue &&\n            typeof srcValue !== \"string\" &&\n            srcValue.__typename !== \"Person\" &&\n            options.length === 0) {\n            params = {\n                ...params,\n                inputProps: {\n                    ...((params === null || params === void 0 ? void 0 : params.inputProps) || {}),\n                    style: {\n                        ...(((_a = params === null || params === void 0 ? void 0 : params.inputProps) === null || _a === void 0 ? void 0 : _a.style) || {}),\n                        display: \"none\",\n                    },\n                },\n            };\n        }\n        return (React.createElement(TextField, Object.assign({}, props, { variant: props.variant || \"filled\" }, params, { error: touched && !!error, helperText: touched ? error : undefined, name: \"source\", label: label, disabled: disabled })));\n    }, [srcValue, options.length, props, touched, error, label, disabled]);\n    const onFocus = useCallback(() => setHasFocus(true), [setHasFocus]);\n    const onBlur = useCallback((event) => {\n        setHasFocus(false);\n        // Fixes formik validate called with wrong version of value\n        event.persist();\n        setTimeout(() => onBlurField(event), 0);\n    }, [setHasFocus, onBlurField]);\n    const onChange = useCallback((event, value) => {\n        const srcValueIndex = value.length - 1;\n        const srcValue = value[srcValueIndex];\n        if (isFreeSoloOpt(srcValue)) {\n            const formattedSrcStrs = [];\n            for (let str of srcValue.split(\" \")) {\n                if (str) {\n                    if (namecase.checkName(str)) {\n                        str = namecase(str);\n                    }\n                    formattedSrcStrs.push(str);\n                }\n            }\n            const formattedStr = formattedSrcStrs.join(\" \").trim();\n            value[srcValueIndex] =\n                formattedStr.charAt(0).toUpperCase() + formattedStr.substring(1);\n        }\n        setValue({ inputValue, value });\n    }, [setValue, inputValue]);\n    const onInputChange = useCallback((event, inputValue) => {\n        inputValue = (inputValue || \"\").trimStart();\n        if (!disableTextInput) {\n            setValue({ inputValue, value });\n        }\n        if (srcType !== null && srcValue === null && inputValue) {\n            searchedName.current = inputValue[0].toLowerCase();\n        }\n    }, [setValue, srcType, srcValue, value, disableTextInput, searchedName]);\n    const autoCompleteProps = useMemo(() => {\n        return {\n            ...field,\n            inputValue: disableTextInput ? \"\" : inputValue,\n            open: hasFocus && options.length > 0,\n            onFocus,\n            onBlur,\n            options,\n            renderTags,\n            forcePopupIcon: false,\n            freeSolo,\n            value,\n            renderInput,\n            loading,\n            autoSelect: true,\n            multiple: true,\n            getOptionLabel,\n            onInputChange,\n            onChange,\n            filterOptions,\n            name: \"source\",\n            disabled,\n        };\n    }, [\n        field,\n        disableTextInput,\n        inputValue,\n        hasFocus,\n        options,\n        onFocus,\n        onBlur,\n        freeSolo,\n        value,\n        renderInput,\n        loading,\n        onInputChange,\n        onChange,\n        disabled,\n    ]);\n    if (gqlError) {\n        return React.createElement(\"pre\", null, JSON.stringify(gqlError, null, 2));\n    }\n    return React.createElement(Autocomplete, Object.assign({}, autoCompleteProps));\n};\nexport default Source;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvRW50cnlGaWVsZHMvU291cmNlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUN0RSxPQUFPLFlBR04sTUFBTSwrQkFBK0IsQ0FBQztBQUV2QyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQ2xDLE9BQU8sRUFBRSxRQUFRLEVBQW9CLE1BQU0scUJBQXFCLENBQUM7QUFDakUsT0FBTyxFQUFrQixTQUFTLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3pFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3hDLDZEQUE2RDtBQUM3RCx5Q0FBeUM7QUFDekMsT0FBTyxLQUFLLFFBQVEsTUFBTSxVQUFVLENBQUM7QUFDckMsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBRTlCLE9BQU8sRUFDTCxzQkFBc0IsR0FNdkIsTUFBTSwrQkFBK0IsQ0FBQztBQUN2QyxPQUFPLEVBQ0wsNkJBQTZCLEVBQzdCLDBCQUEwQixFQUMxQiwyQkFBMkIsR0FDNUIsTUFBTSxvQkFBb0IsQ0FBQztBQUM1QixPQUFPLEVBRUwsZUFBZSxFQUNmLGdCQUFnQixHQUNqQixNQUFNLDBCQUEwQixDQUFDO0FBRWxDLE1BQU0sb0JBQW9CLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7OztJQWlCNUIsNkJBQTZCO0lBQzdCLDBCQUEwQjtJQUMxQiwyQkFBMkI7Q0FDOUIsQ0FBQztBQWdCRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxHQUFVLEVBQW9D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","import React, { useMemo } from \"react\";\nimport { useField, useFormikContext } from \"formik\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport { BankPlus, BankMinus } from \"mdi-material-ui\";\nimport { Tooltip, Box, FormControlLabel, FormControl, FormHelperText, } from \"@material-ui/core\";\nimport { JournalEntryType } from \"../../../../apollo/graphTypes\";\nimport { useFormikStatus, FormikStatusType } from \"../../../../utils/formik\";\nconst NULLISH = Symbol();\nconst validate = (value) => {\n    if ((value !== null && value !== void 0 ? value : NULLISH) === NULLISH) {\n        return \"Type Required\";\n    }\n};\nconst Type = (props) => {\n    const { disabled: disabledFromProps = false } = props;\n    const [formikStatus] = useFormikStatus();\n    const { label = false } = props;\n    const { isSubmitting } = useFormikContext();\n    const [field, meta, helpers] = useField({\n        name: \"type\",\n        validate,\n    });\n    const { error, touched } = meta;\n    const { setValue, setTouched } = helpers;\n    const toggleButtonGroupProps = useMemo(() => ({\n        size: \"small\",\n        exclusive: true,\n        disabled: isSubmitting,\n        ...field,\n        onChange: async (event, value) => {\n            if ((value !== null && value !== void 0 ? value : NULLISH) === NULLISH) {\n                return;\n            }\n            setValue(value);\n            await new Promise((resolve) => setTimeout(resolve, 0)); //Avoid pres\n            setTouched(true);\n        },\n    }), [field, isSubmitting, setValue, setTouched]);\n    const disabled = isSubmitting ||\n        disabledFromProps ||\n        (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR;\n    const control = useMemo(() => (React.createElement(Box, { pl: 1, clone: true },\n        React.createElement(ToggleButtonGroup, Object.assign({}, props, toggleButtonGroupProps),\n            React.createElement(ToggleButton, { disabled: disabled, value: JournalEntryType.Credit },\n                React.createElement(Tooltip, { arrow: true, placement: \"top\", title: \"Credit\" },\n                    React.createElement(BankPlus, null))),\n            React.createElement(ToggleButton, { disabled: disabled, value: JournalEntryType.Debit },\n                React.createElement(Tooltip, { arrow: true, placement: \"top\", title: \"Debit\" },\n                    React.createElement(BankMinus, null)))))), [props, toggleButtonGroupProps, disabled]);\n    if (label) {\n        return (React.createElement(FormControl, null,\n            React.createElement(FormControlLabel, Object.assign({}, props, { labelPlacement: typeof label === \"boolean\" ? undefined : label, control: control, label: \"Type\" })),\n            touched && !!error && React.createElement(FormHelperText, { error: true }, error)));\n    }\n    return (React.createElement(FormControl, null,\n        control,\n        !!error && React.createElement(FormHelperText, { error: true }, error)));\n};\nexport default Type;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVXBzZXJ0L0VudHJ5RmllbGRzL1R5cGUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDcEQsT0FBTyxpQkFFTixNQUFNLG9DQUFvQyxDQUFDO0FBQzVDLE9BQU8sWUFBWSxNQUFNLCtCQUErQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEQsT0FBTyxFQUNMLE9BQU8sRUFDUCxHQUFHLEVBQ0gsZ0JBQWdCLEVBRWhCLFdBQVcsRUFDWCxjQUFjLEdBQ2YsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNqRSxPQUFPLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFN0UsTUFBTSxPQUFPLEdBQWtCLE1BQU0sRUFBRSxDQUFDO0FBRXhDLE1BQU0sUUFBUSxHQUFHLENBQUMsS0FBd0IsRUFBaUIsRUFBRTtJQUMzRCxJQUFLLENBQUMsS0FBSyxhQUFMLEtBQUssY0FBTCxLQUFLLEdBQUksT0FBTyxDQUFhLEtBQUssT0FBTyxFQUFFO1FBQy9DLE9BQU8sZUFBZSxDQUFDO0tBQ3hCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxJQUFJLEdBQUcsQ0FDWCxLQUVtRCxFQUN0QyxFQUFFO0lBQ2YsTUFBTSxFQUFFLFFBQVEsRUFBRSxpQkFBaUIsR0FBRyxLQUFLLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFdEQsTUFBTSxDQUFDLFlBQVksQ0FBQyxHQUFHLGVBQWUsRUFBRSxDQUFDO0lBRXpDLE1BQU0s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","import React, { useMemo, useCallback } from \"react\";\nimport { Dialog, DialogTitle, Box, DialogContent, DialogContentText, Grid, DialogActions, Button, useTheme, } from \"@material-ui/core\";\nimport { Add as AddIcon, Cancel as CancelIcon, Queue as QueueIcon, } from \"@material-ui/icons\";\nimport { Formik, useFormikContext } from \"formik\";\nimport { useApolloClient, useQuery, } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nimport submitAdd from \"./submitAdd\";\nimport { FormikStatusType, useFormikStatus, } from \"../../../../utils/formik\";\nimport { DEPT_ENTRY_OPT_FRAGMENT, FISCAL_YEAR } from \"../upsertEntry.gql\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport Overlay from \"../../../utils/Overlay\";\nimport DateEntry from \"../EntryFields/DateEntry\";\nimport Description from \"../EntryFields/Description\";\nimport Total from \"../EntryFields/Total\";\nimport Reconcile from \"../EntryFields/Reconcile\";\nimport PaymentMethod from \"../EntryFields/PaymentMethod\";\nimport Category from \"../EntryFields/Category\";\nimport Department from \"../EntryFields/Department\";\nimport Source from \"../EntryFields/Source\";\nimport Type from \"../EntryFields/Type\";\nconst gridEntryResponsiveProps = {\n    item: true,\n    lg: 4,\n    sm: 6,\n    xs: 12,\n};\nconst DEPT_INI_VALUE = gql `\n  query DeptIniValueForAddEntry($id: ID!) {\n    department(id: $id) {\n      ...DeptEntryOptFragment\n    }\n  }\n  ${DEPT_ENTRY_OPT_FRAGMENT}\n`;\nconst AddEntryDialog = (props) => {\n    const { open, onClose, loading } = props;\n    const { resetForm, isSubmitting, isValid, submitForm, values: { date }, } = useFormikContext();\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((err) => {\n        setFormikStatus({ msg: err.message, type: FormikStatusType.FATAL_ERROR });\n    }, [setFormikStatus]);\n    const { data } = useQuery(FISCAL_YEAR, {\n        skip: !(date === null || date === void 0 ? void 0 : date.inputValue),\n        variables: {\n            date: (date === null || date === void 0 ? void 0 : date.value) || \"\",\n        },\n        onError,\n    });\n    const fiscalYearId = useMemo(() => { var _a, _b; return (_b = (_a = data === null || data === void 0 ? void 0 : data.fiscalYears[0]) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"\"; }, [\n        data,\n    ]);\n    const [generalError, fatalError] = useMemo(() => {\n        if (formikStatus &&\n            (formikStatus.type === FormikStatusType.FATAL_ERROR ||\n                formikStatus.type === FormikStatusType.ERROR)) {\n            return [\n                formikStatus.msg,\n                formikStatus.type === FormikStatusType.FATAL_ERROR,\n            ];\n        }\n        return [null, null];\n    }, [formikStatus]);\n    const onExited = useCallback(() => {\n        resetForm();\n        setFormikStatus(null);\n    }, [resetForm, setFormikStatus]);\n    const title = useMemo(() => {\n        if (fatalError) {\n            return \"Fatal Error\";\n        }\n        else if (isSubmitting) {\n            return \"Submitting Add Entry...\";\n        }\n        else if (loading) {\n            return \"Loading Add Entry...\";\n        }\n        return \"Add Entry\";\n    }, [fatalError, isSubmitting, loading]);\n    const theme = useTheme();\n    const onClickAdd = useCallback(async () => {\n        var _a;\n        try {\n            setFormikStatus(null);\n            await submitForm();\n            onClose();\n        }\n        catch (error) {\n            setFormikStatus({\n                msg: (_a = error.message) !== null && _a !== void 0 ? _a : `${error}`,\n                type: FormikStatusType.ERROR,\n            });\n        }\n    }, [submitForm, onClose, setFormikStatus]);\n    const onClickAddAndNew = useCallback(async () => {\n        var _a;\n        try {\n            setFormikStatus(null);\n            await submitForm();\n            resetForm();\n        }\n        catch (error) {\n            setFormikStatus({\n                msg: (_a = error.message) !== null && _a !== void 0 ? _a : `${error}`,\n                type: FormikStatusType.ERROR,\n            });\n        }\n    }, [submitForm, resetForm, setFormikStatus]);\n    const handleSubmit = useCallback((event) => event.preventDefault(), []);\n    return (React.createElement(Dialog, { open: open, onClose: onClose, onExited: onExited, disableBackdropClick: isSubmitting, disableEscapeKeyDown: isSubmitting, fullWidth: true, maxWidth: \"lg\", PaperProps: {\n            component: \"form\",\n            onSubmit: handleSubmit,\n        } },\n        React.createElement(DialogTitle, { style: generalError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            (isSubmitting || loading) && !generalError && (React.createElement(OverlayLoading, { zIndex: \"modal\" })),\n            !!generalError && fatalError && (React.createElement(Overlay, { opacity: 0.78, zIndex: \"modal\", padding: 2 },\n                React.createElement(DialogContentText, { color: \"error\" }, generalError))),\n            React.createElement(DialogContent, { dividers: true },\n                !!generalError && !fatalError && (React.createElement(DialogContentText, { color: \"error\" }, generalError)),\n                React.createElement(Grid, { container: true, spacing: 2 },\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps, { justify: \"center\", container: true }),\n                        React.createElement(Type, { style: { margin: theme.spacing(1) }, label: \"start\", disabled: loading || isSubmitting || !!fatalError })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(DateEntry, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Source, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Category, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true, required: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Department, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true, required: true, fiscalYearId: fiscalYearId })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Description, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(PaymentMethod, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Total, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({ container: true, justify: \"center\", alignItems: \"flex-start\" }, gridEntryResponsiveProps),\n                        React.createElement(Reconcile, { disabled: loading || isSubmitting || !!fatalError, label: true }))))),\n        React.createElement(DialogActions, null,\n            !fatalError && (React.createElement(React.Fragment, null,\n                React.createElement(Button, { onClick: onClickAdd, disabled: loading || isSubmitting || !isValid, type: \"submit\", startIcon: React.createElement(AddIcon, null), color: \"primary\", variant: \"contained\" }, \"Add\"),\n                React.createElement(Button, { onClick: onClickAddAndNew, disabled: loading || isSubmitting || !isValid, type: \"submit\", startIcon: React.createElement(QueueIcon, null), variant: \"outlined\" }, \"Add & New\"))),\n            React.createElement(Button, { disabled: isSubmitting, color: fatalError ? \"primary\" : \"default\", startIcon: !fatalError && React.createElement(CancelIcon, null), onClick: onClose }, fatalError ? \"Ok\" : \"Cancel\"))));\n};\nconst AddEntry = (props) => {\n    const { open, onClose, deptId } = props;\n    const { loading, error, data } = useQuery(DEPT_INI_VALUE, {\n        skip: !deptId,\n        variables: {\n            id: deptId,\n        },\n    });\n    const department = data === null || data === void 0 ? void 0 : data.department;\n    const initialValues = useMemo(() => (department ? { department } : {}), [department]);\n    const initialStatus = useMemo(() => error ? { msg: error.message, type: FormikStatusType.FATAL_ERROR } : null, [error]);\n    const client = useApolloClient();\n    const onSubmit = useCallback((values, formikHelpers) => submitAdd(client, values, formikHelpers), [client]);\n    const children = useCallback(( /* props: FormikProps<AddValues> */) => (React.createElement(AddEntryDialog, { open: open, onClose: onClose, loading: loading })), [open, onClose, loading]);\n    return (React.createElement(Formik, { initialValues: initialValues, initialStatus: initialStatus, enableReinitialize: true, onSubmit: onSubmit }, children));\n};\nexport default AddEntry;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWRkRW50cnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1Vwc2VydC9FbnRyaWVzL0FkZEVudHJ5LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDcEQsT0FBTyxFQUNMLE1BQU0sRUFDTixXQUFXLEVBQ1gsR0FBRyxFQUNILGFBQWEsRUFDYixpQkFBaUIsRUFFakIsSUFBSSxFQUNKLGFBQWEsRUFDYixNQUFNLEVBQ04sUUFBUSxHQUVULE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUNMLEdBQUcsSUFBSSxPQUFPLEVBQ2QsTUFBTSxJQUFJLFVBQVUsRUFDcEIsS0FBSyxJQUFJLFNBQVMsR0FDbkIsTUFBTSxvQkFBb0IsQ0FBQztBQUM1QixPQUFPLEVBQUUsTUFBTSxFQUE2QixnQkFBZ0IsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUM3RSxPQUFPLEVBQ0wsZUFBZSxFQUNmLFFBQVEsR0FFVCxNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQVE5QixPQUFPLFNBQXdCLE1BQU0sYUFBYSxDQUFDO0FBQ25ELE9BQU8sRUFDTCxnQkFBZ0IsRUFFaEIsZUFBZSxHQUNoQixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxXQUFXLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMxRSxPQUFPLGNBQWMsTUFBTSwrQkFBK0IsQ0FBQztBQUMzRCxPQUFPLE9BQU8sTUFBTSx3QkFBd0IsQ0FBQztBQUM3QyxPQUFPLFNBQVMsTUFBTSwwQkFBMEIsQ0FBQztBQUNqRCxPQUFPLFdBQVcsTUFBTSw0QkFBNEIsQ0FBQztBQUNyRCxPQUFPLEtBQUssTUFBTSxzQkFBc0IsQ0FBQztBQUN6QyxPQUFPLFNBQVMsTUFBTSwwQkFBMEIsQ0FB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","import gql from \"graphql-tag\";\nimport { isEqual } from \"date-fns\";\nimport { parseName } from \"humanparser\";\nimport { JournalEntrySourceType, } from \"../../../../apollo/graphTypes\";\nimport { CHECK_ID } from \"../../constants\";\nimport { JOURNAL_ENTRY_FRAGMENT } from \"../../Table/JournalEntries.gql\";\nimport { rationalToFraction } from \"../../../../utils/rational\";\nconst NULLISH = Symbol();\nconst UPDATE_ENTRY = gql `\n  mutation UpdateEntry(\n    $id: ID!\n    $fields: JournalEntryUpdateFields!\n    $paymentMethodAdd: PaymentMethodAddFields\n    $paymentMethodUpdate: JournalEntryUpdatePaymentMethod\n    $personAdd: PersonAddFields\n    $businessAdd: BusinessAddFields\n  ) {\n    journalEntryUpdate(\n      id: $id\n      fields: $fields\n      paymentMethodAdd: $paymentMethodAdd\n      paymentMethodUpdate: $paymentMethodUpdate\n      personAdd: $personAdd\n      businessAdd: $businessAdd\n    ) {\n      ...JournalEntry_1Fragment\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nconst submitUpdate = async (client, iniValues, id, values) => {\n    var _a;\n    // Category\n    const category = (() => {\n        var _a, _b, _c, _d;\n        const category = (_b = (_a = values.category.value[values.category.value.length - 1]) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : null;\n        return category ===\n            ((_d = (_c = iniValues.category.value[iniValues.category.value.length - 1]) === null || _c === void 0 ? void 0 : _c.id) !== null && _d !== void 0 ? _d : null)\n            ? null\n            : category;\n    })();\n    // Date\n    const date = isEqual(iniValues.date.inputValue, values.date.inputValue)\n        ? null\n        : values.date.value;\n    // Date of Record\n    const dateOfRecord = (() => {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\n        const dateOfRecord = {};\n        // date\n        if (!isEqual((_c = (_b = (_a = iniValues === null || iniValues === void 0 ? void 0 : iniValues.dateOfRecord) === null || _a === void 0 ? void 0 : _a.date) === null || _b === void 0 ? void 0 : _b.inputValue) !== null && _c !== void 0 ? _c : 0, (_f = (_e = (_d = values === null || values === void 0 ? void 0 : values.dateOfRecord) === null || _d === void 0 ? void 0 : _d.date) === null || _e === void 0 ? void 0 : _e.inputValue) !== null && _f !== void 0 ? _f : 0)) {\n            dateOfRecord.date = (_j = (_h = (_g = values === null || values === void 0 ? void 0 : values.dateOfRecord) === null || _g === void 0 ? void 0 : _g.date) === null || _h === void 0 ? void 0 : _h.value) !== null && _j !== void 0 ? _j : null;\n        }\n        // overrideFiscalYear\n        if (((_k = iniValues === null || iniValues === void 0 ? void 0 : iniValues.dateOfRecord) === null || _k === void 0 ? void 0 : _k.overrideFiscalYear) !== ((_l = values === null || values === void 0 ? void 0 : values.dateOfRecord) === null || _l === void 0 ? void 0 : _l.overrideFiscalYear)) {\n            dateOfRecord.overrideFiscalYear = (_o = (_m = values === null || values === void 0 ? void 0 : values.dateOfRecord) === null || _m === void 0 ? void 0 : _m.overrideFiscalYear) !== null && _o !== void 0 ? _o : null;\n        }\n        // clear\n        if (((_p = iniValues === null || iniValues === void 0 ? void 0 : iniValues.dateOfRecord) === null || _p === void 0 ? void 0 : _p.clear) !== ((_q = values === null || values === void 0 ? void 0 : values.dateOfRecord) === null || _q === void 0 ? void 0 : _q.clear)) {\n            dateOfRecord.clear = (_s = (_r = values === null || values === void 0 ? void 0 : values.dateOfRecord) === null || _r === void 0 ? void 0 : _r.clear) !== null && _s !== void 0 ? _s : null;\n        }\n        return dateOfRecord.date ||\n            ((_t = dateOfRecord.clear) !== null && _t !== void 0 ? _t : NULLISH) !== NULLISH ||\n            ((_u = dateOfRecord.overrideFiscalYear) !== null && _u !== void 0 ? _u : NULLISH) !== NULLISH\n            ? dateOfRecord\n            : null;\n    })();\n    // Department\n    const department = values.department.id === iniValues.department.id\n        ? null\n        : values.department.id;\n    // Description\n    const description = ((_a = values.description) === null || _a === void 0 ? void 0 : _a.trim()) && values.description !== iniValues.description\n        ? values.description.trim()\n        : null;\n    // Total\n    const total = rationalToFraction(values.total.value).compare(rationalToFraction(iniValues.total.value)) === 0\n        ? null\n        : values.total.value;\n    // Type\n    const type = values.type === iniValues.type ? null : values.type;\n    // Reconciled\n    const reconciled = values.reconciled === iniValues.reconciled ? null : values.reconciled;\n    // Payment Method\n    const { paymentMethod, paymentMethodAdd, paymentMethodUpdate } = (() => {\n        const iniPayMethod = iniValues.paymentMethod.value[iniValues.paymentMethod.value.length - 1];\n        const [payMethod, parent] = values.paymentMethod.value\n            .slice(-2)\n            .reverse();\n        // Currently CHECK Numbers only\n        if (typeof payMethod === \"string\") {\n            // Update check number on payment method\n            if (iniPayMethod.parent && iniPayMethod.parent.id === CHECK_ID) {\n                return {\n                    paymentMethod: null,\n                    paymentMethodAdd: null,\n                    paymentMethodUpdate: {\n                        id: iniPayMethod.id,\n                        fields: {\n                            active: null,\n                            refId: payMethod,\n                            name: payMethod,\n                        },\n                    },\n                };\n                // Add new check number payment method\n            }\n            else {\n                return {\n                    paymentMethod: null,\n                    paymentMethodAdd: {\n                        parent: parent.id,\n                        refId: payMethod,\n                        name: payMethod,\n                        active: false,\n                    },\n                    paymentMethodUpdate: null,\n                };\n            }\n            // Update payment method\n        }\n        else if (payMethod.id !== iniPayMethod.id) {\n            return {\n                paymentMethod: payMethod.id,\n                paymentMethodAdd: null,\n                paymentMethodUpdate: null,\n            };\n        }\n        return {\n            paymentMethod: null,\n            paymentMethodAdd: null,\n            paymentMethodUpdate: null,\n        };\n    })();\n    // Source\n    const { source, personAdd, businessAdd } = (() => {\n        const srcType = values.source.value[0];\n        const src = values.source.value[values.source.value.length - 1];\n        const iniSrcType = iniValues.source.value[0];\n        const iniSrc = iniValues.source.value[iniValues.source.value.length - 1];\n        if (typeof src === \"string\") {\n            if (srcType === JournalEntrySourceType.Person) {\n                const parsedName = parseName(src);\n                return {\n                    source: {\n                        sourceType: JournalEntrySourceType.Person,\n                        id: \"\",\n                    },\n                    businessAdd: null,\n                    personAdd: {\n                        name: {\n                            first: parsedName.firstName,\n                            last: parsedName.lastName,\n                        },\n                    },\n                };\n            }\n            else {\n                return {\n                    source: {\n                        sourceType: JournalEntrySourceType.Business,\n                        id: \"\",\n                    },\n                    businessAdd: {\n                        name: src,\n                    },\n                    personAdd: null,\n                };\n            }\n        }\n        else if (srcType === iniSrcType && src.id === iniSrc.id) {\n            // No Updates\n            return {\n                source: null,\n                businessAdd: null,\n                personAdd: null,\n            };\n        }\n        return {\n            source: {\n                sourceType: (() => {\n                    switch (src.__typename) {\n                        case \"Business\":\n                            return JournalEntrySourceType.Business;\n                        case \"Department\":\n                            return JournalEntrySourceType.Department;\n                        case \"Person\":\n                            return JournalEntrySourceType.Person;\n                    }\n                })(),\n                id: src.id,\n            },\n            personAdd: null,\n            businessAdd: null,\n        };\n    })();\n    const variables = {\n        id,\n        fields: {\n            category,\n            date,\n            dateOfRecord,\n            department,\n            description,\n            total,\n            type,\n            source,\n            reconciled,\n            paymentMethod,\n        },\n        paymentMethodAdd,\n        paymentMethodUpdate,\n        personAdd,\n        businessAdd,\n    };\n    await client.mutate({\n        mutation: UPDATE_ENTRY,\n        variables,\n    });\n};\nexport default submitUpdate;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VibWl0VXBkYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvRW50cmllcy9zdWJtaXRVcGRhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBRTlCLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDbkMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUV4QyxPQUFPLEVBS0wsc0JBQXNCLEdBSXZCLE1BQU0sK0JBQStCLENBQUM7QUFFdkMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRXhFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRWhFLE1BQU0sT0FBTyxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBcUR6QixNQUFNLFlBQVksR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBb0JwQixzQkFBc0I7Q0FDekIsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUt3QyxLQUFLLEVBQzdELE1BQU0sRUFDTixTQUFTLEVBQ1QsRUFBRSxFQUNGLE1BQU0sRUFDTixFQUFFOztJQUNGLFdBQVc7SUFDWCxNQUFNLFFBQVEsR0FBRyxDQUFDLEdBQUcsRUFBRTs7UUFDckIsTUFBTSxRQUFRLGVBQ1osTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQywwQ0FBRSxFQUFFLG1DQUFJLElBQUksQ0FBQztRQUV0RSxPQUFPLFFBQVE7WUFDYixhQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxD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","import React, { useMemo, useCallback, useRef } from \"react\";\nimport { KeyboardDatePicker, MuiPickersUtilsProvider, } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { useField, useFormikContext } from \"formik\";\nimport { Box, FormControlLabel, Grid, Switch, Tooltip, } from \"@material-ui/core\";\nimport { parseISO, min, isValid, formatISO, format } from \"date-fns\";\nimport { createValueTransmutator, useFormikStatus, FormikStatusType, } from \"../../../../utils/formik\";\nconst inputProps = {\n    inputMode: \"numeric\",\n};\nconst keyboardButtonProps = {\n    tabIndex: -1,\n};\nconst dateValueTransmutator = createValueTransmutator((...args) => {\n    const [date, value] = args;\n    if (date && isValid(date)) {\n        return formatISO(date);\n    }\n    return value || \"\";\n});\nexport const DateOfRecord = (props) => {\n    var _a, _b, _c, _d, _e;\n    const { autoFocus = false, disabled = false, maxDate = new Date(), minDate, } = props;\n    const { variant: inputVariant = \"filled\", ...textFieldProps } = props;\n    const { isSubmitting } = useFormikContext();\n    const validate = useCallback((value) => {\n        const dateStr = ((value === null || value === void 0 ? void 0 : value.value) || \"\").trim();\n        if (dateStr) {\n            const date = parseISO(dateStr);\n            if (!isValid(date)) {\n                return \"Invalid Date\";\n            }\n            else if (minDate && date < minDate) {\n                return `Cannot be before ${format(minDate, \"MM/dd/yyyy\")}`;\n            }\n            else if (maxDate < date) {\n                return `Cannot be after ${format(maxDate, \"MM/dd/yyyy\")}`;\n            }\n        }\n    }, [minDate, maxDate]);\n    const [field, meta, helpers] = useField({\n        name: \"dateOfRecord\",\n        validate,\n    });\n    const fieldValue = field.value;\n    const value = (_b = (_a = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.date) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : null;\n    const { error, touched } = meta;\n    const { setValue, setTouched } = helpers;\n    const initialInputValue = (_d = (_c = meta.initialValue) === null || _c === void 0 ? void 0 : _c.date) === null || _d === void 0 ? void 0 : _d.inputValue;\n    const initialFocusedDate = useMemo(() => initialInputValue && isValid(initialInputValue)\n        ? initialInputValue\n        : new Date(), [initialInputValue]);\n    const InputProps = useMemo(() => ({\n        autoFocus,\n    }), [autoFocus]);\n    // Handle touched\n    const calOpen = useRef(false);\n    const onBlur = useCallback(() => setTimeout(() => {\n        if (calOpen.current) {\n            return;\n        }\n        setTouched(true);\n    }, 0), [setTouched, calOpen]);\n    const onOpen = useCallback(() => (calOpen.current = true), [calOpen]);\n    const onClose = useCallback(() => {\n        calOpen.current = false;\n        onBlur();\n    }, [calOpen, onBlur]);\n    const onChange = useCallback((date, value) => {\n        setValue({\n            date: dateValueTransmutator(\n            // limit max date\n            date && isValid(date) ? min([new Date(), date]) : date, value),\n            clear: !date,\n            overrideFiscalYear: !date ? false : fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.overrideFiscalYear,\n        });\n    }, [setValue, fieldValue]);\n    const onChangeSwitch = useCallback((event, checked) => {\n        setValue({\n            ...fieldValue,\n            overrideFiscalYear: checked,\n        });\n    }, [fieldValue, setValue]);\n    const [formikStatus] = useFormikStatus();\n    const dataPickerProps = useMemo(() => ({\n        ...field,\n        disabled: isSubmitting ||\n            disabled ||\n            (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR,\n        value,\n        error: touched && !!error,\n        helperText: touched ? error : undefined,\n        animateYearScrolling: true,\n        disableToolbar: true,\n        disableFuture: true,\n        inputVariant,\n        variant: \"inline\",\n        format: \"MM/dd/yyyy\",\n        margin: \"none\",\n        label: \"Date of Record\",\n        initialFocusedDate,\n        autoOk: true,\n        InputProps,\n        inputProps,\n        placeholder: \"mm/dd/yyyy\",\n        KeyboardButtonProps: keyboardButtonProps,\n        onBlur,\n        onOpen,\n        onClose,\n        onChange,\n    }), [\n        value,\n        initialFocusedDate,\n        onBlur,\n        error,\n        inputVariant,\n        InputProps,\n        isSubmitting,\n        field,\n        onOpen,\n        onClose,\n        onChange,\n        touched,\n        disabled,\n        formikStatus,\n    ]);\n    return (React.createElement(Grid, { container: true, direction: \"row\", justify: \"center\", alignItems: \"center\" },\n        React.createElement(Box, { flexGrow: \"1\", marginRight: 1, clone: true },\n            React.createElement(Grid, { item: true },\n                React.createElement(MuiPickersUtilsProvider, { utils: DateFnsUtils },\n                    React.createElement(KeyboardDatePicker, Object.assign({ maxDate: maxDate }, textFieldProps, dataPickerProps))))),\n        React.createElement(Grid, { item: true },\n            React.createElement(Tooltip, { title: \"Override fiscal year with date of record.\" },\n                React.createElement(FormControlLabel, { label: \"As Year\", disabled: !value ||\n                        isSubmitting ||\n                        disabled ||\n                        (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR, control: React.createElement(Switch, { checked: (_e = fieldValue === null || fieldValue === void 0 ? void 0 : fieldValue.overrideFiscalYear) !== null && _e !== void 0 ? _e : false, name: \"overrideFiscalYear\", onChange: onChangeSwitch }) })))));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0ZU9mUmVjb3JkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvRW50cnlGaWVsZHMvRGF0ZU9mUmVjb3JkLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQzVELE9BQU8sRUFDTCxrQkFBa0IsRUFFbEIsdUJBQXVCLEdBQ3hCLE1BQU0sc0JBQXNCLENBQUM7QUFDOUIsT0FBTyxZQUFZLE1BQU0sbUJBQW1CLENBQUM7QUFDN0MsT0FBTyxFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBbUIsTUFBTSxRQUFRLENBQUM7QUFDckUsT0FBTyxFQUNMLEdBQUcsRUFDSCxnQkFBZ0IsRUFDaEIsSUFBSSxFQUNKLE1BQU0sRUFHTixPQUFPLEdBQ1IsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUVyRSxPQUFPLEVBRUwsdUJBQXVCLEVBQ3ZCLGVBQWUsRUFDZixnQkFBZ0IsR0FDakIsTUFBTSwwQkFBMEIsQ0FBQztBQUlsQyxNQUFNLFVBQVUsR0FBRztJQUNqQixTQUFTLEVBQUUsU0FBUztDQUNaLENBQUM7QUFFWCxNQUFNLG1CQUFtQixHQUFHO0lBQzFCLFFBQVEsRUFBRSxDQUFDLENBQUM7Q0FDSixDQUFDO0FBRVgsTUFBTSxxQkFBcUIsR0FBRyx1QkFBdUIsQ0FDbkQsQ0FBQyxHQUFHLElBQXFELEVBQUUsRUFBRTtJQUMzRCxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQztJQUMzQixJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDekIsT0FBTyxTQUFTLENBQUMsSUFBSSxD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","import React, { useMemo, useCallback } from \"react\";\nimport gql from \"graphql-tag\";\nimport { Formik, useFormikContext } from \"formik\";\nimport { useQuery, useApolloClient, } from \"@apollo/react-hooks\";\nimport { Dialog, DialogTitle, Box, DialogContent, DialogContentText, Grid, DialogActions, Button, useTheme, } from \"@material-ui/core\";\nimport { Add as AddIcon, Cancel as CancelIcon } from \"@material-ui/icons\";\nimport Fraction from \"fraction.js\";\nimport { JournalEntrySourceType, } from \"../../../../apollo/graphTypes\";\nimport { FormikStatusType, useFormikStatus, } from \"../../../../utils/formik\";\nimport submitUpdate from \"./submitUpdate\";\nimport { PAY_METHOD_ENTRY_OPT_FRAGMENT, DEPT_ENTRY_OPT_FRAGMENT, CAT_ENTRY_OPT_FRAGMENT, SRC_ENTRY_PERSON_OPT_FRAGMENT, SRC_ENTRY_BIZ_OPT_FRAGMENT, SRC_ENTRY_DEPT_OPT_FRAGMENT, FISCAL_YEAR, } from \"../upsertEntry.gql\";\nimport { min } from \"date-fns/esm\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport Overlay from \"../../../utils/Overlay\";\nimport DateEntry from \"../EntryFields/DateEntry\";\nimport { DateOfRecord } from \"../EntryFields/DateOfRecord\";\nimport Description from \"../EntryFields/Description\";\nimport Total from \"../EntryFields/Total\";\nimport Reconcile from \"../EntryFields/Reconcile\";\nimport PaymentMethod from \"../EntryFields/PaymentMethod\";\nimport Category from \"../EntryFields/Category\";\nimport Department from \"../EntryFields/Department\";\nimport Source from \"../EntryFields/Source\";\nimport Type from \"../EntryFields/Type\";\nimport { rationalToFraction } from \"../../../../utils/rational\";\nconst UPDATE_ENTRY_INI_STATE = gql `\n  query UpdateEntryIniState($id: ID!) {\n    journalEntry(id: $id) {\n      id\n      __typename\n      type\n      date\n      dateOfRecord {\n        date\n        overrideFiscalYear\n      }\n      department {\n        ...DeptEntryOptFragment\n      }\n      category {\n        ...CatEntryOptFragment\n        ancestors {\n          ...CatEntryOptFragment\n        }\n      }\n      source {\n        ...SrcEntryPersonOptFragment\n        ...SrcEntryBizOptFragment\n        ...SrcEntryDeptOptFragment\n        ... on Department {\n          ancestors {\n            ...SrcEntryDeptOptFragment\n            ...SrcEntryBizOptFragment\n          }\n        }\n      }\n      paymentMethod {\n        ...PayMethodEntryOptFragment\n        ancestors {\n          ...PayMethodEntryOptFragment\n        }\n      }\n      description\n      total {\n        n\n        d\n        s\n      }\n      refunds {\n        id\n        __typename\n        deleted\n        date\n        total {\n          n\n          d\n          s\n        }\n      }\n      reconciled\n    }\n  }\n  ${DEPT_ENTRY_OPT_FRAGMENT}\n  ${CAT_ENTRY_OPT_FRAGMENT}\n  ${SRC_ENTRY_PERSON_OPT_FRAGMENT}\n  ${SRC_ENTRY_BIZ_OPT_FRAGMENT}\n  ${SRC_ENTRY_DEPT_OPT_FRAGMENT}\n  ${PAY_METHOD_ENTRY_OPT_FRAGMENT}\n`;\nconst MAX_DATE = new Date(8640000000000000);\nconst gridEntryResponsiveProps = {\n    item: true,\n    lg: 4,\n    sm: 6,\n    xs: 12,\n};\nconst UpdateEntryDialog = (props) => {\n    const { open, onClose, onExited: onExitedCb, journalEntry, loading, handleSubmit, } = props;\n    const { resetForm, isSubmitting, isValid, values: { date, dateOfRecord }, } = useFormikContext();\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((err) => {\n        setFormikStatus({ msg: err.message, type: FormikStatusType.FATAL_ERROR });\n    }, [setFormikStatus]);\n    const dateStr = useMemo(() => {\n        var _a, _b, _c;\n        if (dateOfRecord === null || dateOfRecord === void 0 ? void 0 : dateOfRecord.overrideFiscalYear) {\n            return (_b = (_a = dateOfRecord === null || dateOfRecord === void 0 ? void 0 : dateOfRecord.date) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : \"\";\n        }\n        return (_c = date === null || date === void 0 ? void 0 : date.value) !== null && _c !== void 0 ? _c : \"\";\n    }, [date, dateOfRecord]);\n    const { data } = useQuery(FISCAL_YEAR, {\n        skip: !dateStr,\n        variables: {\n            date: dateStr || \"\",\n        },\n        returnPartialData: true,\n        onError,\n    });\n    const fiscalYearId = useMemo(() => { var _a, _b, _c; return (_c = (_b = ((_a = data === null || data === void 0 ? void 0 : data.fiscalYears) !== null && _a !== void 0 ? _a : [])[0]) === null || _b === void 0 ? void 0 : _b.id) !== null && _c !== void 0 ? _c : \"\"; }, [data]);\n    const refunds = (journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.refunds) || [];\n    // Updates to total cannot be less than current refunds.\n    const [minTotal, maxDate] = useMemo(() => refunds.reduce(([minTotal, maxDate], { deleted, total, date }) => [\n        deleted ? minTotal : minTotal.add(rationalToFraction(total)),\n        deleted ? maxDate : min([maxDate, new Date(date)]),\n    ], [new Fraction(0), MAX_DATE]), [refunds]);\n    const onExited = useCallback(() => {\n        onExitedCb();\n        resetForm();\n        setFormikStatus(null);\n    }, [resetForm, onExitedCb, setFormikStatus]);\n    const [generalError, fatalError] = useMemo(() => {\n        if (formikStatus &&\n            (formikStatus.type === FormikStatusType.FATAL_ERROR ||\n                formikStatus.type === FormikStatusType.ERROR)) {\n            return [\n                formikStatus.msg,\n                formikStatus.type === FormikStatusType.FATAL_ERROR,\n            ];\n        }\n        return [null, null];\n    }, [formikStatus]);\n    const title = useMemo(() => {\n        const title = \"Entry Update\";\n        if (fatalError) {\n            return \"Fatal Error\";\n        }\n        else if (loading) {\n            return `Loading ${title}...`;\n        }\n        else if (isSubmitting) {\n            return `Submitting ${title}`;\n        }\n        return title;\n    }, [loading, fatalError, isSubmitting]);\n    const theme = useTheme();\n    return (React.createElement(Dialog, { open: open, onClose: onClose, onExited: onExited, fullWidth: true, disableBackdropClick: isSubmitting, disableEscapeKeyDown: isSubmitting, maxWidth: \"lg\", PaperProps: {\n            component: \"form\",\n            onSubmit: handleSubmit,\n        } },\n        React.createElement(DialogTitle, { style: generalError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            (isSubmitting || loading) && !generalError && (React.createElement(OverlayLoading, { zIndex: \"modal\" })),\n            !!generalError && fatalError && (React.createElement(Overlay, { opacity: 0.78, zIndex: \"modal\", padding: 2 },\n                React.createElement(DialogContentText, { color: \"error\" }, generalError))),\n            React.createElement(DialogContent, { dividers: true },\n                !!generalError && !fatalError && (React.createElement(DialogContentText, { color: \"error\" }, generalError)),\n                React.createElement(Grid, { container: true, spacing: 2 },\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps, { justify: \"center\", container: true }),\n                        React.createElement(Type, { style: { margin: theme.spacing(1) }, label: \"start\", disabled: isSubmitting || loading || !!fatalError })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(DateEntry, { disabled: isSubmitting || loading || !!fatalError, maxDate: maxDate === MAX_DATE ? undefined : maxDate, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(DateOfRecord, { disabled: isSubmitting || loading || !!fatalError, \n                            // maxDate={maxDate === MAX_DATE ? undefined : maxDate}\n                            fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Source, { disabled: isSubmitting || loading || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Category, { disabled: isSubmitting || loading || !!fatalError, fullWidth: true, required: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Department, { disabled: isSubmitting || loading || !!fatalError, fullWidth: true, required: true, fiscalYearId: fiscalYearId })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Description, { disabled: isSubmitting || loading || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(PaymentMethod, { disabled: isSubmitting || loading || !!fatalError, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Total, { disabled: isSubmitting || loading || !!fatalError, minTotal: minTotal, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({ container: true, justify: \"center\", alignItems: \"flex-start\" }, gridEntryResponsiveProps),\n                        React.createElement(Reconcile, { disabled: isSubmitting || loading || !!fatalError, label: true }))))),\n        React.createElement(DialogActions, null,\n            !fatalError && (React.createElement(Button, { disabled: isSubmitting || !isValid || loading, type: \"submit\", startIcon: React.createElement(AddIcon, null), color: \"primary\", variant: \"contained\" }, \"Update\")),\n            React.createElement(Button, { disabled: isSubmitting, color: fatalError ? \"primary\" : \"default\", startIcon: !fatalError && React.createElement(CancelIcon, null), onClick: onClose }, fatalError ? \"Ok\" : \"Cancel\"))));\n};\nconst UpdateEntry = (props) => {\n    var _a;\n    const { entryId, open, onClose, onExited } = props;\n    const { loading, error, data } = useQuery(UPDATE_ENTRY_INI_STATE, {\n        skip: !entryId,\n        variables: {\n            id: entryId,\n        },\n    });\n    const initialStatus = useMemo(() => error\n        ? {\n            msg: error.message,\n            type: FormikStatusType.FATAL_ERROR,\n        }\n        : null, [error]);\n    const journalEntry = data === null || data === void 0 ? void 0 : data.journalEntry;\n    const initialValues = useMemo(() => {\n        var _a;\n        if (!journalEntry) {\n            return {};\n        }\n        const date = {\n            inputValue: new Date(journalEntry.date),\n            value: journalEntry.date,\n        };\n        const dateOfRecord = journalEntry.dateOfRecord\n            ? {\n                date: {\n                    inputValue: new Date(journalEntry.dateOfRecord.date),\n                    value: journalEntry.dateOfRecord.date,\n                },\n                overrideFiscalYear: journalEntry.dateOfRecord.overrideFiscalYear,\n                clear: false,\n            }\n            : null;\n        const category = (() => {\n            const { ancestors, ...category } = journalEntry.category;\n            // Array.prototype.sort mutates the array, create copy.\n            const value = [...ancestors].sort((a, b) => {\n                var _a, _b;\n                // a is the parent of b\n                if (a.id === ((_a = b.parent) === null || _a === void 0 ? void 0 : _a.id)) {\n                    return -1;\n                    // b is the parent of a\n                }\n                else if (b.id === ((_b = a.parent) === null || _b === void 0 ? void 0 : _b.id)) {\n                    return 1;\n                }\n                return 0;\n            });\n            value.push(category);\n            return {\n                inputValue: \"\",\n                value,\n            };\n        })();\n        const paymentMethod = (() => {\n            const { ancestors, ...paymentMethod } = journalEntry.paymentMethod;\n            // Array.prototype.sort mutates the array, create copy.\n            const value = [...ancestors].sort((a, b) => {\n                var _a, _b;\n                // a is the parent of b\n                if (a.id === ((_a = b.parent) === null || _a === void 0 ? void 0 : _a.id)) {\n                    return -1;\n                    // b is the parent of a\n                }\n                else if (b.id === ((_b = a.parent) === null || _b === void 0 ? void 0 : _b.id)) {\n                    return 1;\n                }\n                return 0;\n            });\n            value.push(paymentMethod);\n            return {\n                inputValue: \"\",\n                value,\n            };\n        })();\n        const total = {\n            inputValue: rationalToFraction(journalEntry.total).round(2).toString(),\n            value: journalEntry.total,\n        };\n        const department = journalEntry.department;\n        const reconciled = journalEntry.reconciled;\n        const description = (_a = journalEntry.description) !== null && _a !== void 0 ? _a : null;\n        const type = journalEntry.type;\n        const source = (() => {\n            const value = [];\n            const src = journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.source;\n            switch (src === null || src === void 0 ? void 0 : src.__typename) {\n                case \"Person\":\n                    value.push(JournalEntrySourceType.Person, src);\n                    break;\n                case \"Business\":\n                    value.push(JournalEntrySourceType.Business, src);\n                    break;\n                case \"Department\": {\n                    // The source type is the root, for Dept is always a business.\n                    value.push(JournalEntrySourceType.Business);\n                    const ancestorDeptQueue = [];\n                    for (const ancestor of src.ancestors) {\n                        if (ancestor.__typename === \"Business\") {\n                            value.push(ancestor);\n                        }\n                        else {\n                            ancestorDeptQueue.push(ancestor.id);\n                        }\n                    }\n                    const bizAncestor = value[1];\n                    if (ancestorDeptQueue.length > 0) {\n                        const ancestorDepts = [];\n                        for (const dept of bizAncestor.departments) {\n                            const index = ancestorDeptQueue.indexOf(dept.id);\n                            if (index === -1) {\n                                continue;\n                            }\n                            // Be lazy about finding depts\n                            if (ancestorDepts.push(dept) === ancestorDeptQueue.length) {\n                                break;\n                            }\n                        }\n                        // Ensure order\n                        ancestorDepts.sort((a, b) => {\n                            if (a.id === b.parent.id || bizAncestor.id || a.parent.id) {\n                                return -1;\n                            }\n                            else if (b.id === a.parent.id) {\n                                return 1;\n                            }\n                            else {\n                                return 0;\n                            }\n                        });\n                        value.push(...ancestorDepts, src);\n                    }\n                }\n            }\n            return {\n                inputValue: \"\",\n                value,\n            };\n        })();\n        const iniUpdateValues = {\n            date,\n            dateOfRecord,\n            category,\n            paymentMethod,\n            department,\n            total,\n            reconciled,\n            description,\n            type,\n            source,\n        };\n        return iniUpdateValues;\n    }, [journalEntry]);\n    const client = useApolloClient();\n    const onSubmit = useCallback(async (values, formikHelpers) => {\n        var _a;\n        try {\n            formikHelpers.setStatus(null);\n            await submitUpdate(client, initialValues, entryId, values, formikHelpers);\n            onClose();\n        }\n        catch (error) {\n            console.error(error);\n            formikHelpers.setStatus({\n                msg: (_a = error.message) !== null && _a !== void 0 ? _a : `${error}`,\n                type: FormikStatusType.ERROR,\n            });\n        }\n    }, [client, initialValues, entryId, onClose]);\n    const children = useCallback((props) => (React.createElement(UpdateEntryDialog, { open: open, onClose: onClose, onExited: onExited, loading: loading, journalEntry: journalEntry !== null && journalEntry !== void 0 ? journalEntry : null, handleSubmit: props.handleSubmit })), [open, onClose, onExited, loading, journalEntry]);\n    return (React.createElement(Formik, { initialValues: initialValues, initialStatus: initialStatus, journalEntry: (_a = data === null || data === void 0 ? void 0 : data.journalEntry) !== null && _a !== void 0 ? _a : null, loading: loading, onSubmit: onSubmit, enableReinitialize: true }, children));\n};\nexport default UpdateEntry;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXBkYXRlRW50cnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1Vwc2VydC9FbnRyaWVzL1VwZGF0ZUVudHJ5LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDcEQsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBQzlCLE9BQU8sRUFBRSxNQUFNLEVBQTZCLGdCQUFnQixFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQzdFLE9BQU8sRUFDTCxRQUFRLEVBQ1IsZUFBZSxHQUVoQixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFDTCxNQUFNLEVBQ04sV0FBVyxFQUNYLEdBQUcsRUFDSCxhQUFhLEVBQ2IsaUJBQWlCLEVBRWpCLElBQUksRUFDSixhQUFhLEVBQ2IsTUFBTSxFQUNOLFFBQVEsR0FFVCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxHQUFHLElBQUksT0FBTyxFQUFFLE1BQU0sSUFBSSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMxRSxPQUFPLFFBQVEsTUFBTSxhQUFhLENBQUM7QUFFbkMsT0FBTyxFQUdMLHNCQUFzQixHQUt2QixNQUFNLCtCQUErQixDQUFDO0FBQ3ZDLE9BQU8sRUFFTCxnQkFBZ0IsRUFDaEIsZUFBZSxHQUNoQixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sWUFBK0MsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3RSxPQUFPLEVBQ0wsNkJBQTZCLEVBQzdCLHVCQUF1QixFQUN2QixzQkFBc0IsRUFDdEIsNkJBQTZCLEVBQzdCLDBCQUEwQixFQUMxQiwyQkFBMkIsRUFDM0IsV0FBVyxHQUNaLE1BQU0sb0JBQW9CLENBQUM7QUFDNUIsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUVuQyxPQUFPLGNBQWMsTUFBTSwrQkFB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","import React, { useCallback, useMemo } from \"react\";\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Box, useTheme, } from \"@material-ui/core\";\nimport { Delete as DeleteIcon, Cancel as CancelIcon } from \"@material-ui/icons\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { JOURNAL_ENTRY_FRAGMENT } from \"../../Table/JournalEntries.gql\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nconst DELETE_ENTRY = gql `\n  mutation DeleteEntry($id: ID!) {\n    journalEntryDelete(id: $id) {\n      ...JournalEntry_1Fragment\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nconst DeleteEntry = (props) => {\n    const { entryId, onClose } = props;\n    const [deleteEntry, { loading, error }] = useMutation(DELETE_ENTRY);\n    const hasError = !!error;\n    const onDelete = useCallback(() => {\n        deleteEntry({ variables: { id: entryId } }).then(() => onClose());\n    }, [entryId, deleteEntry, onClose]);\n    const title = useMemo(() => {\n        if (hasError) {\n            return \"Error\";\n        }\n        else if (loading) {\n            return \"Deleting Entry...\";\n        }\n        return \"Delete Entry\";\n    }, [hasError, loading]);\n    const theme = useTheme();\n    return (React.createElement(Dialog, { open: !!entryId, maxWidth: \"sm\", fullWidth: true, disableBackdropClick: loading, disableEscapeKeyDown: loading, onClose: onClose },\n        React.createElement(DialogTitle, { style: hasError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            loading && React.createElement(OverlayLoading, { zIndex: \"modal\" }),\n            React.createElement(DialogContent, null,\n                hasError && (React.createElement(DialogContentText, { color: \"error\" }, error === null || error === void 0 ? void 0 : error.message)),\n                !hasError && (React.createElement(DialogContentText, null, \"Are you sure you want to delete this entry?\")))),\n        React.createElement(DialogActions, null,\n            !hasError && (React.createElement(Button, { disabled: loading, onClick: onDelete, startIcon: React.createElement(DeleteIcon, null), color: \"primary\", variant: \"contained\" }, \"Delete\")),\n            React.createElement(Button, { disabled: loading, startIcon: !hasError && React.createElement(CancelIcon, null), onClick: onClose }, hasError ? \"Close\" : \"Cancel\"))));\n};\nexport default DeleteEntry;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVsZXRlRW50cnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1Vwc2VydC9FbnRyaWVzL0RlbGV0ZUVudHJ5LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDcEQsT0FBTyxFQUNMLE1BQU0sRUFDTixXQUFXLEVBQ1gsYUFBYSxFQUNiLGlCQUFpQixFQUNqQixhQUFhLEVBQ2IsTUFBTSxFQUNOLEdBQUcsRUFDSCxRQUFRLEdBQ1QsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsTUFBTSxJQUFJLFVBQVUsRUFBRSxNQUFNLElBQUksVUFBVSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDaEYsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBQzlCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUVsRCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUt4RSxPQUFPLGNBQWMsTUFBTSwrQkFBK0IsQ0FBQztBQUUzRCxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUE7Ozs7OztJQU1wQixzQkFBc0I7Q0FDekIsQ0FBQztBQUVGLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FHcEIsRUFBZSxFQUFFO0lBQ2hCLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRW5DLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsR0FBRyxXQUFXLENBR25ELFlBQVksQ0FBQyxDQUFDO0lBRWhCLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFFekIsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLEdBQUcsRUFBRTtRQUNoQyxXQUFXLENBQUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBaUIsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUM5RSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFFcEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRTtRQUN6QixJQUFJLFFBQVEsRUFBRTtZQUNaLE9BQU8sT0FBTyxDQUFDO1NBQ2hCO2FBQU0sSUFBSSxPQUFPLEVBQUU7WUFDbEIsT0FBTyxtQkFBbUIsQ0FBQztTQUM1QjtRQUNELE9BQU8sY0FBYyxDQUFDO0lBQ3hCLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBRXhCLE1BQU0sS0FBSyxHQUFHLFFBQVEsRUFBRSxDQUFDO0lBRXpCLE9BQU8sQ0FDTCxvQkFBQyxNQUFNLElBQ0wsSUFBSSxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQ2YsUUFBUSxFQUFDLElBQUksRUFDYixTQUFTLFFBQ1Qsb0JBQW9CLEVBQUUsT0FBTyxFQUM3QixvQkFBb0IsRUFBRSxPQUFPLEVBQzdCLE9BQU8sRUFBRSxPQUFPO1FBRWhCLG9CQUFDLFdBQVcsSUFDVixLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxJQUVoRSxLQUFLLENBQ007UUFDZCxvQkFBQyxHQUFHLElBQUMsUUFBUSxFQUFDLFVBQVU7WUFDckIsT0FBTyxJQUFJLG9CQUFDLGNBQWMsSUFBQyxNQUFNLEVBQUMsT0FBTyxHQUFHO1lBQzdDLG9CQUFDLGFBQWE7Z0JBQ1gsUUFBUSxJQUFJLENBQ1gsb0JBQUMsaUJBQWlCLElBQUMsS0FBSyxFQUFDLE9BQU8sSUFDN0IsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLE9BQWlCLENBQ1AsQ0FDckI7Z0JBQ0EsQ0FBQyxRQUFRLElBQUksQ0FDWixvQkFBQyxpQkFBaUIsc0RBRUUsQ0FDckIsQ0FDYSxDQUNaO1FBQ04sb0JBQUMsYUFBYTtZQUNYLENBQUMsUUFBUSxJQUFJLENBQ1osb0JBQUMsTUFBTSxJQUNMLFFBQVEsRUFBRSxPQUFPLEVBQ2pCLE9BQU8sRUFBRSxRQUFRLEVBQ2pCLFNBQVMsRUFBRSxvQkFBQyxVQUFVLE9BQUcsRUFDekIsS0FBSyxFQUFDLFNBQVMsRUFDZixPQUFPLEVBQUMsV0FBVyxhQUdaLENBQ1Y7WUFDRCxvQkFBQyxNQUFNLElBQ0wsUUFBUSxFQUFFLE9BQU8sRUFDakIsU0FBUyxFQUFFLENBQUMsUUFBUSxJQUFJLG9CQUFDLFVBQVUsT0FBRyxFQUN0QyxPQUFPLEVBQUUsT0FBTyxJQUVmLFFBQVEsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQ3ZCLENBQ0ssQ0FDVCxDQUNWLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLFdBQVcsQ0FBQyJ9","import React, { useCallback, useMemo } from \"react\";\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Box, useTheme, } from \"@material-ui/core\";\nimport { Delete as DeleteIcon, Cancel as CancelIcon } from \"@material-ui/icons\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { JOURNAL_ENTRY_FRAGMENT } from \"../../Table/JournalEntries.gql\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nconst DELETE_REFUND = gql `\n  mutation DeleteRefund($id: ID!) {\n    journalEntryDeleteRefund(id: $id) {\n      ...JournalEntry_1Fragment\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nconst DeleteRefund = (props) => {\n    const { refundId, onClose } = props;\n    const [deleteRefund, { loading, error }] = useMutation(DELETE_REFUND);\n    const hasError = !!error;\n    const onDelete = useCallback(() => {\n        deleteRefund({ variables: { id: refundId } }).then(() => onClose());\n    }, [refundId, deleteRefund, onClose]);\n    const title = useMemo(() => {\n        if (hasError) {\n            return \"Error\";\n        }\n        else if (loading) {\n            return \"Deleting Refund...\";\n        }\n        return \"Delete Refund\";\n    }, [hasError, loading]);\n    const theme = useTheme();\n    return (React.createElement(Dialog, { open: !!refundId, maxWidth: \"sm\", fullWidth: true, disableBackdropClick: loading, disableEscapeKeyDown: loading, onClose: onClose },\n        React.createElement(DialogTitle, { style: hasError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            loading && React.createElement(OverlayLoading, { zIndex: \"modal\" }),\n            React.createElement(DialogContent, null,\n                hasError && (React.createElement(DialogContentText, { color: \"error\" }, error === null || error === void 0 ? void 0 : error.message)),\n                !hasError && (React.createElement(DialogContentText, null, \"Are you sure you want to delete this refund?\")))),\n        React.createElement(DialogActions, null,\n            !hasError && (React.createElement(Button, { disabled: loading, onClick: onDelete, startIcon: React.createElement(DeleteIcon, null), color: \"primary\", variant: \"contained\" }, \"Delete\")),\n            React.createElement(Button, { disabled: loading, startIcon: !hasError && React.createElement(CancelIcon, null), onClick: onClose }, hasError ? \"Close\" : \"Cancel\"))));\n};\nexport default DeleteRefund;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVsZXRlUmVmdW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvUmVmdW5kcy9EZWxldGVSZWZ1bmQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNwRCxPQUFPLEVBQ0wsTUFBTSxFQUNOLFdBQVcsRUFDWCxhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLGFBQWEsRUFDYixNQUFNLEVBQ04sR0FBRyxFQUNILFFBQVEsR0FDVCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxNQUFNLElBQUksVUFBVSxFQUFFLE1BQU0sSUFBSSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNoRixPQUFPLEdBQUcsTUFBTSxhQUFhLENBQUM7QUFDOUIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRWxELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBS3hFLE9BQU8sY0FBYyxNQUFNLCtCQUErQixDQUFDO0FBRTNELE1BQU0sYUFBYSxHQUFHLEdBQUcsQ0FBQTs7Ozs7O0lBTXJCLHNCQUFzQjtDQUN6QixDQUFDO0FBRUYsTUFBTSxZQUFZLEdBQUcsQ0FBQyxLQUdyQixFQUFlLEVBQUU7SUFDaEIsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFcEMsTUFBTSxDQUFDLFlBQVksRUFBRSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FHcEQsYUFBYSxDQUFDLENBQUM7SUFDakIsTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUV6QixNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFO1FBQ2hDLFlBQVksQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxRQUFrQixFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FDaEUsT0FBTyxFQUFFLENBQ1YsQ0FBQztJQUNKLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUV0QyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFO1FBQ3pCLElBQUksUUFBUSxFQUFFO1lBQ1osT0FBTyxPQUFPLENBQUM7U0FDaEI7YUFBTSxJQUFJLE9BQU8sRUFBRTtZQUNsQixPQUFPLG9CQUFvQixDQUFDO1NBQzdCO1FBQ0QsT0FBTyxlQUFlLENBQUM7SUFDekIsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFFeEIsTUFBTSxLQUFLLEdBQUcsUUFBUSxFQUFFLENBQUM7SUFFekIsT0FBTyxDQUNMLG9CQUFDLE1BQU0sSUFDTCxJQUFJLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFDaEIsUUFBUSxFQUFDLElBQUksRUFDYixTQUFTLFFBQ1Qsb0JBQW9CLEVBQUUsT0FBTyxFQUM3QixvQkFBb0IsRUFBRSxPQUFPLEVBQzdCLE9BQU8sRUFBRSxPQUFPO1FBRWhCLG9CQUFDLFdBQVcsSUFDVixLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxJQUVoRSxLQUFLLENBQ007UUFDZCxvQkFBQyxHQUFHLElBQUMsUUFBUSxFQUFDLFVBQVU7WUFDckIsT0FBTyxJQUFJLG9CQUFDLGNBQWMsSUFBQyxNQUFNLEVBQUMsT0FBTyxHQUFHO1lBQzdDLG9CQUFDLGFBQWE7Z0JBQ1gsUUFBUSxJQUFJLENBQ1gsb0JBQUMsaUJBQWlCLElBQUMsS0FBSyxFQUFDLE9BQU8sSUFDN0IsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLE9BQWlCLENBQ1AsQ0FDckI7Z0JBQ0EsQ0FBQyxRQUFRLElBQUksQ0FDWixvQkFBQyxpQkFBaUIsdURBRUUsQ0FDckIsQ0FDYSxDQUNaO1FBQ04sb0JBQUMsYUFBYTtZQUNYLENBQUMsUUFBUSxJQUFJLENBQ1osb0JBQUMsTUFBTSxJQUNMLFFBQVEsRUFBRSxPQUFPLEVBQ2pCLE9BQU8sRUFBRSxRQUFRLEVBQ2pCLFNBQVMsRUFBRSxvQkFBQyxVQUFVLE9BQUcsRUFDekIsS0FBSyxFQUFDLFNBQVMsRUFDZixPQUFPLEVBQUMsV0FBVyxhQUdaLENBQ1Y7WUFDRCxvQkFBQyxNQUFNLElBQ0wsUUFBUSxFQUFFLE9BQU8sRUFDakIsU0FBUyxFQUFFLENBQUMsUUFBUSxJQUFJLG9CQUFDLFVBQVUsT0FBRyxFQUN0QyxPQUFPLEVBQUUsT0FBTyxJQUVmLFFBQVEsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQ3ZCLENBQ0ssQ0FDVCxDQUNWLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLFlBQVksQ0FBQyJ9","import gql from \"graphql-tag\";\nimport { JOURNAL_ENTRY_FRAGMENT } from \"../../Table/JournalEntries.gql\";\nconst ADD_ENTRY_ITEM = gql `\n  mutation AddEntryItem($id: ID!, $fields: JournalEntryAddItemFields!) {\n    journalEntryAddItem(id: $id, fields: $fields) {\n      journalEntry {\n        ...JournalEntry_1Fragment\n      }\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nconst submitAdd = async (client, id, values) => {\n    var _a;\n    const category = (() => {\n        var _a, _b, _c;\n        const value = ((_a = values.category) === null || _a === void 0 ? void 0 : _a.value) || [];\n        return (_c = (_b = value[value.length - 1]) === null || _b === void 0 ? void 0 : _b.id) !== null && _c !== void 0 ? _c : null;\n    })();\n    const department = (() => {\n        var _a;\n        return ((_a = values.department) === null || _a === void 0 ? void 0 : _a.id) || null;\n    })();\n    const units = values.units;\n    const variables = {\n        id,\n        fields: {\n            units,\n            category,\n            department,\n            description: ((_a = values.description) === null || _a === void 0 ? void 0 : _a.trim()) || null,\n            total: values.total.value,\n        },\n    };\n    await client.mutate({\n        mutation: ADD_ENTRY_ITEM,\n        variables,\n    });\n};\nexport default submitAdd;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VibWl0QWRkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvSXRlbXMvc3VibWl0QWRkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQVc5QixPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQWdCeEUsTUFBTSxjQUFjLEdBQUcsR0FBRyxDQUFBOzs7Ozs7OztJQVF0QixzQkFBc0I7Q0FDekIsQ0FBQztBQUVGLE1BQU0sU0FBUyxHQUl3QyxLQUFLLEVBQzFELE1BQU0sRUFDTixFQUFFLEVBQ0YsTUFBTSxFQUNOLEVBQUU7O0lBQ0YsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLEVBQUU7O1FBQ3JCLE1BQU0sS0FBSyxHQUFHLE9BQUEsTUFBTSxDQUFDLFFBQVEsMENBQUUsS0FBSyxLQUFJLEVBQUUsQ0FBQztRQUUzQyxtQkFBTyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsMENBQUUsRUFBRSxtQ0FBSSxJQUFJLENBQUM7SUFDN0MsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUVMLE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBRyxFQUFFOztRQUN2QixPQUFPLE9BQUEsTUFBTSxDQUFDLFVBQVUsMENBQUUsRUFBRSxLQUFJLElBQUksQ0FBQztJQUN2QyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRUwsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUUzQixNQUFNLFNBQVMsR0FBdUQ7UUFDcEUsRUFBRTtRQUNGLE1BQU0sRUFBRTtZQUNOLEtBQUs7WUFDTCxRQUFRO1lBQ1IsVUFBVTtZQUNWLFdBQVcsRUFBRSxPQUFBLE1BQU0sQ0FBQyxXQUFXLDBDQUFFLElBQUksT0FBTSxJQUFJO1lBQy9DLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUs7U0FDMUI7S0FDRixDQUFDO0lBRUYsTUFBTSxNQUFNLENBQUMsTUFBTSxDQUF1QjtRQUN4QyxRQUFRLEVBQUUsY0FBYztRQUN4QixTQUFTO0tBQ1YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsZUFBZSxTQUFTLENBQUMifQ==","import React, { useCallback, useMemo } from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport { useField } from \"formik\";\nimport { useFormikStatus, FormikStatusType } from \"../../../../../utils/formik\";\nconst inputProps = {\n    min: \"1\",\n    step: \"1\",\n    type: \"number\",\n};\nconst NULLISH = Symbol();\nconst Units = (props) => {\n    var _a;\n    const { autoFocus = false, disabled = false, variant = \"filled\", ...textFieldProps } = props;\n    const validate = useCallback((value) => {\n        value = value || null;\n        if ((value !== null && value !== void 0 ? value : NULLISH) === NULLISH) {\n            return \"Units Required\";\n        }\n        else if (value === 0) {\n            return \"Cannot be 0\";\n        }\n        else if (value < 0) {\n            return \"Units must be 1 or greater\";\n        }\n    }, []);\n    const [field, meta, { setValue }] = useField({\n        name: \"units\",\n        validate,\n    });\n    const value = (_a = field.value) !== null && _a !== void 0 ? _a : \"\";\n    const { error, touched } = meta;\n    const [formikStatus] = useFormikStatus();\n    const InputProps = useMemo(() => ({\n        type: \"number\",\n        autoFocus,\n    }), [autoFocus]);\n    const onChange = useCallback((event) => {\n        var _a;\n        const value = ((_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value) || 0;\n        setValue(Math.max(typeof value === \"number\" ? value : Number.parseInt(value), 0));\n    }, [setValue]);\n    return (React.createElement(TextField, Object.assign({}, textFieldProps, field, { disabled: disabled || (formikStatus === null || formikStatus === void 0 ? void 0 : formikStatus.type) === FormikStatusType.FATAL_ERROR, type: \"number\", value: value, error: touched && !!error, helperText: touched && error ? error : undefined, placeholder: \"1\", label: \"Units\", name: \"units\", required: true, variant: variant, inputProps: inputProps, InputProps: InputProps, onChange: onChange })));\n};\nexport default Units;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVW5pdHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1Vwc2VydC9JdGVtcy9JdGVtRmllbGRzL1VuaXRzLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDcEQsT0FBTyxFQUFFLFNBQVMsRUFBa0IsTUFBTSxtQkFBbUIsQ0FBQztBQUM5RCxPQUFPLEVBQUUsUUFBUSxFQUFtQixNQUFNLFFBQVEsQ0FBQztBQUVuRCxPQUFPLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFaEYsTUFBTSxVQUFVLEdBQUc7SUFDakIsR0FBRyxFQUFFLEdBQUc7SUFDUixJQUFJLEVBQUUsR0FBRztJQUNULElBQUksRUFBRSxRQUFRO0NBQ04sQ0FBQztBQUVYLE1BQU0sT0FBTyxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBRXpCLE1BQU0sS0FBSyxHQUFHLENBQ1osS0FrQkMsRUFDWSxFQUFFOztJQUNmLE1BQU0sRUFDSixTQUFTLEdBQUcsS0FBSyxFQUNqQixRQUFRLEdBQUcsS0FBSyxFQUNoQixPQUFPLEdBQUcsUUFBUSxFQUNsQixHQUFHLGNBQWMsRUFDbEIsR0FBRyxLQUFLLENBQUM7SUFFVixNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsQ0FBQyxLQUF5QyxFQUFFLEVBQUU7UUFDekUsS0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUM7UUFFdEIsSUFBSSxDQUFDLEtBQUssYUFBTCxLQUFLLGNBQUwsS0FBSyxHQUFJLE9BQU8sQ0FBQyxLQUFLLE9BQU8sRUFBRTtZQUNsQyxPQUFPLGdCQUFnQixDQUFDO1NBQ3pCO2FBQU0sSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO1lBQ3RCLE9BQU8sYUFBYSxDQUFDO1NBQ3RCO2FBQU0sSUFBSyxLQUFnQixHQUFHLENBQUMsRUFBRTtZQUNoQyxPQUFPLDRCQUE0QixDQUFDO1NBQ3JDO0lBQ0gsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsTUFBTSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBcUI7UUFDL0QsSUFBSSxFQUFFLE9BQU87UUFDYixRQUFRO0tBQ1QsQ0FBQyxDQUFDO0lBRUgsTUFBTSxLQUFLLFNBQUcsS0FBSyxDQUFDLEtBQUssbUNBQUksRUFBRSxDQUFDO0lBRWhDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBRWhDLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxlQUFlLEVBQUUsQ0FBQztJQUV6QyxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQ3hCLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDTCxJQUFJLEVBQUUsUUFBUTtRQUNkLFNBQVM7S0FDVixDQUFDLEVBQ0YsQ0FBQyxTQUFTLENBQUMsQ0FDWixDQUFDO0lBRUYsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUMxQixDQUFDLEtBQUssRUFBRSxFQUFFOztRQUNSLE1BQU0sS0FBSyxHQUFHLE9BQUEsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLE1BQU0sMENBQUUsS0FBSyxLQUFJLENBQUMsQ0FBQztRQUN4QyxRQUFRLENBQ04sSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEtBQUssS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDeEUsQ0FBQztJQUNKLENBQUMsRUFDRCxDQUFDLFFBQVEsQ0FBQyxDQUNYLENBQUM7SUFFRixPQUFPLENBQ0wsb0JBQUMsU0FBUyxvQkFDSixjQUFjLEVBQ2QsS0FBSyxJQUNULFFBQVEsRUFBRSxRQUFRLElBQUksQ0FBQSxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsSUFBSSxNQUFLLGdCQUFnQixDQUFDLFdBQVcsRUFDekUsSUFBSSxFQUFDLFFBQVEsRUFDYixLQUFLLEVBQUUsS0FBSyxFQUNaLEtBQUssRUFBRSxPQUFPLElBQUksQ0FBQyxDQUFDLEtBQUssRUFDekIsVUFBVSxFQUFFLE9BQU8sSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUNoRCxXQUFXLEVBQUUsR0FBRyxFQUNoQixLQUFLLEVBQUUsT0FBTyxFQUNkLElBQUksRUFBRSxPQUFPLEVBQ2IsUUFBUSxRQUNSLE9BQU8sRUFBRSxPQUFvQyxFQUM3QyxVQUFVLEVBQUUsVUFBVSxFQUN0QixVQUFVLEVBQUUsVUFBVSxFQUN0QixRQUFRLEVBQUUsUUFBUSxJQUNsQixDQUNILENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLEtBQUssQ0FBQyJ9","import gql from \"graphql-tag\";\nexport const JOURNAL_FRAGMENT = gql `\n  fragment JournalEntry_3Fragment on JournalEntry {\n    __typename\n    id\n    type\n    total {\n      n\n      d\n      s\n    }\n    date\n    items {\n      id\n      __typename\n      deleted\n      total {\n        n\n        d\n        s\n      }\n    }\n  }\n`;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXRlbXMuZ3FsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvSXRlbXMvaXRlbXMuZ3FsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQUU5QixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FzQmxDLENBQUMifQ==","import React, { useCallback, useMemo } from \"react\";\nimport { Formik, useFormikContext } from \"formik\";\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Grid, DialogContentText, useTheme, Box, } from \"@material-ui/core\";\nimport { useApolloClient, useQuery, } from \"@apollo/react-hooks\";\nimport { Add as AddIcon, Cancel as CancelIcon, Queue as QueueIcon, } from \"@material-ui/icons\";\nimport gql from \"graphql-tag\";\nimport Fraction from \"fraction.js\";\nimport submitAdd from \"./submitAdd\";\nimport Description from \"../EntryFields/Description\";\nimport Total from \"../EntryFields/Total\";\nimport Category from \"../EntryFields/Category\";\nimport Department from \"../EntryFields/Department\";\nimport Units from \"./ItemFields/Units\";\nimport { FormikStatusType, useFormikStatus, } from \"../../../../utils/formik\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport Overlay from \"../../../utils/Overlay\";\nimport { JOURNAL_FRAGMENT } from \"./items.gql\";\nimport { rationalToFraction } from \"../../../../utils/rational\";\nimport { FISCAL_YEAR } from \"../upsertEntry.gql\";\nconst ENTRY_ITEM_STATE = gql `\n  query GetEntryItemState_1($id: ID!) {\n    journalEntry(id: $id) {\n      ...JournalEntry_3Fragment\n    }\n  }\n  ${JOURNAL_FRAGMENT}\n`;\nconst gridEntryResponsiveProps = {\n    item: true,\n    lg: 4,\n    sm: 6,\n    xs: 12,\n};\n// Must be in separate component to access FormikContext.\nconst AddItemDialog = (props) => {\n    var _a, _b, _c, _d, _e;\n    const { entryId, open, onClose, onExited: onExitedCb } = props;\n    const { resetForm, isSubmitting, isValid, submitForm } = useFormikContext();\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((error) => setFormikStatus({\n        msg: error.message,\n        type: FormikStatusType.FATAL_ERROR,\n    }), [setFormikStatus]);\n    const { loading, data } = useQuery(ENTRY_ITEM_STATE, {\n        skip: !entryId,\n        variables: { id: entryId },\n        onError,\n    });\n    const fiscalYearOnError = useCallback((err) => {\n        setFormikStatus({ msg: err.message, type: FormikStatusType.FATAL_ERROR });\n    }, [setFormikStatus]);\n    const date = ((_a = data === null || data === void 0 ? void 0 : data.journalEntry) === null || _a === void 0 ? void 0 : _a.date) || \"\";\n    const { data: fiscalYearData } = useQuery(FISCAL_YEAR, {\n        skip: !date,\n        variables: {\n            date,\n        },\n        onError: fiscalYearOnError,\n    });\n    const fiscalYearId = useMemo(() => { var _a, _b; return (_b = (_a = fiscalYearData === null || fiscalYearData === void 0 ? void 0 : fiscalYearData.fiscalYears[0]) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"\"; }, [fiscalYearData]);\n    const type = (_c = (_b = data === null || data === void 0 ? void 0 : data.journalEntry) === null || _b === void 0 ? void 0 : _b.type) !== null && _c !== void 0 ? _c : null;\n    const total = (_d = data === null || data === void 0 ? void 0 : data.journalEntry) === null || _d === void 0 ? void 0 : _d.total;\n    const items = ((_e = data === null || data === void 0 ? void 0 : data.journalEntry) === null || _e === void 0 ? void 0 : _e.items) || [];\n    const maxTotal = useMemo(() => {\n        if (total) {\n            const totalItems = items.reduce((totalItems, { deleted, total }) => {\n                return deleted ? totalItems : totalItems.add(rationalToFraction(total));\n            }, new Fraction(0));\n            return rationalToFraction(total).sub(totalItems);\n        }\n        return new Fraction(Number.MAX_SAFE_INTEGER);\n    }, [total, items]);\n    const onExited = useCallback(() => {\n        onExitedCb();\n        resetForm();\n        setFormikStatus(null);\n    }, [resetForm, onExitedCb, setFormikStatus]);\n    const [generalError, fatalError] = useMemo(() => {\n        if (formikStatus &&\n            (formikStatus.type === FormikStatusType.FATAL_ERROR ||\n                formikStatus.type === FormikStatusType.ERROR)) {\n            return [\n                formikStatus.msg,\n                formikStatus.type === FormikStatusType.FATAL_ERROR,\n            ];\n        }\n        return [null, null];\n    }, [formikStatus]);\n    const title = useMemo(() => {\n        const title = \"Add Item\";\n        if (fatalError) {\n            return \"Fatal Error\";\n        }\n        else if (loading) {\n            return `Loading ${title}...`;\n        }\n        else if (isSubmitting) {\n            return `Submitting ${title}`;\n        }\n        return title;\n    }, [loading, fatalError, isSubmitting]);\n    const theme = useTheme();\n    const onClickAdd = useCallback(async () => {\n        var _a;\n        try {\n            setFormikStatus(null);\n            await submitForm();\n            onClose();\n        }\n        catch (error) {\n            setFormikStatus({\n                msg: (_a = error.message) !== null && _a !== void 0 ? _a : `${error}`,\n                type: FormikStatusType.ERROR,\n            });\n        }\n    }, [submitForm, onClose, setFormikStatus]);\n    const onClickAddAndNew = useCallback(async () => {\n        var _a;\n        try {\n            setFormikStatus(null);\n            await submitForm();\n            resetForm();\n        }\n        catch (error) {\n            setFormikStatus({\n                msg: (_a = error.message) !== null && _a !== void 0 ? _a : `${error}`,\n                type: FormikStatusType.ERROR,\n            });\n        }\n    }, [submitForm, resetForm, setFormikStatus]);\n    const handleSubmit = useCallback((event) => event.preventDefault(), []);\n    return (React.createElement(Dialog, { open: open, onClose: onClose, onExited: onExited, disableBackdropClick: isSubmitting, disableEscapeKeyDown: isSubmitting, fullWidth: true, maxWidth: \"lg\", PaperProps: {\n            component: \"form\",\n            onSubmit: handleSubmit,\n        } },\n        React.createElement(DialogTitle, { style: generalError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            (loading || isSubmitting) && !generalError && (React.createElement(OverlayLoading, { zIndex: \"modal\" })),\n            !!generalError && fatalError && (React.createElement(Overlay, { opacity: 0.78, zIndex: \"modal\", padding: 2 },\n                React.createElement(DialogContentText, { color: \"error\" }, generalError))),\n            React.createElement(DialogContent, { dividers: true },\n                !!generalError && !fatalError && (React.createElement(DialogContentText, { color: \"error\" }, generalError)),\n                React.createElement(Grid, { container: true, spacing: 2 },\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Total, { disabled: loading || isSubmitting, fullWidth: true, maxTotal: maxTotal })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Units, { disabled: loading || isSubmitting, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Description, { disabled: loading || isSubmitting, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Category, { disabled: loading || isSubmitting || !!fatalError, entryType: type, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Department, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true, fiscalYearId: fiscalYearId }))))),\n        React.createElement(DialogActions, null,\n            !fatalError && (React.createElement(React.Fragment, null,\n                React.createElement(Button, { onClick: onClickAdd, disabled: loading || isSubmitting || !isValid, type: \"submit\", startIcon: React.createElement(AddIcon, null), color: \"primary\", variant: \"contained\" }, \"Add\"),\n                React.createElement(Button, { onClick: onClickAddAndNew, disabled: loading || isSubmitting || !isValid, type: \"submit\", startIcon: React.createElement(QueueIcon, null), variant: \"outlined\" }, \"Add & New\"))),\n            React.createElement(Button, { disabled: loading || isSubmitting, color: fatalError ? \"primary\" : \"default\", startIcon: !fatalError && React.createElement(CancelIcon, null), onClick: onClose }, fatalError ? \"Ok\" : \"Cancel\"))));\n};\nconst AddItem = (props) => {\n    const { entryId, open, onClose, onExited } = props;\n    const initialValues = useMemo(() => ({}), []);\n    const client = useApolloClient();\n    const onSubmit = useCallback((values, formikHelpers) => submitAdd(client, entryId || \"\", values, formikHelpers), [client, entryId]);\n    const children = useCallback((props) => (React.createElement(AddItemDialog, { entryId: entryId, open: open, onClose: onClose, onExited: onExited, handleSubmit: props.handleSubmit })), [entryId, open, onClose, onExited]);\n    return (React.createElement(Formik, { initialValues: initialValues, initialStatus: null, enableReinitialize: true, onSubmit: onSubmit }, children));\n};\nexport default AddItem;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWRkSXRlbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVXBzZXJ0L0l0ZW1zL0FkZEl0ZW0udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNwRCxPQUFPLEVBQUUsTUFBTSxFQUFnQixnQkFBZ0IsRUFBZSxNQUFNLFFBQVEsQ0FBQztBQUM3RSxPQUFPLEVBQ0wsTUFBTSxFQUNOLFdBQVcsRUFDWCxhQUFhLEVBQ2IsYUFBYSxFQUNiLE1BQU0sRUFFTixJQUFJLEVBQ0osaUJBQWlCLEVBQ2pCLFFBQVEsRUFDUixHQUFHLEdBRUosTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQ0wsZUFBZSxFQUNmLFFBQVEsR0FFVCxNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFDTCxHQUFHLElBQUksT0FBTyxFQUNkLE1BQU0sSUFBSSxVQUFVLEVBQ3BCLEtBQUssSUFBSSxTQUFTLEdBQ25CLE1BQU0sb0JBQW9CLENBQUM7QUFDNUIsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBQzlCLE9BQU8sUUFBUSxNQUFNLGFBQWEsQ0FBQztBQUVuQyxPQUFPLFNBQXdCLE1BQU0sYUFBYSxDQUFDO0FBT25ELE9BQU8sV0FBVyxNQUFNLDRCQUE0QixDQUFDO0FBQ3JELE9BQU8sS0FBSyxNQUFNLHNCQUFzQixDQUFDO0FBQ3pDLE9BQU8sUUFBUSxNQUFNLHlCQUF5QixDQUFDO0FBQy9DLE9BQU8sVUFBVSxNQUFNLDJCQUEyQixDQUFDO0FBQ25ELE9BQU8sS0FBSyxNQUFNLG9CQUFvQixDQUFDO0FBQ3ZDLE9BQU8sRUFDTCxnQkFBZ0IsRUFDaEIsZUFBZSxHQUVoQixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sY0FBYyxNQUFNLCtCQUErQixDQUFDO0FBQzNELE9BQU8sT0FBTyxNQUFNLHdCQUF3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","import gql from \"graphql-tag\";\nimport { JOURNAL_ENTRY_ITEM } from \"../../Table/JournalEntries.gql\";\nimport { rationalToFraction } from \"../../../../utils/rational\";\nconst UPDATE_ITEM = gql `\n  mutation UpdateEntryItem($id: ID!, $fields: JournalEntryUpdateItemFields!) {\n    journalEntryUpdateItem(id: $id, fields: $fields) {\n      journalEntryItem {\n        ...JournalEntryItem_1Fragment\n      }\n    }\n  }\n  ${JOURNAL_ENTRY_ITEM}\n`;\nconst submitUpdate = async (client, iniValues, id, values) => {\n    var _a, _b, _c, _d, _e;\n    // Description\n    const description = values.description !== iniValues.description\n        ? ((_a = values.description) === null || _a === void 0 ? void 0 : _a.trim()) || null\n        : null;\n    // Department\n    const department = ((_b = values.department) === null || _b === void 0 ? void 0 : _b.id) === ((_c = iniValues.department) === null || _c === void 0 ? void 0 : _c.id)\n        ? null\n        : (_e = (_d = values.department) === null || _d === void 0 ? void 0 : _d.id) !== null && _e !== void 0 ? _e : null;\n    // Category\n    const category = (() => {\n        var _a, _b, _c, _d;\n        const category = (_b = (_a = values.category.value[values.category.value.length - 1]) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : null;\n        return category ===\n            ((_d = (_c = iniValues.category.value[iniValues.category.value.length - 1]) === null || _c === void 0 ? void 0 : _c.id) !== null && _d !== void 0 ? _d : null)\n            ? null\n            : category;\n    })();\n    // Units\n    const units = values.units === iniValues.units ? null : values.units;\n    // Total\n    const total = rationalToFraction(values.total.value).compare(rationalToFraction(iniValues.total.value)) === 0\n        ? null\n        : values.total.value;\n    const variables = {\n        id,\n        fields: {\n            units,\n            description,\n            department,\n            category,\n            total,\n        },\n    };\n    await client.mutate({\n        mutation: UPDATE_ITEM,\n        variables,\n    });\n};\nexport default submitUpdate;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VibWl0VXBkYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9VcHNlcnQvSXRlbXMvc3VibWl0VXBkYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQVc5QixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNwRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQWtCaEUsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFBOzs7Ozs7OztJQVFuQixrQkFBa0I7Q0FDckIsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUt3QyxLQUFLLEVBQzdELE1BQU0sRUFDTixTQUFTLEVBQ1QsRUFBRSxFQUNGLE1BQU0sRUFDTixFQUFFOztJQUNGLGNBQWM7SUFDZCxNQUFNLFdBQVcsR0FDZixNQUFNLENBQUMsV0FBVyxLQUFLLFNBQVMsQ0FBQyxXQUFXO1FBQzFDLENBQUMsQ0FBQyxPQUFBLE1BQU0sQ0FBQyxXQUFXLDBDQUFFLElBQUksT0FBTSxJQUFJO1FBQ3BDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFFWCxhQUFhO0lBQ2IsTUFBTSxVQUFVLEdBQ2QsT0FBQSxNQUFNLENBQUMsVUFBVSwwQ0FBRSxFQUFFLGFBQUssU0FBUyxDQUFDLFVBQVUsMENBQUUsRUFBRSxDQUFBO1FBQ2hELENBQUMsQ0FBQyxJQUFJO1FBQ04sQ0FBQyxhQUFDLE1BQU0sQ0FBQyxVQUFVLDBDQUFFLEVBQUUsbUNBQUksSUFBSSxDQUFDO0lBRXBDLFdBQVc7SUFDWCxNQUFNLFFBQVEsR0FBRyxDQUFDLEdBQUcsRUFBRTs7UUFDckIsTUFBTSxRQUFRLGVBQ1osTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQywwQ0FBRSxFQUFFLG1DQUFJLElBQUksQ0FBQztRQUV0RSxPQUFPLFFBQVE7WUFDYixhQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsMENBQUUsRUFBRSxtQ0FDaEUsSUFBSSxDQUFDO1lBQ1AsQ0FBQyxDQUFDLElBQUk7WUFDTixDQUFDLENBQUMsUUFBUSxDQUFDO0lBQ2YsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUVMLFFBQVE7SUFDUixNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUVyRSxRQUFRO0lBQ1IsTUFBTSxLQUFLLEdBQ1Qsa0JBQWtCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQzVDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQzFDLEtBQUssQ0FBQztRQUNMLENBQUMsQ0FBQyxJQUFJO1FBQ04sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBRXpCLE1BQU0sU0FBUyxHQUE2RDtRQUMxRSxFQUFFO1FBQ0YsTUFBTSxFQUFFO1lBQ04sS0FBSztZQUNMLFdBQVc7WUFDWCxVQUFVO1lBQ1YsUUFBUTtZQUNSLEtBQUs7U0FDTjtLQUNGLENBQUM7SUFFRixNQUFNLE1BQU0sQ0FBQyxNQUFNLENBQTZCO1FBQzlDLFFBQVEsRUFBRSxXQUFXO1FBQ3JCLFNBQVM7S0FDVixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFFRixlQUFlLFlBQVksQ0FBQyJ9","import React, { useMemo, useCallback } from \"react\";\nimport { useQuery, useApolloClient, } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nimport { Formik, useFormikContext } from \"formik\";\nimport { useTheme, Dialog, DialogTitle, Box, DialogContent, DialogContentText, Grid, DialogActions, Button, } from \"@material-ui/core\";\nimport { Add as AddIcon, Cancel as CancelIcon } from \"@material-ui/icons\";\nimport Fraction from \"fraction.js\";\nimport submitUpdate from \"./submitUpdate\";\nimport { JOURNAL_FRAGMENT } from \"./items.gql\";\nimport { DEPT_ENTRY_OPT_FRAGMENT, CAT_ENTRY_OPT_FRAGMENT, FISCAL_YEAR, } from \"../upsertEntry.gql\";\nimport { FormikStatusType, useFormikStatus, } from \"../../../../utils/formik\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport Overlay from \"../../../utils/Overlay\";\nimport Description from \"../EntryFields/Description\";\nimport Department from \"../EntryFields/Department\";\nimport Total from \"../EntryFields/Total\";\nimport Category from \"../EntryFields/Category\";\nimport Units from \"./ItemFields/Units\";\nimport { rationalToFraction } from \"../../../../utils/rational\";\nconst UPDATE_ITEM_INI_STATE = gql `\n  query UpdateItemIniState($entryId: ID!, $itemId: ID!) {\n    journalEntry(id: $entryId) {\n      ...JournalEntry_3Fragment\n    }\n    journalEntryItem(id: $itemId) {\n      __typename\n      id\n      department {\n        ...DeptEntryOptFragment\n      }\n      category {\n        ...CatEntryOptFragment\n        ancestors {\n          ...CatEntryOptFragment\n        }\n      }\n      description\n      units\n      total {\n        n\n        d\n        s\n      }\n    }\n  }\n  ${JOURNAL_FRAGMENT}\n  ${DEPT_ENTRY_OPT_FRAGMENT}\n  ${CAT_ENTRY_OPT_FRAGMENT}\n`;\nconst gridEntryResponsiveProps = {\n    item: true,\n    lg: 4,\n    sm: 6,\n    xs: 12,\n};\nconst UpdateItemDialog = (props) => {\n    var _a;\n    const { itemId, open, onClose, onExited: onExitedCb, journalEntry, loading, handleSubmit, } = props;\n    const { resetForm, isSubmitting, isValid } = useFormikContext();\n    const [formikStatus, setFormikStatus] = useFormikStatus();\n    const onError = useCallback((err) => {\n        setFormikStatus({ msg: err.message, type: FormikStatusType.FATAL_ERROR });\n    }, [setFormikStatus]);\n    const date = (journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.date) || \"\";\n    const { data: fiscalYearData } = useQuery(FISCAL_YEAR, {\n        skip: !date,\n        variables: {\n            date,\n        },\n        onError,\n    });\n    const fiscalYearId = useMemo(() => { var _a, _b; return (_b = (_a = fiscalYearData === null || fiscalYearData === void 0 ? void 0 : fiscalYearData.fiscalYears[0]) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"\"; }, [fiscalYearData]);\n    const type = (_a = journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.type) !== null && _a !== void 0 ? _a : null;\n    const total = journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.total;\n    const items = (journalEntry === null || journalEntry === void 0 ? void 0 : journalEntry.items) || [];\n    const maxTotal = useMemo(() => {\n        if (total) {\n            const totalItems = items.reduce((totalItems, { id, deleted, total }) => \n            // Do NOT include item being updated in max total calculation\n            deleted || id === itemId\n                ? totalItems\n                : totalItems.add(rationalToFraction(total)), new Fraction(0));\n            return rationalToFraction(total).sub(totalItems);\n        }\n        return new Fraction(Number.MAX_SAFE_INTEGER);\n    }, [total, items, itemId]);\n    const onExited = useCallback(() => {\n        onExitedCb();\n        resetForm();\n        setFormikStatus(null);\n    }, [resetForm, onExitedCb, setFormikStatus]);\n    const [generalError, fatalError] = useMemo(() => {\n        if (formikStatus &&\n            (formikStatus.type === FormikStatusType.FATAL_ERROR ||\n                formikStatus.type === FormikStatusType.ERROR)) {\n            return [\n                formikStatus.msg,\n                formikStatus.type === FormikStatusType.FATAL_ERROR,\n            ];\n        }\n        return [null, null];\n    }, [formikStatus]);\n    const title = useMemo(() => {\n        const title = \"Item Update\";\n        if (fatalError) {\n            return \"Fatal Error\";\n        }\n        else if (loading) {\n            return `Loading ${title}...`;\n        }\n        else if (isSubmitting) {\n            return `Submitting ${title}`;\n        }\n        return title;\n    }, [loading, fatalError, isSubmitting]);\n    const theme = useTheme();\n    return (React.createElement(Dialog, { open: open, onClose: onClose, onExited: onExited, disableBackdropClick: isSubmitting, disableEscapeKeyDown: isSubmitting, fullWidth: true, maxWidth: \"lg\", PaperProps: {\n            component: \"form\",\n            onSubmit: handleSubmit,\n        } },\n        React.createElement(DialogTitle, { style: generalError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            (loading || isSubmitting) && !generalError && (React.createElement(OverlayLoading, { zIndex: \"modal\" })),\n            !!generalError && fatalError && (React.createElement(Overlay, { opacity: 0.78, zIndex: \"modal\", padding: 2 },\n                React.createElement(DialogContentText, { color: \"error\" }, generalError))),\n            React.createElement(DialogContent, { dividers: true },\n                !!generalError && !fatalError && (React.createElement(DialogContentText, { color: \"error\" }, generalError)),\n                React.createElement(Grid, { container: true, spacing: 2 },\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Total, { disabled: loading || isSubmitting, fullWidth: true, maxTotal: maxTotal })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Units, { disabled: loading || isSubmitting, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Description, { disabled: loading || isSubmitting, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Category, { disabled: loading || isSubmitting || !!fatalError, entryType: type, fullWidth: true })),\n                    React.createElement(Grid, Object.assign({}, gridEntryResponsiveProps),\n                        React.createElement(Department, { disabled: loading || isSubmitting || !!fatalError, fullWidth: true, fiscalYearId: fiscalYearId }))))),\n        React.createElement(DialogActions, null,\n            !fatalError && (React.createElement(Button, { disabled: loading || isSubmitting || !isValid, type: \"submit\", startIcon: React.createElement(AddIcon, null), color: \"primary\", variant: \"contained\" }, \"Update\")),\n            React.createElement(Button, { disabled: loading || isSubmitting || !!fatalError, color: fatalError ? \"primary\" : \"default\", startIcon: !fatalError && React.createElement(CancelIcon, null), onClick: onClose }, fatalError ? \"Ok\" : \"Cancel\"))));\n};\nconst UpdateItem = (props) => {\n    const { entryId, itemId, open, onClose, onExited } = props;\n    const { loading, error, data } = useQuery(UPDATE_ITEM_INI_STATE, {\n        skip: !entryId,\n        variables: {\n            entryId: entryId,\n            itemId: itemId,\n        },\n    });\n    const initialStatus = useMemo(() => error\n        ? {\n            msg: error.message,\n            type: FormikStatusType.FATAL_ERROR,\n        }\n        : null, [error]);\n    const journalEntryItem = data === null || data === void 0 ? void 0 : data.journalEntryItem;\n    const initialValues = useMemo(() => {\n        var _a, _b;\n        if (!journalEntryItem) {\n            return {};\n        }\n        const total = {\n            inputValue: rationalToFraction(journalEntryItem.total)\n                .round(2)\n                .toString(),\n            value: journalEntryItem.total,\n        };\n        const category = (() => {\n            if (!journalEntryItem.category) {\n                return {\n                    inputValue: \"\",\n                    value: [],\n                };\n            }\n            const { ancestors, ...category } = journalEntryItem.category;\n            // Array.prototype.sort mutates the array, create copy.\n            const value = [...ancestors].sort((a, b) => {\n                var _a, _b;\n                // a is the parent of b\n                if (a.id === ((_a = b.parent) === null || _a === void 0 ? void 0 : _a.id)) {\n                    return -1;\n                    // b is the parent of a\n                }\n                else if (b.id === ((_b = a.parent) === null || _b === void 0 ? void 0 : _b.id)) {\n                    return 1;\n                }\n                return 0;\n            });\n            value.push(category);\n            return {\n                inputValue: \"\",\n                value,\n            };\n        })();\n        const department = (_a = journalEntryItem.department) !== null && _a !== void 0 ? _a : null;\n        const description = (_b = journalEntryItem.description) !== null && _b !== void 0 ? _b : null;\n        const units = journalEntryItem.units;\n        return {\n            total,\n            units,\n            category,\n            department,\n            description,\n        };\n    }, [journalEntryItem]);\n    const client = useApolloClient();\n    const onSubmit = useCallback(async (values, formikHelpers) => {\n        var _a;\n        if (!initialValues) {\n            formikHelpers.setStatus({\n                msg: `Failed to load initial values for item \"${itemId}\".`,\n                type: FormikStatusType.FATAL_ERROR,\n            });\n            return;\n        }\n        else if (!itemId) {\n            formikHelpers.setStatus({\n                msg: `No item ID.`,\n                type: FormikStatusType.FATAL_ERROR,\n            });\n            return;\n        }\n        try {\n            formikHelpers.setStatus(null);\n            await submitUpdate(client, initialValues, itemId, values, formikHelpers);\n            onClose();\n        }\n        catch (error) {\n            formikHelpers.setStatus({\n                msg: (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : `${error}`,\n                type: FormikStatusType.FATAL_ERROR,\n            });\n        }\n    }, [client, initialValues, onClose, itemId]);\n    const children = useCallback((props) => {\n        var _a;\n        return (React.createElement(UpdateItemDialog, { entryId: entryId, itemId: itemId, open: open, onClose: onClose, onExited: onExited, journalEntry: (_a = data === null || data === void 0 ? void 0 : data.journalEntry) !== null && _a !== void 0 ? _a : null, loading: loading, handleSubmit: props.handleSubmit }));\n    }, [data, entryId, loading, onClose, onExited, open, itemId]);\n    return (React.createElement(Formik, { initialValues: (initialValues !== null && initialValues !== void 0 ? initialValues : {}), initialStatus: initialStatus, enableReinitialize: true, onSubmit: onSubmit }, children));\n};\nexport default UpdateItem;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXBkYXRlSXRlbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVXBzZXJ0L0l0ZW1zL1VwZGF0ZUl0ZW0udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNwRCxPQUFPLEVBQ0wsUUFBUSxFQUNSLGVBQWUsR0FFaEIsTUFBTSxxQkFBcUIsQ0FBQztBQUM3QixPQUFPLEdBQUcsTUFBTSxhQUFhLENBQUM7QUFDOUIsT0FBTyxFQUFFLE1BQU0sRUFBNkIsZ0JBQWdCLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDN0UsT0FBTyxFQUNMLFFBQVEsRUFDUixNQUFNLEVBQ04sV0FBVyxFQUVYLEdBQUcsRUFDSCxhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLElBQUksRUFDSixhQUFhLEVBQ2IsTUFBTSxHQUVQLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLEdBQUcsSUFBSSxPQUFPLEVBQUUsTUFBTSxJQUFJLFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzFFLE9BQU8sUUFBUSxNQUFNLGFBQWEsQ0FBQztBQVNuQyxPQUFPLFlBQThCLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQy9DLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsc0JBQXNCLEVBQ3RCLFdBQVcsR0FDWixNQUFNLG9CQUFvQixDQUFDO0FBQzVCLE9BQU8sRUFFTCxnQkFBZ0IsRUFDaEIsZUFBZSxHQUNoQixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sY0FBYyxNQUFNLCtCQUErQixDQUFDO0FBQzNELE9BQU8sT0FBTyxNQUFNLHdCQUF3QixDQUFDO0FBQzdDLE9BQU8sV0FBVyxNQUFNLDRCQUE0QixDQUFDO0FBQ3JELE9BQU8sVUFBVSxNQUFNLDJCQUEy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","import React, { useCallback, useMemo } from \"react\";\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button, Box, useTheme, } from \"@material-ui/core\";\nimport { Delete as DeleteIcon, Cancel as CancelIcon } from \"@material-ui/icons\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nconst DELETE_ITEM = gql `\n  mutation DeleteItem($id: ID!) {\n    journalEntryDeleteItem(id: $id) {\n      journalEntryItem {\n        id\n        __typename\n        deleted\n      }\n    }\n  }\n`;\nconst DeleteItem = (props) => {\n    const { itemId, onClose } = props;\n    const [deleteItem, { loading, error }] = useMutation(DELETE_ITEM);\n    const hasError = !!error;\n    const onDelete = useCallback(() => {\n        deleteItem({ variables: { id: itemId } }).then(() => onClose());\n    }, [itemId, deleteItem, onClose]);\n    const title = useMemo(() => {\n        if (hasError) {\n            return \"Error\";\n        }\n        else if (loading) {\n            return \"Deleting Item...\";\n        }\n        return \"Delete Item\";\n    }, [hasError, loading]);\n    const theme = useTheme();\n    return (React.createElement(Dialog, { open: !!itemId, maxWidth: \"sm\", fullWidth: true, disableBackdropClick: loading, disableEscapeKeyDown: loading, onClose: onClose },\n        React.createElement(DialogTitle, { style: hasError ? { color: theme.palette.error.main } : undefined }, title),\n        React.createElement(Box, { position: \"relative\" },\n            loading && React.createElement(OverlayLoading, { zIndex: \"modal\" }),\n            React.createElement(DialogContent, null,\n                hasError && (React.createElement(DialogContentText, { color: \"error\" }, error === null || error === void 0 ? void 0 : error.message)),\n                !hasError && (React.createElement(DialogContentText, null, \"Are you sure you want to delete this item?\")))),\n        React.createElement(DialogActions, null,\n            !hasError && (React.createElement(Button, { disabled: loading, onClick: onDelete, startIcon: React.createElement(DeleteIcon, null), color: \"primary\", variant: \"contained\" }, \"Delete\")),\n            React.createElement(Button, { disabled: loading, startIcon: !hasError && React.createElement(CancelIcon, null), onClick: onClose }, hasError ? \"Close\" : \"Cancel\"))));\n};\nexport default DeleteItem;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVsZXRlSXRlbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVXBzZXJ0L0l0ZW1zL0RlbGV0ZUl0ZW0udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNwRCxPQUFPLEVBQ0wsTUFBTSxFQUNOLFdBQVcsRUFDWCxhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLGFBQWEsRUFDYixNQUFNLEVBQ04sR0FBRyxFQUNILFFBQVEsR0FDVCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxNQUFNLElBQUksVUFBVSxFQUFFLE1BQU0sSUFBSSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNoRixPQUFPLEdBQUcsTUFBTSxhQUFhLENBQUM7QUFDOUIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBTWxELE9BQU8sY0FBYyxNQUFNLCtCQUErQixDQUFDO0FBRTNELE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7OztDQVV0QixDQUFDO0FBRUYsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUduQixFQUFlLEVBQUU7SUFDaEIsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFbEMsTUFBTSxDQUFDLFVBQVUsRUFBRSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FHbEQsV0FBVyxDQUFDLENBQUM7SUFDZixNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBRXpCLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUU7UUFDaEMsVUFBVSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQWdCLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDNUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBRWxDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUU7UUFDekIsSUFBSSxRQUFRLEVBQUU7WUFDWixPQUFPLE9BQU8sQ0FBQztTQUNoQjthQUFNLElBQUksT0FBTyxFQUFFO1lBQ2xCLE9BQU8sa0JBQWtCLENBQUM7U0FDM0I7UUFDRCxPQUFPLGFBQWEsQ0FBQztJQUN2QixDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUV4QixNQUFNLEtBQUssR0FBRyxRQUFRLEVBQUUsQ0FBQztJQUV6QixPQUFPLENBQ0wsb0JBQUMsTUFBTSxJQUNMLElBQUksRUFBRSxDQUFDLENBQUMsTUFBTSxFQUNkLFFBQVEsRUFBQyxJQUFJLEVBQ2IsU0FBUyxRQUNULG9CQUFvQixFQUFFLE9BQU8sRUFDN0Isb0JBQW9CLEVBQUUsT0FBTyxFQUM3QixPQUFPLEVBQUUsT0FBTztRQUVoQixvQkFBQyxXQUFXLElBQ1YsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsSUFFaEUsS0FBSyxDQUNNO1FBQ2Qsb0JBQUMsR0FBRyxJQUFDLFFBQVEsRUFBQyxVQUFVO1lBQ3JCLE9BQU8sSUFBSSxvQkFBQyxjQUFjLElBQUMsTUFBTSxFQUFDLE9BQU8sR0FBRztZQUM3QyxvQkFBQyxhQUFhO2dCQUNYLFFBQVEsSUFBSSxDQUNYLG9CQUFDLGlCQUFpQixJQUFDLEtBQUssRUFBQyxPQUFPLElBQzdCLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxPQUFpQixDQUNQLENBQ3JCO2dCQUNBLENBQUMsUUFBUSxJQUFJLENBQ1osb0JBQUMsaUJBQWlCLHFEQUVFLENBQ3JCLENBQ2EsQ0FDWjtRQUNOLG9CQUFDLGFBQWE7WUFDWCxDQUFDLFFBQVEsSUFBSSxDQUNaLG9CQUFDLE1BQU0sSUFDTCxRQUFRLEVBQUUsT0FBTyxFQUNqQixPQUFPLEVBQUUsUUFBUSxFQUNqQixTQUFTLEVBQUUsb0JBQUMsVUFBVSxPQUFHLEVBQ3pCLEtBQUssRUFBQyxTQUFTLEVBQ2YsT0FBTyxFQUFDLFdBQVcsYUFHWixDQUNWO1lBQ0Qsb0JBQUMsTUFBTSxJQUNMLFFBQVEsRUFBRSxPQUFPLEVBQ2pCLFNBQVMsRUFBRSxDQUFDLFFBQVEsSUFBSSxvQkFBQyxVQUFVLE9BQUcsRUFDdEMsT0FBTyxFQUFFLE9BQU8sSUFFZixRQUFRLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUN2QixDQUNLLENBQ1QsQ0FDVixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsZUFBZSxVQUFVLENBQUMifQ==","import React, { useMemo, useState, useCallback } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { capitalCase } from \"change-case\";\nimport numeral from \"numeral\";\nimport { Box, useTheme, Divider } from \"@material-ui/core\";\nimport tableIcons from \"../../utils/materialTableIcons\";\nimport AddItem from \"../Upsert/Items/AddItem\";\nimport UpdateItem from \"../Upsert/Items/UpdateItem\";\nimport DeleteItem from \"../Upsert/Items/DeleteItem\";\nimport { Delete as DeleteIcon, AddCircle as AddCircleIcon, Edit as EditIcon, } from \"@material-ui/icons\";\nimport { rationalToFraction } from \"../../../utils/rational\";\nconst Items = (props) => {\n    var _a, _b;\n    const { items, category, description, department, id: entryId } = props.entry;\n    // Add Item\n    const [addItemOpen, setAddItemOpen] = useState(false);\n    const [addItemToEntry, setAddItemToEntry] = useState(null);\n    const addItemOnClose = useCallback(() => void setAddItemOpen(false), [\n        setAddItemOpen,\n    ]);\n    const addItemOnExited = useCallback(() => void setAddItemToEntry(null), [\n        setAddItemToEntry,\n    ]);\n    // Update Item\n    const [updateItemOpen, setUpdateItemOpen] = useState(false);\n    const [updateItem, setUpdateItem] = useState(null);\n    // Delete Item\n    const [deleteItem, setDeleteItem] = useState(null);\n    const deleteItemOnClose = useCallback(() => void setDeleteItem(null), [\n        setDeleteItem,\n    ]);\n    const updateItemOnClose = useCallback(() => void setUpdateItemOpen(false), [\n        setUpdateItemOpen,\n    ]);\n    const updateItemOnExited = useCallback(() => void setUpdateItem(null), [\n        setUpdateItem,\n    ]);\n    const actions = useMemo(() => {\n        return [\n            {\n                icon: DeleteIcon,\n                tooltip: \"Delete Item\",\n                onClick: (event, rowData) => setDeleteItem(rowData.id),\n            },\n            {\n                icon: EditIcon,\n                tooltip: \"Edit Item\",\n                onClick: (event, rowData) => {\n                    setUpdateItemOpen(true);\n                    setUpdateItem({\n                        entryId,\n                        itemId: rowData.id,\n                    });\n                },\n            },\n            {\n                icon: ((props) => (React.createElement(AddCircleIcon, Object.assign({}, props)))),\n                iconProps: {\n                    color: \"secondary\",\n                    fontSize: \"large\",\n                },\n                tooltip: \"Add Item\",\n                isFreeAction: true,\n                onClick: () => {\n                    setAddItemOpen(true);\n                    setAddItemToEntry(entryId);\n                },\n            },\n        ];\n    }, [entryId]);\n    const columns = useMemo(() => {\n        return [\n            {\n                field: \"total\",\n                title: \"Total\",\n                render: ({ total }) => numeral(rationalToFraction(total).valueOf()).format(\"$0,0.00\"),\n            },\n            {\n                field: \"units\",\n                title: \"Units\",\n            },\n            {\n                field: \"description\",\n                title: \"Description\",\n                render: (data) => { var _a; return ((_a = data.description) === null || _a === void 0 ? void 0 : _a.trim()) || description; },\n            },\n            {\n                field: \"category\",\n                title: \"Category\",\n                render: (data) => {\n                    var _a, _b;\n                    const name = (_b = (_a = data.category) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : category.name;\n                    return capitalCase(name);\n                },\n            },\n            {\n                field: \"department\",\n                title: \"Department\",\n                render: (data) => {\n                    var _a, _b;\n                    const name = (_b = (_a = data.department) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : department.name;\n                    return capitalCase(name);\n                },\n            },\n        ];\n    }, [category, description, department]);\n    const options = useMemo(() => ({ search: false, emptyRowsWhenPaging: false /* paging: false */ }), []);\n    const data = useMemo(() => items.filter((item) => !item.deleted), [items]);\n    const theme = useTheme();\n    const tableStyle = useMemo(() => ({ boxShadow: theme.shadows[0] }), [\n        theme.shadows,\n    ]);\n    const dividerStyle = useMemo(() => ({ backgroundColor: theme.palette.primary.main }), [theme.palette.primary.main]);\n    return (React.createElement(Box, null,\n        React.createElement(MaterialTable, { title: \"Items\", actions: actions, options: options, columns: columns, icons: tableIcons, data: data, style: tableStyle }),\n        React.createElement(AddItem, { entryId: addItemToEntry, open: addItemOpen, onClose: addItemOnClose, onExited: addItemOnExited }),\n        React.createElement(UpdateItem, { entryId: (_a = updateItem === null || updateItem === void 0 ? void 0 : updateItem.entryId) !== null && _a !== void 0 ? _a : null, itemId: (_b = updateItem === null || updateItem === void 0 ? void 0 : updateItem.itemId) !== null && _b !== void 0 ? _b : null, open: updateItemOpen, onClose: updateItemOnClose, onExited: updateItemOnExited }),\n        React.createElement(DeleteItem, { itemId: deleteItem, onClose: deleteItemOnClose }),\n        React.createElement(Divider, { style: dividerStyle })));\n};\nexport default Items;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSXRlbXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1RhYmxlL0l0ZW1zLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQzlELE9BQU8sYUFLTixNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxPQUFPLE1BQU0sU0FBUyxDQUFDO0FBQzlCLE9BQU8sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBTTNELE9BQU8sVUFBVSxNQUFNLGdDQUFnQyxDQUFDO0FBQ3hELE9BQU8sT0FBTyxNQUFNLHlCQUF5QixDQUFDO0FBQzlDLE9BQU8sVUFBVSxNQUFNLDRCQUE0QixDQUFDO0FBQ3BELE9BQU8sVUFBVSxNQUFNLDRCQUE0QixDQUFDO0FBQ3BELE9BQU8sRUFDTCxNQUFNLElBQUksVUFBVSxFQUNwQixTQUFTLElBQUksYUFBYSxFQUMxQixJQUFJLElBQUksUUFBUSxHQUNqQixNQUFNLG9CQUFvQixDQUFDO0FBQzVCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBTTdELE1BQU0sS0FBSyxHQUFHLENBQUMsS0FBaUIsRUFBZSxFQUFFOztJQUMvQyxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBRTlFLFdBQVc7SUFDWCxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxHQUFHLFFBQVEsQ0FBVSxLQUFLLENBQUMsQ0FBQztJQUMvRCxNQUFNLENBQUMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLEdBQUcs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","import React, { useCallback, useState } from \"react\";\nimport { Select, InputAdornment, MenuItem, Tooltip, } from \"@material-ui/core\";\nimport { FilterList as FilterListIcon } from \"@material-ui/icons\";\nconst Reconciled = (props) => {\n    const { setFilter } = props;\n    const [value, setValue] = useState(\"None\");\n    const onChange = useCallback((event) => {\n        const value = event.target.value;\n        switch (value) {\n            case \"Reconciled\":\n                setFilter({\n                    reconciled: {\n                        $eq: true,\n                    },\n                });\n                break;\n            case \"Unreconciled\":\n                setFilter({\n                    reconciled: { $eq: false },\n                });\n                break;\n            case \"None\":\n                setFilter({});\n                break;\n        }\n        setValue(value);\n    }, [setFilter, setValue]);\n    return (React.createElement(Tooltip, { title: value === \"None\" ? \"No Filter\" : value },\n        React.createElement(Select, { startAdornment: React.createElement(InputAdornment, { disablePointerEvents: true, position: \"start\" },\n                React.createElement(FilterListIcon, null)), onChange: onChange, fullWidth: true, value: value === \"None\" ? \"\" : value },\n            React.createElement(MenuItem, { value: \"None\" }, \"None\"),\n            React.createElement(MenuItem, { value: \"Reconciled\" }, \"Reconciled\"),\n            React.createElement(MenuItem, { value: \"Unreconciled\" }, \"Unreconciled\"))));\n};\nexport default Reconciled;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVjb25jaWxlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVGFibGUvRmlsdGVyRmllbGRzL1JlY29uY2lsZWQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNyRCxPQUFPLEVBQ0wsTUFBTSxFQUNOLGNBQWMsRUFDZCxRQUFRLEVBRVIsT0FBTyxHQUNSLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLFVBQVUsSUFBSSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUlsRSxNQUFNLFVBQVUsR0FBRyxDQUFDLEtBRW5CLEVBQWUsRUFBRTtJQUNoQixNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRTVCLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFTLE1BQU0sQ0FBQyxDQUFDO0lBRW5ELE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FDMUIsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUNSLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBZSxDQUFDO1FBRTNDLFFBQVEsS0FBSyxFQUFFO1lBQ2IsS0FBSyxZQUFZO2dCQUNmLFNBQVMsQ0FBQztvQkFDUixVQUFVLEVBQUU7d0JBQ1YsR0FBRyxFQUFFLElBQUk7cUJBQ1Y7aUJBQ0YsQ0FBQyxDQUFDO2dCQUNILE1BQU07WUFDUixLQUFLLGNBQWM7Z0JBQ2pCLFNBQVMsQ0FBQztvQkFDUixVQUFVLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFO2lCQUMzQixDQUFDLENBQUM7Z0JBQ0gsTUFBTTtZQUNSLEtBQUssTUFBTTtnQkFDVCxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2QsTUFBTTtTQUNUO1FBQ0QsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xCLENBQUMsRUFDRCxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FDdEIsQ0FBQztJQUVGLE9BQU8sQ0FDTCxvQkFBQyxPQUFPLElBQUMsS0FBSyxFQUFFLEtBQUssS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsS0FBSztRQUNwRCxvQkFBQyxNQUFNLElBQ0wsY0FBYyxFQUNaLG9CQUFDLGNBQWMsSUFBQyxvQkFBb0IsUUFBQyxRQUFRLEVBQUMsT0FBTztnQkFDbkQsb0JBQUMsY0FBYyxPQUFHLENBQ0gsRUFFbkIsUUFBUSxFQUFFLFFBQVEsRUFDbEIsU0FBUyxRQUNULEtBQUssRUFBRSxLQUFLLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUs7WUFFcEMsb0JBQUMsUUFBUSxJQUFDLEtBQUssRUFBQyxNQUFNLFdBQWdCO1lBQ3RDLG9CQUFDLFFBQVEsSUFBQyxLQUFLLEVBQUMsWUFBWSxpQkFBc0I7WUFDbEQsb0JBQUMsUUFBUSxJQUFDLEtBQUssRUFBQyxjQUFjLG1CQUF3QixDQUMvQyxDQUNELENBQ1gsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGVBQWUsVUFBVSxDQUFDIn0=","import React, { useMemo, useCallback, useState } from \"react\";\nimport { Select, MenuItem, ListItemText, Input, Checkbox, InputAdornment, Box, Tooltip, } from \"@material-ui/core\";\nimport { FilterList as FilterListIcon } from \"@material-ui/icons\";\nconst Category = (props) => {\n    const { setFilter, options } = props;\n    const [value, setValue] = useState([]);\n    const [items, idNameMap] = useMemo(() => {\n        const items = [];\n        const idNameMap = new Map();\n        for (const category of options) {\n            idNameMap.set(category.id, category.name);\n            items.push(React.createElement(MenuItem, { key: category.id, value: category.id },\n                React.createElement(Checkbox, { checked: value.includes(category.id) }),\n                React.createElement(ListItemText, { primary: category.name })));\n        }\n        return [items, idNameMap];\n    }, [options, value]);\n    const renderValue = useCallback((renderValues) => renderValues.map((v) => { var _a; return (_a = idNameMap.get(v)) !== null && _a !== void 0 ? _a : \"\"; }).join(\", \"), [idNameMap]);\n    const onChange = useCallback((event) => {\n        const values = event.target.value || [];\n        if (values.length === 0) {\n            setFilter({});\n        }\n        else {\n            setFilter({\n                \"category.id\": { $in: values },\n            });\n        }\n        setValue(values);\n    }, [setFilter]);\n    return (React.createElement(Tooltip, { title: value.length === 0 ? \"No Filter\" : renderValue(value) },\n        React.createElement(Box, { maxWidth: 250 },\n            React.createElement(Select, { startAdornment: React.createElement(InputAdornment, { disablePointerEvents: true, position: \"start\" },\n                    React.createElement(FilterListIcon, null)), fullWidth: true, multiple: true, value: value, onChange: onChange, input: React.createElement(Input, null), renderValue: renderValue }, items))));\n};\nexport default Category;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2F0ZWdvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1RhYmxlL0ZpbHRlckZpZWxkcy9DYXRlZ29yeS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUM5RCxPQUFPLEVBQ0wsTUFBTSxFQUNOLFFBQVEsRUFDUixZQUFZLEVBQ1osS0FBSyxFQUNMLFFBQVEsRUFDUixjQUFjLEVBQ2QsR0FBRyxFQUNILE9BQU8sR0FDUixNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxVQUFVLElBQUksY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFJbEUsTUFBTSxRQUFRLEdBQUcsQ0FBQyxLQUdqQixFQUFlLEVBQUU7SUFDaEIsTUFBTSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFckMsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxRQUFRLENBQVcsRUFBRSxDQUFDLENBQUM7SUFFakQsTUFBTSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFO1FBQ3RDLE1BQU0sS0FBSyxHQUFrQixFQUFFLENBQUM7UUFDaEMsTUFBTSxTQUFTLEdBQUcsSUFBSSxHQUFHLEVBQWtCLENBQUM7UUFFNUMsS0FBSyxNQUFNLFFBQVEsSUFBSSxPQUFPLEVBQUU7WUFDOUIsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUUxQyxLQUFLLENBQUMsSUFBSSxDQUNSLG9CQUFDLFFBQVEsSUFBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLEVBQUU7Z0JBQzVDLG9CQUFDLFFBQVEsSUFBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLEdBQUk7Z0JBQ2xELG9CQUFDLFlBQVksSUFBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLElBQUksR0FBSSxDQUMvQixDQUNaLENBQUM7U0FDSDtRQUVELE9BQU8sQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFVLENBQUM7SUFDckMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFFckIsTUFBTSxXQUFXLEdBQUcsV0FBVyxDQUM3QixDQUFDLFlBQXFCLEVBQUUsRUFBRSxDQUN2QixZQUF5QixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLHdCQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLG1DQUFJLEVBQUUsR0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUMxRSxDQUFDLFNBQVMsQ0FBQyxDQUNaLENBQUM7SUFFRixNQUFNLFFBQVEsR0FBRyxXQUFXLENBQzFCLENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDUixNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssSUFBSyxFQUFlLENBQUM7UUFDdEQsSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN2QixTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDZjthQUFNO1lBQ0wsU0FBUyxDQUFDO2dCQUNSLGFBQWEsRUFBRSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUU7YUFDL0IsQ0FBQyxDQUFDO1NBQ0o7UUFDRCxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkIsQ0FBQyxFQUNELENBQUMsU0FBUyxDQUFDLENBQ1osQ0FBQztJQUVGLE9BQU8sQ0FDTCxvQkFBQyxPQUFPLElBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUM7UUFDbkUsb0JBQUMsR0FBRyxJQUFDLFFBQVEsRUFBRSxHQUFHO1lBQ2hCLG9CQUFDLE1BQU0sSUFDTCxjQUFjLEVBQ1osb0JBQUMsY0FBYyxJQUFDLG9CQUFvQixRQUFDLFFBQVEsRUFBQyxPQUFPO29CQUNuRCxvQkFBQyxjQUFjLE9BQUcsQ0FDSCxFQUVuQixTQUFTLFFBQ1QsUUFBUSxRQUNSLEtBQUssRUFBRSxLQUFLLEVBQ1osUUFBUSxFQUFFLFFBQVEsRUFDbEIsS0FBSyxFQUFFLG9CQUFDLEtBQUssT0FBRyxFQUNoQixXQUFXLEVBQUUsV0FBVyxJQUV2QixLQUFLLENBQ0MsQ0FDTCxDQUNFLENBQ1gsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGVBQWUsUUFBUSxDQUFDIn0=","import React, { useMemo, useCallback, useState } from \"react\";\nimport { Select, MenuItem, ListItemText, Input, Checkbox, InputAdornment, Box, Tooltip, } from \"@material-ui/core\";\nimport { FilterList as FilterListIcon } from \"@material-ui/icons\";\nconst PaymentMethod = (props) => {\n    const { setFilter, options } = props;\n    const [value, setValue] = useState([]);\n    const [items, idNameMap] = useMemo(() => {\n        const items = [];\n        const idNameMap = new Map();\n        for (const paymentMethod of options) {\n            idNameMap.set(paymentMethod.id, paymentMethod.name);\n            items.push(React.createElement(MenuItem, { key: paymentMethod.id, value: paymentMethod.id },\n                React.createElement(Checkbox, { checked: value.includes(paymentMethod.id) }),\n                React.createElement(ListItemText, { primary: paymentMethod.name })));\n        }\n        return [items, idNameMap];\n    }, [options, value]);\n    const renderValue = useCallback((renderValues) => renderValues.map((v) => { var _a; return (_a = idNameMap.get(v)) !== null && _a !== void 0 ? _a : \"\"; }).join(\", \"), [idNameMap]);\n    const onChange = useCallback((event) => {\n        const values = event.target.value || [];\n        if (values.length === 0) {\n            setFilter({});\n        }\n        else {\n            setFilter({\n                $or: [\n                    { \"paymentMethod.id\": { $in: values } },\n                    { \"paymentMethod.parent.id\": { $in: values } },\n                ],\n            });\n        }\n        setValue(values);\n    }, [setFilter]);\n    return (React.createElement(Tooltip, { title: value.length === 0 ? \"No Filter\" : renderValue(value) },\n        React.createElement(Box, { maxWidth: 250 },\n            React.createElement(Select, { startAdornment: React.createElement(InputAdornment, { disablePointerEvents: true, position: \"start\" },\n                    React.createElement(FilterListIcon, null)), fullWidth: true, multiple: true, value: value, onChange: onChange, input: React.createElement(Input, null), renderValue: renderValue }, items))));\n};\nexport default PaymentMethod;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGF5bWVudE1ldGhvZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVGFibGUvRmlsdGVyRmllbGRzL1BheW1lbnRNZXRob2QudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUQsT0FBTyxFQUNMLE1BQU0sRUFDTixRQUFRLEVBQ1IsWUFBWSxFQUNaLEtBQUssRUFDTCxRQUFRLEVBQ1IsY0FBYyxFQUNkLEdBQUcsRUFDSCxPQUFPLEdBRVIsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsVUFBVSxJQUFJLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBSWxFLE1BQU0sYUFBYSxHQUFHLENBQUMsS0FHdEIsRUFBZSxFQUFFO0lBQ2hCLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRXJDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFXLEVBQUUsQ0FBQyxDQUFDO0lBRWpELE1BQU0sQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRTtRQUN0QyxNQUFNLEtBQUssR0FBa0IsRUFBRSxDQUFDO1FBQ2hDLE1BQU0sU0FBUyxHQUFHLElBQUksR0FBRyxFQUFrQixDQUFDO1FBRTVDLEtBQUssTUFBTSxhQUFhLElBQUksT0FBTyxFQUFFO1lBQ25DLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLEVBQUUsRUFBRSxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFcEQsS0FBSyxDQUFDLElBQUksQ0FDUixvQkFBQyxRQUFRLElBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLGFBQWEsQ0FBQyxFQUFFO2dCQUN0RCxvQkFBQyxRQUFRLElBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxHQUFJO2dCQUN2RCxvQkFBQyxZQUFZLElBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxJQUFJLEdBQUksQ0FDcEMsQ0FDWixDQUFDO1NBQ0g7UUFFRCxPQUFPLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBVSxDQUFDO0lBQ3JDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBRXJCLE1BQU0sV0FBVyxHQUFHLFdBQVcsQ0FDN0IsQ0FBQyxZQUFzQixFQUFFLEVBQUUsQ0FDekIsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLHdCQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLG1DQUFJLEVBQUUsR0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUM1RCxDQUFDLFNBQVMsQ0FBQyxDQUNaLENBQUM7SUFFRixNQUFNLFFBQVEsR0FBRyxXQUFXLENBQzFCLENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDUixNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssSUFBSyxFQUFlLENBQUM7UUFDdEQsSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN2QixTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDZjthQUFNO1lBQ0wsU0FBUyxDQUFDO2dCQUNSLEdBQUcsRUFBRTtvQkFDSCxFQUFFLGtCQUFrQixFQUFFLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFO29CQUN2QyxFQUFFLHlCQUF5QixFQUFFLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFO2lCQUMvQzthQUNGLENBQUMsQ0FBQztTQUNKO1FBQ0QsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25CLENBQUMsRUFDRCxDQUFDLFNBQVMsQ0FBQyxDQUNaLENBQUM7SUFFRixPQUFPLENBQ0wsb0JBQUMsT0FBTyxJQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO1FBQ25FLG9CQUFDLEdBQUcsSUFBQyxRQUFRLEVBQUUsR0FBRztZQUNoQixvQkFBQyxNQUFNLElBQ0wsY0FBYyxFQUNaLG9CQUFDLGNBQWMsSUFBQyxvQkFBb0IsUUFBQyxRQUFRLEVBQUMsT0FBTztvQkFDbkQsb0JBQUMsY0FBYyxPQUFHLENBQ0gsRUFFbkIsU0FBUyxRQUNULFFBQVEsUUFDUixLQUFLLEVBQUUsS0FBSyxFQUNaLFFBQVEsRUFBRSxRQUFRLEVBQ2xCLEtBQUssRUFBRSxvQkFBQyxLQUFLLE9BQUcsRUFDaEIsV0FBVyxFQUFFLFdBQXlDLElBRXJELEtBQUssQ0FDQyxDQUNMLENBQ0UsQ0FDWCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsZUFBZSxhQUFhLENBQUMifQ==","import React, { useMemo, useCallback, useState } from \"react\";\nimport { Select, MenuItem, ListItemText, Input, Checkbox, InputAdornment, Box, Tooltip, } from \"@material-ui/core\";\nimport { FilterList as FilterListIcon } from \"@material-ui/icons\";\nconst Department = (props) => {\n    const { setFilter, options } = props;\n    const [value, setValue] = useState([]);\n    const [items, idNameMap] = useMemo(() => {\n        const items = [];\n        const idNameMap = new Map();\n        for (const department of options) {\n            idNameMap.set(department.id, department.name);\n            items.push(React.createElement(MenuItem, { key: department.id, value: department.id },\n                React.createElement(Checkbox, { checked: value.includes(department.id) }),\n                React.createElement(ListItemText, { primary: department.name })));\n        }\n        return [items, idNameMap];\n    }, [options, value]);\n    const renderValue = useCallback((renderValues) => renderValues.map((v) => { var _a; return (_a = idNameMap.get(v)) !== null && _a !== void 0 ? _a : \"\"; }).join(\", \"), [idNameMap]);\n    const onChange = useCallback((event) => {\n        const values = event.target.value || [];\n        if (values.length === 0) {\n            setFilter({});\n        }\n        else {\n            setFilter({\n                \"department.id\": { $in: values },\n            });\n        }\n        setValue(values);\n    }, [setFilter]);\n    return (React.createElement(Tooltip, { title: value.length === 0 ? \"No Filter\" : renderValue(value) },\n        React.createElement(Box, { maxWidth: 250 },\n            React.createElement(Select, { startAdornment: React.createElement(InputAdornment, { disablePointerEvents: true, position: \"start\" },\n                    React.createElement(FilterListIcon, null)), fullWidth: true, multiple: true, value: value, onChange: onChange, input: React.createElement(Input, null), renderValue: renderValue }, items))));\n};\nexport default Department;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwYXJ0bWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVGFibGUvRmlsdGVyRmllbGRzL0RlcGFydG1lbnQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUQsT0FBTyxFQUNMLE1BQU0sRUFDTixRQUFRLEVBQ1IsWUFBWSxFQUNaLEtBQUssRUFDTCxRQUFRLEVBQ1IsY0FBYyxFQUNkLEdBQUcsRUFDSCxPQUFPLEdBQ1IsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsVUFBVSxJQUFJLGNBQWMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBSWxFLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FHbkIsRUFBZSxFQUFFO0lBQ2hCLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRXJDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFXLEVBQUUsQ0FBQyxDQUFDO0lBRWpELE1BQU0sQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRTtRQUN0QyxNQUFNLEtBQUssR0FBa0IsRUFBRSxDQUFDO1FBQ2hDLE1BQU0sU0FBUyxHQUFHLElBQUksR0FBRyxFQUFrQixDQUFDO1FBRTVDLEtBQUssTUFBTSxVQUFVLElBQUksT0FBTyxFQUFFO1lBQ2hDLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFOUMsS0FBSyxDQUFDLElBQUksQ0FDUixvQkFBQyxRQUFRLElBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLFVBQVUsQ0FBQyxFQUFFO2dCQUNoRCxvQkFBQyxRQUFRLElBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxHQUFJO2dCQUNwRCxvQkFBQyxZQUFZLElBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxJQUFJLEdBQUksQ0FDakMsQ0FDWixDQUFDO1NBQ0g7UUFFRCxPQUFPLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBVSxDQUFDO0lBQ3JDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBRXJCLE1BQU0sV0FBVyxHQUFHLFdBQVcsQ0FDN0IsQ0FBQyxZQUFxQixFQUFFLEVBQUUsQ0FDdkIsWUFBeUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSx3QkFBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxtQ0FBSSxFQUFFLEdBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFDMUUsQ0FBQyxTQUFTLENBQUMsQ0FDWixDQUFDO0lBRUYsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUMxQixDQUFDLEtBQUssRUFBRSxFQUFFO1FBQ1IsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUssRUFBZSxDQUFDO1FBQ3RELElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDdkIsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ2Y7YUFBTTtZQUNMLFNBQVMsQ0FBQztnQkFDUixlQUFlLEVBQUUsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFO2FBQ2pDLENBQUMsQ0FBQztTQUNKO1FBQ0QsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25CLENBQUMsRUFDRCxDQUFDLFNBQVMsQ0FBQyxDQUNaLENBQUM7SUFFRixPQUFPLENBQ0wsb0JBQUMsT0FBTyxJQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO1FBQ25FLG9CQUFDLEdBQUcsSUFBQyxRQUFRLEVBQUUsR0FBRztZQUNoQixvQkFBQyxNQUFNLElBQ0wsY0FBYyxFQUNaLG9CQUFDLGNBQWMsSUFBQyxvQkFBb0IsUUFBQyxRQUFRLEVBQUMsT0FBTztvQkFDbkQsb0JBQUMsY0FBYyxPQUFHLENBQ0gsRUFFbkIsU0FBUyxRQUNULFFBQVEsUUFDUixLQUFLLEVBQUUsS0FBSyxFQUNaLFFBQVEsRUFBRSxRQUFRLEVBQ2xCLEtBQUssRUFBRSxvQkFBQyxLQUFLLE9BQUcsRUFDaEIsV0FBVyxFQUFFLFdBQVcsSUFFdkIsS0FBSyxDQUNDLENBQ0wsQ0FDRSxDQUNYLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLFVBQVUsQ0FBQyJ9","import React, { useMemo, useCallback, useState } from \"react\";\nimport { Select, MenuItem, ListItemText, Input, Checkbox, InputAdornment, Box, Tooltip, } from \"@material-ui/core\";\nimport { FilterList as FilterListIcon } from \"@material-ui/icons\";\nconst Source = (props) => {\n    const { setFilter, options } = props;\n    const [value, setValue] = useState([]);\n    const [items, idNameMap] = useMemo(() => {\n        const items = [];\n        const idNameMap = new Map();\n        for (const source of options) {\n            const name = (() => {\n                switch (source.__typename) {\n                    case \"Person\":\n                        return `${source.name.first} ${source.name.last}`;\n                    case \"Business\":\n                        return source.bizName;\n                    case \"Department\":\n                        return source.deptName;\n                }\n            })();\n            const id = `${source.__typename}-${source.id}`;\n            idNameMap.set(id, name);\n            items.push(React.createElement(MenuItem, { key: id, value: id },\n                React.createElement(Checkbox, { checked: value.includes(id) }),\n                React.createElement(ListItemText, { primary: name })));\n        }\n        return [items, idNameMap];\n    }, [options, value]);\n    const renderValue = useCallback((renderValues) => renderValues.map((v) => { var _a; return (_a = idNameMap.get(v)) !== null && _a !== void 0 ? _a : \"\"; }).join(\", \"), [idNameMap]);\n    const onChange = useCallback((event) => {\n        const values = (event.target.value || []);\n        if (values.length === 0) {\n            setFilter({});\n        }\n        else {\n            setFilter({\n                $or: values.map((v) => {\n                    const [type, id] = v.split(\"-\");\n                    return {\n                        \"source.id\": id,\n                        \"source.__typename\": type,\n                    };\n                }),\n            });\n        }\n        setValue(values);\n    }, [setFilter]);\n    return (React.createElement(Tooltip, { title: value.length === 0 ? \"No Filter\" : renderValue(value) },\n        React.createElement(Box, { maxWidth: 250 },\n            React.createElement(Select, { startAdornment: React.createElement(InputAdornment, { disablePointerEvents: true, position: \"start\" },\n                    React.createElement(FilterListIcon, null)), fullWidth: true, multiple: true, value: value, onChange: onChange, input: React.createElement(Input, null), renderValue: renderValue }, items))));\n};\nexport default Source;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9UYWJsZS9GaWx0ZXJGaWVsZHMvU291cmNlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQzlELE9BQU8sRUFDTCxNQUFNLEVBQ04sUUFBUSxFQUNSLFlBQVksRUFDWixLQUFLLEVBQ0wsUUFBUSxFQUNSLGNBQWMsRUFDZCxHQUFHLEVBQ0gsT0FBTyxHQUVSLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLFVBQVUsSUFBSSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUlsRSxNQUFNLE1BQU0sR0FBRyxDQUFDLEtBR2YsRUFBZSxFQUFFO0lBQ2hCLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRXJDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFXLEVBQUUsQ0FBQyxDQUFDO0lBRWpELE1BQU0sQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRTtRQUN0QyxNQUFNLEtBQUssR0FBa0IsRUFBRSxDQUFDO1FBQ2hDLE1BQU0sU0FBUyxHQUFHLElBQUksR0FBRyxFQUFrQixDQUFDO1FBRTVDLEtBQUssTUFBTSxNQUFNLElBQUksT0FBTyxFQUFFO1lBQzVCLE1BQU0sSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFO2dCQUNqQixRQUFRLE1BQU0sQ0FBQyxVQUFVLEVBQUU7b0JBQ3pCLEtBQUssUUFBUTt3QkFDWCxPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztvQkFDcEQsS0FBSyxVQUFVO3dCQUNiLE9BQU8s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","import React, { useMemo, useCallback, useState } from \"react\";\nimport { Popover, Box, Select, InputAdornment, TextField, MenuItem, Grid, IconButton, Tooltip, } from \"@material-ui/core\";\nimport { FilterList as FilterListIcon, ArrowDropDown as ArrowDropDownIcon, Clear as ClearIcon, } from \"@material-ui/icons\";\nimport { Equal as EqualIcon, GreaterThan as GreaterThanIcon, LessThan as LessThanIcon, GreaterThanOrEqual as GreaterThanOrEqualIcon, LessThanOrEqual as LessThanOrEqualIcon, } from \"mdi-material-ui\";\nimport { KeyboardDatePicker, MuiPickersUtilsProvider, } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { format as dateFormat, startOfDay, addDays, subDays, isValid as isDateValid, } from \"date-fns\";\nvar Op;\n(function (Op) {\n    Op[Op[\"None\"] = 1] = \"None\";\n    Op[Op[\"Equal\"] = 2] = \"Equal\";\n    Op[Op[\"GreaterThan\"] = 3] = \"GreaterThan\";\n    Op[Op[\"LessThan\"] = 4] = \"LessThan\";\n    Op[Op[\"GreaterThanOrEqual\"] = 5] = \"GreaterThanOrEqual\";\n    Op[Op[\"LessThanOrEqual\"] = 6] = \"LessThanOrEqual\";\n})(Op || (Op = {}));\nconst op2ValidOptions = (date1, op1) => {\n    if (!date1) {\n        return [undefined, undefined, [Op.None]];\n    }\n    switch (op1) {\n        case Op.None:\n        case Op.Equal:\n            return [undefined, undefined, [Op.None]];\n        case Op.GreaterThan:\n        case Op.GreaterThanOrEqual:\n            return [\n                addDays(date1, 1),\n                undefined,\n                [Op.None, Op.LessThan, Op.LessThanOrEqual],\n            ];\n        case Op.LessThan:\n        case Op.LessThanOrEqual:\n            return [\n                undefined,\n                subDays(date1, 1),\n                [Op.None, Op.GreaterThan, Op.GreaterThanOrEqual],\n            ];\n    }\n};\nconst MAX_DATE = new Date(8640000000000000);\nconst MIN_DATE = new Date(-8640000000000000);\nconst DateFilter = (props) => {\n    const { setFilter: setFilterCb } = props;\n    const [value, setValue] = useState(\"\");\n    const [op1, setOp1] = useState(Op.Equal);\n    const [date1, setDate1] = useState(null);\n    const [op2, setOp2] = useState(Op.None);\n    const [date2, setDate2] = useState(null);\n    const [minDate, maxDate, validOp2s] = useMemo(() => op2ValidOptions(date1, op1), [date1, op1]);\n    const setFilter = useCallback((queries) => {\n        if (queries.length === 0) {\n            setValue(\"\");\n            setFilterCb({});\n            return;\n        }\n        const $and = [];\n        const values = [];\n        for (const { op, date } of queries) {\n            const [mongoOp, opSym] = (() => {\n                switch (op) {\n                    case Op.Equal:\n                        return [\"$eq\", \"=\"];\n                    case Op.GreaterThan:\n                        return [\"$gt\", \">\"];\n                    case Op.GreaterThanOrEqual:\n                        return [\"$gte\", \">=\"];\n                    case Op.LessThan:\n                        return [\"$lt\", \"<\"];\n                    case Op.LessThanOrEqual:\n                        return [\"$lte\", \"<=\"];\n                    case Op.None:\n                        return [\"\", \"\"];\n                }\n            })();\n            $and.push({\n                date: { [mongoOp]: startOfDay(date) },\n            });\n            values.push(`${opSym}[${dateFormat(date, \"d/M/yy\")}]`);\n        }\n        setValue(values.join(\" & \"));\n        setFilterCb({ $and });\n    }, [setFilterCb]);\n    const onChangeOp1 = useCallback((event) => {\n        var _a;\n        const op = ((_a = event.target.value) !== null && _a !== void 0 ? _a : Op.Equal);\n        setOp1(op);\n        // If op2 is no longer valid given op1, clear op2 and date2\n        const [, , validOps] = op2ValidOptions(date1, op);\n        const op2Valid = validOps.includes(op2);\n        if (!op2Valid) {\n            setOp2(Op.None);\n            setDate2(null);\n        }\n        // If date1 is set update filters\n        if (date1) {\n            const filters = [\n                {\n                    op,\n                    date: date1,\n                },\n            ];\n            // Include op2 if exists and valid\n            if (op2Valid && op2 !== Op.None && op2 !== Op.Equal && date2) {\n                filters.push({\n                    op: op2,\n                    date: date2,\n                });\n            }\n            setFilter(filters);\n        }\n    }, [date1, date2, op2, setFilter]);\n    const onChangeOp2 = useCallback((event) => {\n        var _a;\n        const op = ((_a = event.target.value) !== null && _a !== void 0 ? _a : Op.None);\n        setOp2(op);\n        // If op2 is set to non clear date2 and update filter\n        if (op === Op.None) {\n            setDate2(null);\n            if (date1) {\n                setFilter([\n                    {\n                        op: op1,\n                        date: date1,\n                    },\n                ]);\n            }\n            else {\n                setFilter([]);\n            }\n        }\n        else if (date2) {\n            setFilter([\n                {\n                    op: op1,\n                    date: date1,\n                },\n                {\n                    op,\n                    date: date2,\n                },\n            ]);\n        }\n    }, [date1, date2, op1, setFilter]);\n    const onChangeDate1 = useCallback((date) => {\n        if (date && !isDateValid(date)) {\n            return;\n        }\n        setDate1(date);\n        if (date) {\n            const filters = [\n                {\n                    op: op1,\n                    date,\n                },\n            ];\n            // If date2 insure is still valid\n            if (date2) {\n                const [minDate, maxDate] = op2ValidOptions(date, op1);\n                if ((op2 !== Op.None &&\n                    op2 !== Op.Equal &&\n                    minDate &&\n                    date2 >= minDate) ||\n                    (maxDate && date2 <= maxDate)) {\n                    filters.push({\n                        op: op2,\n                        date: date2,\n                    });\n                    // Clear date2 if no longer valid\n                }\n                else {\n                    setOp2(Op.None);\n                    setDate2(null);\n                }\n            }\n            setFilter(filters);\n        }\n        else {\n            setFilter([]); // Clear filters\n            // Clear op2 and date2\n            setOp2(Op.None);\n            setDate2(null);\n        }\n    }, [date2, op1, op2, setFilter]);\n    const onChangeDate2 = useCallback((date) => {\n        if (date && !isDateValid(date)) {\n            return;\n        }\n        setDate2(date);\n        if (date) {\n            setFilter([\n                { op: op1, date: date1 },\n                { op: op2, date },\n            ]);\n        }\n        else {\n            setFilter(date1 ? [{ op: op1, date: date1 }] : []); // Clear filters\n            // Clear date2\n            setDate2(null);\n        }\n    }, [date1, op1, op2, setFilter]);\n    const onClickClear = useCallback((event) => {\n        event.stopPropagation();\n        setOp1(Op.Equal);\n        setDate1(null);\n        setOp2(Op.None);\n        setDate2(null);\n        setFilter([]);\n    }, [setFilter]);\n    const InputProps = useMemo(() => ({\n        startAdornment: (React.createElement(InputAdornment, { disablePointerEvents: true, position: \"start\" },\n            React.createElement(FilterListIcon, null))),\n        endAdornment: date1 ? (React.createElement(InputAdornment, { position: \"end\" },\n            React.createElement(IconButton, { onClick: onClickClear },\n                React.createElement(ClearIcon, null)))) : (React.createElement(InputAdornment, { disablePointerEvents: true, position: \"end\" },\n            React.createElement(ArrowDropDownIcon, null))),\n    }), [date1, onClickClear]);\n    const [anchorEl, setAnchorEl] = useState(null);\n    const onClick = useCallback((event) => void setAnchorEl(event.currentTarget), []);\n    const onClose = useCallback(() => void setAnchorEl(null), []);\n    return (React.createElement(Box, null,\n        React.createElement(Tooltip, { title: value || \"No Filter\" },\n            React.createElement(Box, { maxWidth: 250 },\n                React.createElement(TextField, { fullWidth: true, value: value, InputProps: InputProps, onClick: onClick }))),\n        React.createElement(Popover, { onClose: onClose, open: !!anchorEl, anchorEl: anchorEl },\n            React.createElement(Box, { maxWidth: 350, margin: 2, clone: true },\n                React.createElement(Grid, { container: true, spacing: 2 },\n                    React.createElement(Grid, { xs: 12, item: true },\n                        React.createElement(Box, { marginTop: 1 },\n                            React.createElement(Select, { value: op1, onChange: onChangeOp1 },\n                                React.createElement(MenuItem, { value: Op.Equal },\n                                    React.createElement(EqualIcon, null)),\n                                React.createElement(MenuItem, { value: Op.GreaterThan },\n                                    React.createElement(GreaterThanIcon, null)),\n                                React.createElement(MenuItem, { value: Op.LessThan },\n                                    React.createElement(LessThanIcon, null)),\n                                React.createElement(MenuItem, { value: Op.GreaterThanOrEqual },\n                                    React.createElement(GreaterThanOrEqualIcon, null)),\n                                React.createElement(MenuItem, { value: Op.LessThanOrEqual },\n                                    React.createElement(LessThanOrEqualIcon, null)))),\n                        React.createElement(MuiPickersUtilsProvider, { utils: DateFnsUtils },\n                            React.createElement(KeyboardDatePicker, { onChange: onChangeDate1, value: date1, format: \"MM/dd/yyyy\", placeholder: \"mm/dd/yyyy\", margin: \"none\", label: \"Date\", animateYearScrolling: true, disableToolbar: true, autoOk: true, variant: \"inline\" }))),\n                    !!date1 && op1 !== Op.Equal && (React.createElement(Grid, { xs: 12, item: true },\n                        React.createElement(Box, { marginTop: 1 },\n                            React.createElement(Select, { value: op2, onChange: onChangeOp2 },\n                                React.createElement(MenuItem, { value: Op.None }, \"None\"),\n                                React.createElement(MenuItem, { style: { display: \"None\" }, value: Op.Equal },\n                                    React.createElement(EqualIcon, null)),\n                                React.createElement(MenuItem, { style: validOp2s.includes(Op.GreaterThan)\n                                        ? undefined\n                                        : { display: \"none\" }, disabled: !validOp2s.includes(Op.GreaterThan), value: Op.GreaterThan },\n                                    React.createElement(GreaterThanIcon, null)),\n                                React.createElement(MenuItem, { style: validOp2s.includes(Op.LessThan)\n                                        ? undefined\n                                        : { display: \"none\" }, disabled: !validOp2s.includes(Op.LessThan), value: Op.LessThan },\n                                    React.createElement(LessThanIcon, null)),\n                                React.createElement(MenuItem, { style: validOp2s.includes(Op.GreaterThanOrEqual)\n                                        ? undefined\n                                        : { display: \"none\" }, disabled: !validOp2s.includes(Op.GreaterThanOrEqual), value: Op.GreaterThanOrEqual },\n                                    React.createElement(GreaterThanOrEqualIcon, null)),\n                                React.createElement(MenuItem, { style: validOp2s.includes(Op.LessThanOrEqual)\n                                        ? undefined\n                                        : { display: \"none\" }, disabled: !validOp2s.includes(Op.LessThanOrEqual), value: Op.LessThanOrEqual },\n                                    React.createElement(LessThanOrEqualIcon, null)))),\n                        React.createElement(MuiPickersUtilsProvider, { utils: DateFnsUtils },\n                            React.createElement(KeyboardDatePicker, { disabled: op2 === Op.None, minDate: minDate || MIN_DATE, maxDate: maxDate || MAX_DATE, onChange: onChangeDate2, value: date2, format: \"MM/dd/yyyy\", placeholder: \"mm/dd/yyyy\", margin: \"none\", label: \"Date\", animateYearScrolling: true, disableToolbar: true, autoOk: true, variant: \"inline\" })))))))));\n};\nexport default DateFilter;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVGFibGUvRmlsdGVyRmllbGRzL0RhdGUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUQsT0FBTyxFQUNMLE9BQU8sRUFDUCxHQUFHLEVBQ0gsTUFBTSxFQUNOLGNBQWMsRUFDZCxTQUFTLEVBSVQsUUFBUSxFQUNSLElBQUksRUFDSixVQUFVLEVBRVYsT0FBTyxHQUNSLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUNMLFVBQVUsSUFBSSxjQUFjLEVBQzVCLGFBQWEsSUFBSSxpQkFBaUIsRUFDbEMsS0FBSyxJQUFJLFNBQVMsR0FDbkIsTUFBTSxvQkFBb0IsQ0FBQztBQUM1QixPQUFPLEVBQ0wsS0FBSyxJQUFJLFNBQVMsRUFDbEIsV0FBVyxJQUFJLGVBQWUsRUFDOUIsUUFBUSxJQUFJLFlBQVksRUFDeEIsa0JBQWtCLElBQUksc0JBQXNCLEVBQzVDLGVBQWUsSUFBSSxtQkFBbUIsR0FDdkMsTUFBTSxpQkFBaUIsQ0FBQztBQUN6QixPQUFPLEVBQ0wsa0JBQWtCLEVBRWxCLHVCQUF1QixHQUN4QixNQUFNLHNCQUFzQixDQUFDO0FBQzlCLE9BQU8sWUFBWSxNQUFNLG1CQUFtQixDQUFDO0FBQzdDLE9BQU8sRUFDTCxNQUFNLElBQUksVUFBVSxFQUNwQixVQUFVLEVBQ1YsT0FBTyxFQUNQLE9BQU8sRUFDUCxPQUFPLElBQUksV0FBVyxHQUN2QixNQUFNLFVBQVUsQ0FBQztBQUVsQixJQUFLLEVBT0o7QUFQRCxXQUFLLEVBQUU7SUFDTCwyQkFBUSxDQUFBO0lBQ1IsNkJBQUssQ0FBQTtJQUNMLHlDQUFXLENBQUE7SUFDWCxtQ0FBUSxDQUFBO0lBQ1IsdURBQWtCLENBQUE7SUFDbEIsaURBQWUsQ0FBQTtBQUNq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","import React, { useMemo, useCallback, useState } from \"react\";\nimport { Popover, Box, Select, InputAdornment, TextField, MenuItem, Grid, IconButton, Tooltip, } from \"@material-ui/core\";\nimport { FilterList as FilterListIcon, ArrowDropDown as ArrowDropDownIcon, Clear as ClearIcon, } from \"@material-ui/icons\";\nimport { Equal as EqualIcon, GreaterThan as GreaterThanIcon, LessThan as LessThanIcon, GreaterThanOrEqual as GreaterThanOrEqualIcon, LessThanOrEqual as LessThanOrEqualIcon, } from \"mdi-material-ui\";\nimport Fraction from \"fraction.js\";\nvar Op;\n(function (Op) {\n    Op[Op[\"None\"] = 1] = \"None\";\n    Op[Op[\"Equal\"] = 2] = \"Equal\";\n    Op[Op[\"GreaterThan\"] = 3] = \"GreaterThan\";\n    Op[Op[\"LessThan\"] = 4] = \"LessThan\";\n    Op[Op[\"GreaterThanOrEqual\"] = 5] = \"GreaterThanOrEqual\";\n    Op[Op[\"LessThanOrEqual\"] = 6] = \"LessThanOrEqual\";\n})(Op || (Op = {}));\nconst op2ValidOptions = (total1, op1) => {\n    if (!total1) {\n        return [undefined, undefined, [Op.None]];\n    }\n    switch (op1) {\n        case Op.None:\n        case Op.Equal:\n            return [undefined, undefined, [Op.None]];\n        case Op.GreaterThan:\n        case Op.GreaterThanOrEqual:\n            return [\n                total1.add(new Fraction({ n: 1, d: 100 })),\n                undefined,\n                [Op.None, Op.LessThan, Op.LessThanOrEqual],\n            ];\n        case Op.LessThan:\n        case Op.LessThanOrEqual:\n            return [\n                undefined,\n                total1.sub(new Fraction({ n: 1, d: 100 })),\n                [Op.None, Op.GreaterThan, Op.GreaterThanOrEqual],\n            ];\n    }\n};\nconst TotalInputProps = {\n    type: \"number\",\n    startAdornment: React.createElement(InputAdornment, { position: \"start\" }, \"$\"),\n};\nconst Total = (props) => {\n    const { setFilter: setFilterCb } = props;\n    const [value, setValue] = useState(\"\");\n    const [op1, setOp1] = useState(Op.Equal);\n    const [total1, setTotal1] = useState(\"\");\n    const [op2, setOp2] = useState(Op.None);\n    const [total2, setTotal2] = useState(\"\");\n    const [minTotal, maxTotal, validOp2s] = useMemo(() => op2ValidOptions(total1 ? new Fraction(total1) : null, op1), [total1, op1]);\n    const inputProps = useMemo(() => ({\n        min: minTotal ? minTotal.toString() : \"0.00\",\n        max: maxTotal ? maxTotal.toString() : undefined,\n        step: \"0.01\",\n    }), [minTotal, maxTotal]);\n    const setFilter = useCallback((queries) => {\n        if (queries.length === 0) {\n            setValue(\"\");\n            setFilterCb({});\n            return;\n        }\n        const $and = [];\n        const values = [];\n        for (const { op, total } of queries) {\n            const [mongoOp, opSym] = (() => {\n                switch (op) {\n                    case Op.Equal:\n                        return [\"$eq\", \"=\"];\n                    case Op.GreaterThan:\n                        return [\"$gt\", \">\"];\n                    case Op.GreaterThanOrEqual:\n                        return [\"$gte\", \">=\"];\n                    case Op.LessThan:\n                        return [\"$lt\", \"<\"];\n                    case Op.LessThanOrEqual:\n                        return [\"$lte\", \"<=\"];\n                    case Op.None:\n                        return [\"\", \"\"];\n                }\n            })();\n            $and.push({\n                total: { [mongoOp]: total },\n            });\n            values.push(`${opSym}[${total}]`);\n        }\n        setValue(values.join(\" & \"));\n        setFilterCb({ $and });\n    }, [setFilterCb]);\n    const onChangeOp1 = useCallback((event) => {\n        var _a;\n        const op = ((_a = event.target.value) !== null && _a !== void 0 ? _a : Op.Equal);\n        setOp1(op);\n        // If op2 is no longer valid given op1, clear op2 and total2\n        const [, , validOps] = op2ValidOptions(total1 ? new Fraction(total1) : null, op);\n        const op2Valid = validOps.includes(op2);\n        if (!op2Valid) {\n            setOp2(Op.None);\n            setTotal2(\"\");\n        }\n        // If total1 is set update filters\n        if (total1) {\n            const total1Fraction = new Fraction(total1);\n            const filters = [\n                {\n                    op,\n                    total: total1Fraction.valueOf(),\n                },\n            ];\n            // Include op2 if exists and valid\n            if (op2Valid && op2 !== Op.None && op2 !== Op.Equal && total2) {\n                const total2Fraction = new Fraction(total2);\n                filters.push({\n                    op: op2,\n                    total: total2Fraction.valueOf(),\n                });\n            }\n            setFilter(filters);\n        }\n    }, [total1, total2, op2, setFilter]);\n    const onChangeOp2 = useCallback((event) => {\n        var _a;\n        const op = ((_a = event.target.value) !== null && _a !== void 0 ? _a : Op.None);\n        setOp2(op);\n        // If op2 is set to non clear total2 and update filter\n        if (op === Op.None) {\n            setTotal2(\"\");\n            if (total1) {\n                const total1Fraction = new Fraction(total1);\n                setFilter([\n                    {\n                        op: op1,\n                        total: total1Fraction.valueOf(),\n                    },\n                ]);\n            }\n            else {\n                setFilter([]);\n            }\n        }\n        else if (total2) {\n            const total1Fraction = new Fraction(total1);\n            const total2Fraction = new Fraction(total2);\n            setFilter([\n                {\n                    op: op1,\n                    total: total1Fraction.valueOf(),\n                },\n                {\n                    op,\n                    total: total2Fraction.valueOf(),\n                },\n            ]);\n        }\n    }, [total1, total2, op1, setFilter]);\n    const onChangeTotal1 = useCallback((event) => {\n        const value = event.target.value.trim();\n        if (value) {\n            const total = new Fraction(value).round(2);\n            setValue(total.toString());\n            setTotal1(value);\n            const filters = [\n                {\n                    op: op1,\n                    total: total.valueOf(),\n                },\n            ];\n            // If total2 insure is still valid\n            if (total2) {\n                const [minTotal, maxTotal] = op2ValidOptions(total, op1);\n                const total2Faction = new Fraction(total2);\n                if ((op2 !== Op.None &&\n                    op2 !== Op.Equal &&\n                    minTotal &&\n                    total2Faction.compare(minTotal) >= 0) ||\n                    (maxTotal && total2Faction.compare(maxTotal) <= 0)) {\n                    filters.push({\n                        op: op2,\n                        total: total2Faction.valueOf(),\n                    });\n                }\n                else {\n                    // Clear total2 if no longer valid\n                    setOp2(Op.None);\n                    setTotal2(\"\");\n                }\n            }\n            setFilter(filters);\n        }\n        else {\n            setValue(value);\n            setFilter([]); // Clear filters\n            // Clear op2 and total2\n            setOp2(Op.None);\n            setTotal2(\"\");\n        }\n    }, [op1, total2, setFilter, op2]);\n    const onChangeTotal2 = useCallback((event) => {\n        const value = event.target.value.trim();\n        if (value) {\n            const total1Faction = new Fraction(total1);\n            const total = new Fraction(value).round(2);\n            setTotal2(value);\n            setFilter([\n                { op: op1, total: total1Faction.valueOf() },\n                { op: op2, total: total.valueOf() },\n            ]);\n        }\n        else {\n            if (total1) {\n                const total1Faction = new Fraction(total1);\n                setFilter([{ op: op1, total: total1Faction.valueOf() }]);\n            }\n            else {\n                setFilter([]);\n            }\n            // Clear filters\n            // Clear total2\n            setTotal2(\"\");\n        }\n    }, [total1, op1, op2, setFilter]);\n    const onClickClear = useCallback((event) => {\n        event.stopPropagation();\n        setOp1(Op.Equal);\n        setTotal1(\"\");\n        setOp2(Op.None);\n        setTotal2(\"\");\n        setFilter([]);\n    }, [setFilter]);\n    const InputProps = useMemo(() => ({\n        startAdornment: (React.createElement(InputAdornment, { disablePointerEvents: true, position: \"start\" },\n            React.createElement(FilterListIcon, null))),\n        endAdornment: total1 ? (React.createElement(InputAdornment, { position: \"end\" },\n            React.createElement(IconButton, { onClick: onClickClear },\n                React.createElement(ClearIcon, null)))) : (React.createElement(InputAdornment, { disablePointerEvents: true, position: \"end\" },\n            React.createElement(ArrowDropDownIcon, null))),\n    }), [total1, onClickClear]);\n    const [anchorEl, setAnchorEl] = useState(null);\n    const onClick = useCallback((event) => void setAnchorEl(event.currentTarget), []);\n    const onClose = useCallback(() => void setAnchorEl(null), []);\n    return (React.createElement(Box, null,\n        React.createElement(Tooltip, { title: value || \"No Filter\" },\n            React.createElement(Box, { maxWidth: 250 },\n                React.createElement(TextField, { fullWidth: true, value: value, InputProps: InputProps, onClick: onClick }))),\n        React.createElement(Popover, { onClose: onClose, open: !!anchorEl, anchorEl: anchorEl },\n            React.createElement(Box, { maxWidth: 350, margin: 2, clone: true },\n                React.createElement(Grid, { container: true, spacing: 2 },\n                    React.createElement(Grid, { xs: 12, item: true },\n                        React.createElement(Select, { value: op1, onChange: onChangeOp1 },\n                            React.createElement(MenuItem, { value: Op.Equal },\n                                React.createElement(EqualIcon, null)),\n                            React.createElement(MenuItem, { value: Op.GreaterThan },\n                                React.createElement(GreaterThanIcon, null)),\n                            React.createElement(MenuItem, { value: Op.LessThan },\n                                React.createElement(LessThanIcon, null)),\n                            React.createElement(MenuItem, { value: Op.GreaterThanOrEqual },\n                                React.createElement(GreaterThanOrEqualIcon, null)),\n                            React.createElement(MenuItem, { value: Op.LessThanOrEqual },\n                                React.createElement(LessThanOrEqualIcon, null))),\n                        React.createElement(Box, { marginTop: 2 },\n                            React.createElement(TextField, { placeholder: \"0.00\", label: \"Total\", type: \"number\", inputProps: inputProps, InputProps: TotalInputProps, value: total1, onChange: onChangeTotal1 }))),\n                    !!total1 && op1 !== Op.Equal && (React.createElement(Grid, { xs: 12, item: true },\n                        React.createElement(Select, { value: op2, onChange: onChangeOp2 },\n                            React.createElement(MenuItem, { value: Op.None }, \"None\"),\n                            React.createElement(MenuItem, { style: { display: \"None\" }, value: Op.Equal },\n                                React.createElement(EqualIcon, null)),\n                            React.createElement(MenuItem, { style: validOp2s.includes(Op.GreaterThan)\n                                    ? undefined\n                                    : { display: \"none\" }, disabled: !validOp2s.includes(Op.GreaterThan), value: Op.GreaterThan },\n                                React.createElement(GreaterThanIcon, null)),\n                            React.createElement(MenuItem, { style: validOp2s.includes(Op.LessThan)\n                                    ? undefined\n                                    : { display: \"none\" }, disabled: !validOp2s.includes(Op.LessThan), value: Op.LessThan },\n                                React.createElement(LessThanIcon, null)),\n                            React.createElement(MenuItem, { style: validOp2s.includes(Op.GreaterThanOrEqual)\n                                    ? undefined\n                                    : { display: \"none\" }, disabled: !validOp2s.includes(Op.GreaterThanOrEqual), value: Op.GreaterThanOrEqual },\n                                React.createElement(GreaterThanOrEqualIcon, null)),\n                            React.createElement(MenuItem, { style: validOp2s.includes(Op.LessThanOrEqual)\n                                    ? undefined\n                                    : { display: \"none\" }, disabled: !validOp2s.includes(Op.LessThanOrEqual), value: Op.LessThanOrEqual },\n                                React.createElement(LessThanOrEqualIcon, null))),\n                        React.createElement(Box, { marginTop: 2 },\n                            React.createElement(TextField, { disabled: op2 === Op.None, placeholder: \"0.00\", label: \"Total\", type: \"number\", inputProps: inputProps, InputProps: TotalInputProps, value: total2, onChange: onChangeTotal2 })))))))));\n};\nexport default Total;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG90YWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL1RhYmxlL0ZpbHRlckZpZWxkcy9Ub3RhbC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUM5RCxPQUFPLEVBQ0wsT0FBTyxFQUNQLEdBQUcsRUFDSCxNQUFNLEVBQ04sY0FBYyxFQUNkLFNBQVMsRUFJVCxRQUFRLEVBQ1IsSUFBSSxFQUNKLFVBQVUsRUFFVixPQUFPLEdBQ1IsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQ0wsVUFBVSxJQUFJLGNBQWMsRUFDNUIsYUFBYSxJQUFJLGlCQUFpQixFQUNsQyxLQUFLLElBQUksU0FBUyxHQUNuQixNQUFNLG9CQUFvQixDQUFDO0FBQzVCLE9BQU8sRUFDTCxLQUFLLElBQUksU0FBUyxFQUNsQixXQUFXLElBQUksZUFBZSxFQUM5QixRQUFRLElBQUksWUFBWSxFQUN4QixrQkFBa0IsSUFBSSxzQkFBc0IsRUFDNUMsZUFBZSxJQUFJLG1CQUFtQixHQUN2QyxNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sUUFBUSxNQUFNLGFBQWEsQ0FBQztBQUVuQyxJQUFLLEVBT0o7QUFQRCxXQUFLLEVBQUU7SUFDTCwyQkFBUSxDQUFBO0lBQ1IsNkJBQUssQ0FBQTtJQUNMLHlDQUFXLENBQUE7SUFDWCxtQ0FBUSxDQUFBO0lBQ1IsdURBQWtCLENBQUE7SUFDbEIsaURBQWUsQ0FBQTtBQUNqQixDQUFDLEVBUEksRUFBRSxLQUFGLEVBQUUsUUFPTjtBQUVELE1BQU0sZUFBZSxHQUFHLENBQ3RCLE1BQXVCLEVBQ3ZCLEdBQU8sRUFDNkMsRUFBRTtJQUN0RCxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ1gsT0FBTyxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLENBQUMs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","import React, { useMemo, useState, useCallback, useEffect, useRef, } from \"react\";\nimport MaterialTable, { MTableBody, MTableBodyRow, } from \"material-table\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport numeral from \"numeral\";\nimport { capitalCase } from \"change-case\";\nimport Fuse from \"fuse.js\";\nimport { Done as DoneIcon, Delete as DeleteIcon, AddCircle as AddCircleIcon, CheckCircle as CheckCircleIcon, Edit as EditIcon, } from \"@material-ui/icons\";\nimport { Box, TableBody, TableRow, TableCell, Typography, } from \"@material-ui/core\";\nimport { green, red } from \"@material-ui/core/colors\";\nimport { BankTransferIn as BankTransferInIcon, BankTransferOut as BankTransferOutIcon, FileTree as FileTreeIcon, FileTreeOutline as FileTreeOutlineIcon, } from \"mdi-material-ui\";\nimport gql from \"graphql-tag\";\nimport { format, startOfDay } from \"date-fns\";\nimport Fraction from \"fraction.js\";\nimport \"mingo/init/system\"; // Loads all operators.  Should config later.\nimport { Aggregator } from \"mingo/aggregator\";\nimport * as Papa from \"papaparse\";\nimport { saveAs } from \"file-saver\";\nimport { JournalEntryType, } from \"../../../apollo/graphTypes\";\nimport { JOURNAL_ENTRIES, JOURNAL_ENTRY_FRAGMENT } from \"./JournalEntries.gql\";\nimport { CHECK_ID } from \"../constants\";\nimport tableIcons from \"../../utils/materialTableIcons\";\nimport AddRefund from \"../Upsert/Refunds/AddRefund\";\nimport UpdateRefund from \"../Upsert/Refunds/UpdateRefund\";\nimport AddEntry from \"../Upsert/Entries/AddEntry\";\nimport UpdateEntry from \"../Upsert/Entries/UpdateEntry\";\nimport DeleteEntry from \"../Upsert/Entries/DeleteEntry\";\nimport DeleteRefund from \"../Upsert/Refunds/DeleteRefund\";\nimport ItemsTable from \"./Items\";\nimport { rationalToFraction } from \"../../../utils/rational\";\nimport ReconciledFilter from \"./FilterFields/Reconciled\";\nimport CategoryFilter from \"./FilterFields/Category\";\nimport PaymentMethodFilter from \"./FilterFields/PaymentMethod\";\nimport DepartmentFilter from \"./FilterFields/Department\";\nimport SourceFilter from \"./FilterFields/Source\";\nimport DateFilter from \"./FilterFields/Date\";\nimport TotalFilter from \"./FilterFields/Total\";\nimport \"../../../utils/mingoUtils\";\nexport var JournalMode;\n(function (JournalMode) {\n    JournalMode[JournalMode[\"View\"] = 0] = \"View\";\n    JournalMode[JournalMode[\"Reconcile\"] = 1] = \"Reconcile\";\n})(JournalMode || (JournalMode = {}));\nconst entriesGen = function* (entries) {\n    for (const entry of entries) {\n        yield entry;\n        const refundType = entry.type === JournalEntryType.Credit\n            ? JournalEntryType.Debit\n            : JournalEntryType.Credit;\n        for (const refund of entry.refunds) {\n            yield {\n                ...entry,\n                ...refund,\n                type: refundType,\n                description: refund.description || entry.description,\n                refunds: entry.id,\n            };\n        }\n    }\n};\nexport const CLEAR_FILTER = Symbol();\nconst ON_ENTRY_UPSERT = gql `\n  subscription OnEntryUpsert_1 {\n    journalEntryUpserted {\n      ...JournalEntry_1Fragment\n      department {\n        ancestors {\n          ... on Department {\n            __typename\n            id\n          }\n        }\n      }\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nconst RECONCILE_ENTRY = gql `\n  mutation ReconcileEntry($id: ID!) {\n    journalEntryUpdate(id: $id, fields: { reconciled: true }) {\n      ...JournalEntry_1Fragment\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nconst RECONCILE_REFUND = gql `\n  mutation ReconcileRefund($id: ID!) {\n    journalEntryUpdateRefund(id: $id, fields: { reconciled: true }) {\n      ...JournalEntry_1Fragment\n    }\n  }\n  ${JOURNAL_ENTRY_FRAGMENT}\n`;\nconst Journal = (props) => {\n    var _a, _b;\n    const { journalTitle = null, deptId = null, fiscalYearId = null, mode, } = props;\n    // Add Entry\n    const [addEntryOpen, setAddEntryOpen] = useState(false);\n    const addEntryOnClose = useCallback(() => void setAddEntryOpen(false), [\n        setAddEntryOpen,\n    ]);\n    // Update Entry\n    const [updateEntryOpen, setUpdateEntryOpen] = useState(false);\n    const [updateEntry, setUpdateEntry] = useState(null);\n    const updateEntryOnClose = useCallback(() => void setUpdateEntryOpen(false), [\n        setUpdateEntryOpen,\n    ]);\n    const updateEntryOnExited = useCallback(() => void setUpdateEntry(null), [\n        setUpdateEntry,\n    ]);\n    // Delete Entry\n    const [deleteEntry, setDeleteEntry] = useState(null);\n    const deleteEntryOnClose = useCallback(() => void setDeleteEntry(null), [\n        setDeleteEntry,\n    ]);\n    // Add Refund\n    const [addRefundOpen, setAddRefundOpen] = useState(false);\n    const [addRefundToEntry, setAddRefundToEntry] = useState(null);\n    const addRefundOnClose = useCallback(() => void setAddRefundOpen(false), [\n        setAddRefundOpen,\n    ]);\n    const addRefundOnExited = useCallback(() => void setAddRefundToEntry(null), [\n        setAddRefundToEntry,\n    ]);\n    // Update Refund\n    const [updateRefundOpen, setUpdateRefundOpen] = useState(false);\n    const [updateRefund, setUpdateRefund] = useState(null);\n    const updateRefundOnClose = useCallback(() => void setUpdateRefundOpen(false), [setUpdateRefundOpen]);\n    const updateRefundOnExited = useCallback(() => void setUpdateRefund(null), [\n        setUpdateRefund,\n    ]);\n    // Delete Refund\n    const [deleteRefund, setDeleteRefund] = useState(null);\n    const deleteRefundOnClose = useCallback(() => void setDeleteRefund(null), [\n        setDeleteRefund,\n    ]);\n    // Reconcile Entry\n    const [reconcileEntry, { loading: reconcilingEntry }] = useMutation(RECONCILE_ENTRY);\n    // Reconcile Refund\n    const [reconcileRefund, { loading: reconcilingRefund }] = useMutation(RECONCILE_REFUND);\n    const variables = useMemo(() => {\n        if (deptId && fiscalYearId) {\n            return {\n                where: {\n                    department: { eq: { id: deptId, matchDescendants: true } },\n                    fiscalYear: {\n                        eq: fiscalYearId,\n                    },\n                },\n            };\n        }\n        else if (deptId) {\n            return {\n                where: { department: { eq: { id: deptId, matchDescendants: true } } },\n            };\n        }\n        else if (fiscalYearId) {\n            return {\n                where: {\n                    fiscalYear: {\n                        eq: fiscalYearId,\n                    },\n                },\n            };\n        }\n        return undefined;\n    }, [deptId, fiscalYearId]);\n    const { loading, error, data, subscribeToMore } = useQuery(JOURNAL_ENTRIES, {\n        variables,\n        fetchPolicy: \"cache-and-network\",\n    });\n    const isLoading = loading && !(data === null || data === void 0 ? void 0 : data.journalEntries);\n    const fiscalYear = useMemo(() => { var _a; return (_a = ((data === null || data === void 0 ? void 0 : data.fiscalYears) || []).find((fiscalYear) => fiscalYear.id === fiscalYearId)) !== null && _a !== void 0 ? _a : null; }, [fiscalYearId, data]);\n    // Subscribe to updates\n    useEffect(() => {\n        return subscribeToMore({\n            document: ON_ENTRY_UPSERT,\n            updateQuery: (prev, { subscriptionData }) => {\n                var _a;\n                if (!subscriptionData.data) {\n                    return prev;\n                }\n                const upsertEntry = subscriptionData.data.journalEntryUpserted;\n                const ancestors = upsertEntry.department.ancestors;\n                if (deptId &&\n                    upsertEntry.department.id !== deptId &&\n                    ancestors.every((dept) => dept.__typename === \"Department\" && dept.id !== deptId)) {\n                    // Filter entry out of query results if department changes.\n                    const journalEntriesFiltered = prev.journalEntries.filter((entry) => entry.id !== upsertEntry.id);\n                    return Object.assign({}, prev, {\n                        journalEntries: journalEntriesFiltered,\n                    });\n                }\n                if (fiscalYear) {\n                    const date = ((_a = upsertEntry.dateOfRecord) === null || _a === void 0 ? void 0 : _a.overrideFiscalYear) ? new Date(upsertEntry.dateOfRecord.date)\n                        : new Date(upsertEntry.date);\n                    if (date < new Date(fiscalYear.begin) ||\n                        date >= new Date(fiscalYear.end)) {\n                        // Filter entry out of query results if fiscal year changes.\n                        const journalEntriesFiltered = prev.journalEntries.filter((entry) => entry.id !== upsertEntry.id);\n                        return Object.assign({}, prev, {\n                            journalEntries: journalEntriesFiltered,\n                        });\n                    }\n                }\n                // Apollo will take care of updating if entry already exists in cache.\n                if (prev.journalEntries.some((entry) => entry.id === upsertEntry.id)) {\n                    return prev;\n                }\n                return Object.assign({}, prev, {\n                    journalEntries: [upsertEntry, ...prev.journalEntries],\n                });\n            },\n        });\n    }, [deptId, fiscalYear, subscribeToMore]);\n    const journalEntries = (data === null || data === void 0 ? void 0 : data.journalEntries) || [];\n    const [entries, filterOptions] = useMemo(() => {\n        const filterOptions = {\n            category: new Map(),\n            paymentMethod: new Map(),\n            source: new Map(),\n            department: new Map(),\n        };\n        const entries = [];\n        for (const entry of entriesGen(journalEntries)) {\n            if (entry.deleted ||\n                (mode === JournalMode.Reconcile && entry.reconciled)) {\n                continue;\n            }\n            filterOptions.category.set(entry.category.id, entry.category);\n            filterOptions.department.set(entry.department.id, entry.department);\n            filterOptions.paymentMethod.set(entry.paymentMethod.id, entry.paymentMethod);\n            filterOptions.source.set(`${entry.source.__typename}-${entry.source.id}`, entry.source);\n            entries.push(entry);\n        }\n        return [\n            entries,\n            {\n                category: [...filterOptions.category.values()],\n                department: [...filterOptions.department.values()],\n                // Do not include individual check numbers\n                paymentMethod: [...filterOptions.paymentMethod.values()].filter((p) => { var _a; return ((_a = p.parent) === null || _a === void 0 ? void 0 : _a.id) !== \"5dc46d0af74afb2c2805bd54\"; }),\n                source: [...filterOptions.source.values()],\n            },\n        ];\n    }, [journalEntries, mode]);\n    const columns = useMemo(() => {\n        return [\n            {\n                field: \"reconciled\",\n                title: \"Reconciled\",\n                // eslint-disable-next-line react/display-name, react/prop-types\n                render: ({ reconciled }) => (reconciled ? React.createElement(DoneIcon, null) : null),\n                searchable: false,\n                // eslint-disable-next-line react/display-name, react/prop-types\n                filterComponent: ({ columnDef, onFilterChanged }) => (React.createElement(ReconciledFilter, { setFilter: (filter) => { var _a, _b; \n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/prop-types\n                    return onFilterChanged((_b = (_a = columnDef.tableData) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"0\", filter); } })),\n                hidden: mode === JournalMode.Reconcile,\n                filtering: true,\n            },\n            {\n                field: \"total\",\n                title: \"Total\",\n                render: ({ total }) => numeral(rationalToFraction(total).valueOf()).format(\"$0,0.00\"),\n                searchable: false,\n                // eslint-disable-next-line react/display-name, react/prop-types\n                filterComponent: ({ columnDef, onFilterChanged }) => (React.createElement(TotalFilter, { setFilter: (filter) => {\n                        var _a, _b;\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/prop-types\n                        onFilterChanged((_b = (_a = columnDef.tableData) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"1\", filter);\n                    } })),\n            },\n            {\n                field: \"date\",\n                title: \"Date\",\n                render: ({ date }) => format(new Date(date), \"MMM dd, yyyy\"),\n                searchable: false,\n                // eslint-disable-next-line react/display-name, react/prop-types\n                filterComponent: ({ columnDef, onFilterChanged }) => (React.createElement(DateFilter, { setFilter: (filter) => {\n                        var _a, _b;\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/prop-types\n                        onFilterChanged((_b = (_a = columnDef.tableData) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"2\", filter);\n                    } })),\n                defaultSort: \"desc\",\n            },\n            {\n                field: \"dateOfRecord\",\n                title: \"Date Of record\",\n                render: ({ date, dateOfRecord }) => format(new Date((dateOfRecord === null || dateOfRecord === void 0 ? void 0 : dateOfRecord.date) || date), \"MMM dd, yyyy\"),\n                searchable: false,\n                filtering: false,\n                sorting: false,\n            },\n            {\n                field: \"category\",\n                title: \"Category\",\n                render: (data, type) => {\n                    const name = type === \"group\"\n                        ? data.name\n                        : data.category.name;\n                    return capitalCase(name);\n                },\n                searchable: false,\n                // eslint-disable-next-line react/display-name, react/prop-types\n                filterComponent: ({ columnDef, onFilterChanged }) => (React.createElement(CategoryFilter, { options: filterOptions.category, setFilter: (filter) => { var _a, _b; \n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/prop-types\n                    return onFilterChanged((_b = (_a = columnDef.tableData) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"3\", filter); } })),\n            },\n            {\n                field: \"source\",\n                title: \"Source\",\n                render: ({ source }) => {\n                    switch (source.__typename) {\n                        case \"Person\":\n                            return `${source.name.first} ${source.name.last}`;\n                        case \"Business\":\n                            return source.bizName;\n                        case \"Department\":\n                            return source.deptName;\n                    }\n                },\n                searchable: false,\n                // eslint-disable-next-line react/display-name, react/prop-types\n                filterComponent: ({ columnDef, onFilterChanged }) => (React.createElement(SourceFilter, { options: filterOptions.source, setFilter: (filter) => { var _a, _b; \n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/prop-types\n                    return onFilterChanged((_b = (_a = columnDef.tableData) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"4\", filter); } })),\n            },\n            {\n                field: \"paymentMethod\",\n                title: \"Payment Method\",\n                render: ({ paymentMethod }) => {\n                    var _a;\n                    return ((_a = paymentMethod.parent) === null || _a === void 0 ? void 0 : _a.id) === CHECK_ID\n                        ? `CK-${paymentMethod.name}`\n                        : paymentMethod.name;\n                },\n                searchable: false,\n                // eslint-disable-next-line react/display-name, react/prop-types\n                filterComponent: ({ columnDef, onFilterChanged }) => (React.createElement(PaymentMethodFilter, { options: filterOptions.paymentMethod, setFilter: (filter) => { var _a, _b; \n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/prop-types\n                    return onFilterChanged((_b = (_a = columnDef.tableData) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"5\", filter); } })),\n            },\n            {\n                field: \"description\",\n                title: \"Description\",\n                render: ({ description }) => description,\n                searchable: false,\n                filtering: false,\n                sorting: false,\n            },\n            {\n                field: \"department\",\n                title: \"Department\",\n                render: ({ department }) => capitalCase(department.name),\n                searchable: false,\n                // eslint-disable-next-line react/display-name, react/prop-types\n                filterComponent: ({ columnDef, onFilterChanged }) => (React.createElement(DepartmentFilter, { options: filterOptions.department, setFilter: (filter) => { var _a, _b; \n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any, react/prop-types\n                    return onFilterChanged((_b = (_a = columnDef.tableData) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"5\", filter); } })),\n            },\n        ];\n    }, [\n        filterOptions.category,\n        filterOptions.department,\n        filterOptions.paymentMethod,\n        filterOptions.source,\n        mode,\n    ]);\n    const localization = useMemo(() => ({\n        toolbar: {\n            searchTooltip: (React.createElement(Box, { fontSize: 12, component: \"span\" },\n                `[abc] | [efg] = \"abc\" OR \"efg\"`,\n                React.createElement(\"br\", null),\n                `'[abc] = EXACTLY \"abc\"`,\n                React.createElement(\"br\", null),\n                `![abc] = NOT \"abc\"`,\n                React.createElement(\"br\", null),\n                `^[abc] = STARTS WITH \"abc\"`,\n                React.createElement(\"br\", null),\n                `!^[abc] = DOES NOT START WITH \"abc\"`,\n                React.createElement(\"br\", null),\n                `[abc]$ = ENDS WITH \"abc\"`,\n                React.createElement(\"br\", null),\n                `![abc]$ = DOES NOT END WITH \"abc\"`) // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            ),\n            nRowsSelected: \"Reconcile {0} Entry(s)\",\n        },\n    }), []);\n    const [totalCount, setTotalCount] = useState(0);\n    const options = useMemo(() => ({\n        rowStyle: (data) => {\n            const style = {};\n            style.color =\n                data.type === JournalEntryType.Credit ? green[900] : red[900];\n            return style;\n        },\n        maxBodyHeight: \"calc(100vh - 53px - 64px)\",\n        headerStyle: { position: \"sticky\", top: 0 },\n        pageSize: 25,\n        pageSizeOptions: totalCount ? [25, 50, 100, totalCount] : [25, 50, 100],\n        showTitle: !!journalTitle,\n        selection: mode === JournalMode.Reconcile,\n        showSelectAllCheckbox: false,\n        debounceInterval: 500,\n        emptyRowsWhenPaging: false,\n        columnsButton: true,\n        filtering: true,\n        sorting: true,\n        thirdSortClick: false,\n        exportAllData: true,\n        exportButton: true,\n        exportFileName: journalTitle || \"lsccBudgetTracking\",\n        exportCsv: (columns, renderData) => {\n            const csv = Papa.unparse(renderData.reduce((entries, entry) => {\n                entries.push(columns.reduce((fEntry, { field, title, render }) => {\n                    switch (field) {\n                        case \"reconciled\":\n                        case \"date\":\n                            fEntry[(title || field)] = entry[field];\n                            break;\n                        default:\n                            fEntry[(title || field)] = render\n                                ? render(entry, \"row\")\n                                : entry[field];\n                    }\n                    return fEntry;\n                }, {}));\n                return entries;\n            }, []));\n            saveAs(new Blob([csv], { type: \"text/plain;charset=utf-8\" }), `${journalTitle || \"budgetTracking\"}.csv`);\n        },\n    }), [journalTitle, mode, totalCount]);\n    const actions = useMemo(() => {\n        if (mode === JournalMode.Reconcile) {\n            return [\n                {\n                    icon: ((props) => (React.createElement(CheckCircleIcon, Object.assign({}, props)))),\n                    tooltip: \"Reconcile Selected\",\n                    position: \"toolbarOnSelect\",\n                    iconProps: {\n                        color: \"secondary\",\n                        fontSize: \"large\",\n                    },\n                    onClick: async (event, rowData) => {\n                        await Promise.all((Array.isArray(rowData) ? rowData : [rowData]).map(async (entry) => {\n                            if (entry.reconciled) {\n                                return;\n                            }\n                            try {\n                                if (entry.__typename === \"JournalEntryRefund\") {\n                                    await reconcileRefund({ variables: { id: entry.id } });\n                                }\n                                else {\n                                    await reconcileEntry({ variables: { id: entry.id } });\n                                }\n                            }\n                            catch (error) {\n                                console.error(error);\n                            }\n                        }));\n                    },\n                },\n            ];\n        }\n        return [\n            (rowData) => {\n                const { tooltip, onClick } = (() => {\n                    switch (rowData.__typename) {\n                        case \"JournalEntry\":\n                            return {\n                                tooltip: \"Delete Entry\",\n                                onClick: (event, rowData) => setDeleteEntry(rowData.id),\n                            };\n                        // case \"JournalEntryItem\":\n                        //   return {\n                        //     tooltip: \"Delete Item\",\n                        //     onClick: (event:unknown, rowData:Entry | unknown) => {\n                        //       // setDeleteItem((rowData as Entry).id)\n                        //     },\n                        //   };\n                        case \"JournalEntryRefund\":\n                            return {\n                                tooltip: \"Delete Refund\",\n                                onClick: (event, rowData) => setDeleteRefund(rowData.id),\n                            };\n                    }\n                })();\n                return {\n                    icon: DeleteIcon,\n                    tooltip,\n                    onClick,\n                };\n            },\n            (rowData) => {\n                const { tooltip, onClick } = (() => {\n                    switch (rowData.__typename) {\n                        case \"JournalEntry\":\n                            return {\n                                tooltip: \"Edit Entry\",\n                                onClick: (event, rowData) => {\n                                    setUpdateEntryOpen(true);\n                                    setUpdateEntry(rowData.id);\n                                },\n                            };\n                        // case \"JournalEntryItem\":\n                        //   return {\n                        //     tooltip: \"Edit Item\",\n                        //     onClick: (event:unknown, rowData:Entry | unknown) => {\n                        //       setUpdateItemOpen(true);\n                        //       setUpdateItem({\n                        //         entryId: (rowData as Entry).items as string,\n                        //         itemId: (rowData as Entry).id,\n                        //       });\n                        //     },\n                        //   };\n                        case \"JournalEntryRefund\":\n                            return {\n                                tooltip: \"Edit Refund\",\n                                onClick: (event, rowData) => {\n                                    setUpdateRefundOpen(true);\n                                    setUpdateRefund({\n                                        entryId: rowData.refunds,\n                                        refundId: rowData.id,\n                                    });\n                                },\n                            };\n                    }\n                })();\n                return {\n                    icon: EditIcon,\n                    tooltip,\n                    onClick,\n                };\n            },\n            (rowData) => {\n                if (rowData.__typename !== \"JournalEntry\") {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    return null;\n                }\n                const isCredit = rowData.type === JournalEntryType.Credit;\n                return {\n                    icon: ((props) => isCredit ? (React.createElement(BankTransferOutIcon, Object.assign({}, props))) : (React.createElement(BankTransferInIcon, Object.assign({}, props)))),\n                    tooltip: isCredit ? \"Give Refund\" : \"Add Refund\",\n                    iconProps: {\n                        style: { color: isCredit ? red[900] : green[900] },\n                    },\n                    onClick: (event, rowData) => {\n                        setAddRefundOpen(true);\n                        setAddRefundToEntry(rowData.id);\n                    },\n                };\n            },\n            {\n                icon: ((props) => (React.createElement(AddCircleIcon, Object.assign({}, props)))),\n                iconProps: {\n                    color: \"secondary\",\n                    fontSize: \"large\",\n                },\n                tooltip: \"Add Entry\",\n                isFreeAction: true,\n                onClick: () => {\n                    setAddEntryOpen(true);\n                },\n            },\n        ];\n    }, [mode, reconcileRefund, reconcileEntry, setDeleteRefund, setDeleteEntry]);\n    // https://github.com/mbrn/material-table/issues/563\n    const detailPanelState = useMemo(() => new Map(), []);\n    const components = useMemo(() => ({\n        Body: error\n            ? (props) => (React.createElement(TableBody, Object.assign({}, props),\n                React.createElement(TableRow, null,\n                    React.createElement(TableCell, { colSpan: columns.length +\n                            (Array.isArray(actions) && actions.length > 0 ? 1 : 0), align: \"left\" },\n                        React.createElement(Typography, { align: \"center\", color: \"error\", variant: \"h4\" }, \"Error Loading Entries\"),\n                        React.createElement(Typography, { variant: \"body1\" }, error.message)))))\n            : (props) => React.createElement(MTableBody, Object.assign({}, props)),\n        Row: function RowDetailPanelHack(p) {\n            const props = {\n                ...p,\n                onToggleDetailPanel: (path, render, ...args) => {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    if (detailPanelState.has(p.data.id)) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        detailPanelState.delete(p.data.id);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        detailPanelState.set(p.data.id, render);\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    return p.onToggleDetailPanel(path, render, ...args);\n                },\n            };\n            return React.createElement(MTableBodyRow, Object.assign({}, props));\n        },\n    }), [error, columns.length, actions, detailPanelState]);\n    const detailPanel = useMemo(() => [\n        (rowData) => {\n            const isJournalEntry = rowData.__typename === \"JournalEntry\";\n            const hasItems = isJournalEntry ? rowData.items.length > 0 : false;\n            return {\n                icon: (props) => isJournalEntry ? (hasItems ? (React.createElement(FileTreeIcon, Object.assign({}, props))) : (React.createElement(FileTreeOutlineIcon, Object.assign({}, props)))) : null,\n                // eslint-disable-next-line react/display-name\n                openIcon: (props) => hasItems ? (React.createElement(FileTreeIcon, Object.assign({}, props, { color: \"primary\" }))) : (React.createElement(FileTreeOutlineIcon, Object.assign({}, props, { color: \"primary\" }))),\n                disabled: !isJournalEntry,\n                tooltip: isJournalEntry ? \"Itemize\" : undefined,\n                // eslint-disable-next-line react/display-name\n                render: (rowData) => {\n                    if (rowData.__typename !== \"JournalEntry\") {\n                        return null;\n                    }\n                    return React.createElement(ItemsTable, { entry: rowData });\n                },\n            };\n        },\n    ], []);\n    const [aggregate, setAggregate] = useState(new Fraction(0));\n    const title = useMemo(() => {\n        const year = (fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.name) ? `${fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.name} ` : \"\";\n        const compare = aggregate.compare(new Fraction(0));\n        const aggregateSpan = (React.createElement(Box, { color: compare === 0 ? undefined : compare > 0 ? green[900] : red[900], component: \"span\" }, numeral(aggregate.valueOf()).format(\"$0,0.00\")));\n        if (journalTitle) {\n            return (React.createElement(Typography, { variant: \"h6\" },\n                `${year}${journalTitle}: `,\n                aggregateSpan));\n        }\n        return (React.createElement(Typography, { variant: \"h6\" },\n            year,\n            aggregateSpan));\n    }, [fiscalYear, aggregate, journalTitle]);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const tableRef = useRef(null);\n    const mTData = useCallback(async (query) => {\n        var _a;\n        const { filters, page, pageSize, orderBy, orderDirection } = query;\n        const search = (_a = query.search) === null || _a === void 0 ? void 0 : _a.trim();\n        const collection = (() => {\n            if (!search) {\n                return entries;\n            }\n            return new Fuse(entries, {\n                keys: [\n                    \"date\",\n                    \"total\",\n                    \"description\",\n                    \"department\",\n                    \"category\",\n                    \"paymentMethod\",\n                    \"source\",\n                ],\n                threshold: 0.4,\n                useExtendedSearch: true,\n                getFn: (entry, key) => {\n                    var _a;\n                    switch (key) {\n                        case \"date\": {\n                            const date = new Date(entry.date);\n                            return [\n                                entry.date,\n                                format(date, \"M/d/yy\"),\n                                format(date, \"MM/d/yy\"),\n                                format(date, \"M/d/yyyy\"),\n                                format(date, \"MM/d/yyyy\"),\n                                format(date, \"MMM dd, yyyy\"),\n                            ];\n                        }\n                        case \"total\": {\n                            const total = rationalToFraction(entry.total).valueOf();\n                            return [numeral(total).format(\"$0,0.00\"), total.toFixed(2)];\n                        }\n                        case \"description\":\n                            return ((_a = entry.description) === null || _a === void 0 ? void 0 : _a.trim()) || \"\";\n                        case \"department\":\n                            return entry.department.name;\n                        case \"category\":\n                            return entry.category.name;\n                        case \"paymentMethod\":\n                            return entry.paymentMethod.name;\n                        case \"source\":\n                            switch (entry.source.__typename) {\n                                case \"Person\":\n                                    return [entry.source.name.first, entry.source.name.last];\n                                case \"Business\":\n                                    return entry.source.bizName;\n                                case \"Department\":\n                                    return entry.source.deptName;\n                            }\n                            break;\n                        default:\n                            return \"\";\n                    }\n                },\n            })\n                .search(search)\n                .map((result) => result.item);\n        })();\n        const pipeline = [];\n        const $match = { $and: [] };\n        if (filters.length > 0) {\n            const { $and } = $match;\n            for (const filter of filters) {\n                if (Object.keys(filter.value).length > 0) {\n                    $and.push(filter.value);\n                }\n                // Object.assign($match, filter.value ?? {});\n            }\n        }\n        if ($match.$and.length > 0) {\n            pipeline.push(\n            // Convert fields for filtering\n            {\n                $addFields: {\n                    // Cache date as string\n                    _dateStr_: \"$date\",\n                    date: {\n                        $expressionCb: (obj) => startOfDay(new Date(obj.date)),\n                    },\n                    // Cache total as rational\n                    _totalRational_: \"$total\",\n                    total: {\n                        $expressionCb: (obj) => rationalToFraction(obj.total).valueOf(),\n                    },\n                },\n            }, { $match }, \n            // Replace with original values from cached keys\n            {\n                $addFields: {\n                    date: \"$_dateStr_\",\n                    total: \"$_totalRational_\",\n                },\n            }, \n            // Remove cache keys\n            {\n                $project: {\n                    _dateStr_: false,\n                    _totalRational_: false,\n                },\n            });\n        }\n        const $facet = {\n            data: [],\n            raw: [],\n        };\n        // Sorting\n        if (orderBy) {\n            const { field } = orderBy;\n            switch (field) {\n                case \"date\":\n                    $facet.data.push({\n                        $addFields: {\n                            _sortBy_: { $toDate: \"$date\" },\n                        },\n                    });\n                    break;\n                case \"total\":\n                    $facet.data.push({\n                        $addFields: {\n                            _sortBy_: {\n                                $expressionCb: (entry) => rationalToFraction(entry.total).valueOf(),\n                            },\n                        },\n                    });\n                    break;\n                case \"reconciled\":\n                    $facet.data.push({\n                        $addFields: {\n                            _sortBy_: \"$reconciled\",\n                        },\n                    });\n                    break;\n                case \"department\":\n                    $facet.data.push({\n                        $addFields: {\n                            _sortBy_: \"$department.name\",\n                        },\n                    });\n                    break;\n                case \"category\":\n                    $facet.data.push({\n                        $addFields: {\n                            _sortBy_: \"$category.name\",\n                        },\n                    });\n                    break;\n                case \"paymentMethod\":\n                    $facet.data.push({\n                        $addFields: {\n                            _sortBy_: \"$paymentMethod.name\",\n                        },\n                    });\n                    break;\n                case \"source\":\n                    // var t:Entry;\n                    $facet.data.push({\n                        $addFields: {\n                            _sortBy_: {\n                                $cond: {\n                                    if: {\n                                        $eq: [{ $ifNull: [\"$source.name.first\", null] }, null],\n                                    },\n                                    then: \"$source.name\",\n                                    else: {\n                                        $concat: [\"$source.name.first\", \" \", \"$source.name.last\"],\n                                    },\n                                },\n                            },\n                        },\n                    });\n                    break;\n                default:\n                    $facet.data.push({\n                        $addFields: {\n                            _sortBy_: { $toDate: \"$date\" },\n                        },\n                    });\n            }\n            $facet.data.push({\n                $sort: {\n                    _sortBy_: orderDirection === \"asc\" ? 1 : -1,\n                },\n            }, {\n                $project: { _sortBy_: false },\n            });\n        }\n        // paging\n        $facet.data.push({ $skip: page * pageSize }, { $limit: pageSize });\n        pipeline.push({ $facet });\n        const [result] = new Aggregator(pipeline).run(collection);\n        // https://github.com/mbrn/material-table/issues/563\n        const data = result.data.map((entry) => {\n            if (detailPanelState.has(entry.id)) {\n                return {\n                    ...entry,\n                    tableData: {\n                        showDetailPanel: detailPanelState.get(entry.id),\n                    },\n                };\n            }\n            return entry;\n        });\n        const raw = result.raw;\n        // Cleanup detailPanelState\n        // https://github.com/mbrn/material-table/issues/563\n        (() => {\n            const copyShowDetailPanel = new Map(detailPanelState);\n            detailPanelState.clear();\n            for (const { id } of raw) {\n                if (copyShowDetailPanel.has(id)) {\n                    detailPanelState.set(id, copyShowDetailPanel.get(id));\n                }\n            }\n        })();\n        const totalCount = raw.length;\n        const newAggregate = (() => {\n            let newAggregate = new Fraction(0);\n            for (const entry of raw) {\n                if (entry.deleted) {\n                    continue;\n                }\n                let entryTotal = rationalToFraction(entry.total);\n                // BUG Story ID: CH58\n                // Itemization Adjustments\n                if (deptId) {\n                    for (const item of entry.items) {\n                        if (item.deleted ||\n                            !item.department ||\n                            item.department.id === deptId ||\n                            item.department.ancestors.some((dept) => dept.__typename === \"Department\" && dept.id === deptId)) {\n                            continue;\n                        }\n                        // Item has been applied to another department budget.\n                        entryTotal = entryTotal.sub(rationalToFraction(item.total));\n                    }\n                }\n                if (entry.type === JournalEntryType.Credit) {\n                    newAggregate = newAggregate.add(entryTotal);\n                }\n                else {\n                    newAggregate = newAggregate.sub(entryTotal);\n                }\n            }\n            return newAggregate;\n        })();\n        if (aggregate.compare(newAggregate) !== 0) {\n            setAggregate(newAggregate);\n        }\n        setTotalCount(totalCount);\n        return {\n            data,\n            page,\n            totalCount,\n        };\n    }, [aggregate, deptId, entries, detailPanelState, setTotalCount]);\n    useEffect(() => {\n        if (tableRef.current) {\n            tableRef.current.onQueryChange(null);\n        }\n    }, [tableRef, entries]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(MaterialTable, { icons: tableIcons, isLoading: isLoading || reconcilingEntry || reconcilingRefund, columns: columns, data: mTData, options: options, localization: localization, actions: actions, components: components, title: title, detailPanel: detailPanel, tableRef: tableRef }),\n        React.createElement(AddEntry, { deptId: deptId, open: addEntryOpen, onClose: addEntryOnClose }),\n        React.createElement(UpdateEntry, { entryId: updateEntry, open: updateEntryOpen, onClose: updateEntryOnClose, onExited: updateEntryOnExited }),\n        React.createElement(DeleteEntry, { entryId: deleteEntry, onClose: deleteEntryOnClose }),\n        React.createElement(AddRefund, { entryId: addRefundToEntry, open: addRefundOpen, onClose: addRefundOnClose, onExited: addRefundOnExited }),\n        React.createElement(UpdateRefund, { entryId: (_a = updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.entryId) !== null && _a !== void 0 ? _a : null, refundId: (_b = updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.refundId) !== null && _b !== void 0 ? _b : null, open: updateRefundOpen, onClose: updateRefundOnClose, onExited: updateRefundOnExited }),\n        React.createElement(DeleteRefund, { refundId: deleteRefund, onClose: deleteRefundOnClose })));\n};\nexport default Journal;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSm91cm5hbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvVGFibGUvSm91cm5hbC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFDWixPQUFPLEVBQ1AsUUFBUSxFQUNSLFdBQVcsRUFDWCxTQUFTLEVBQ1QsTUFBTSxHQUNQLE1BQU0sT0FBTyxDQUFDO0FBQ2YsT0FBTyxhQUFhLEVBQUUsRUFNcEIsVUFBVSxFQUdWLGFBQWEsR0FFZCxNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDNUQsT0FBTyxPQUFPLE1BQU0sU0FBUyxDQUFDO0FBQzlCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxJQUFJLE1BQU0sU0FBUyxDQUFDO0FBQzNCLE9BQU8sRUFDTCxJQUFJLElBQUksUUFBUSxFQUNoQixNQUFNLElBQUksVUFBVSxFQUNwQixTQUFTLElBQUksYUFBYSxFQUMxQixXQUFXLElBQUksZUFBZSxFQUM5QixJQUFJLElBQUksUUFBUSxHQUNqQixNQUFNLG9CQUFvQixDQUFDO0FBQzVCLE9BQU8sRUFDTCxHQUFHLEVBQ0gsU0FBUyxFQUNULFFBQVEsRUFDUixTQUFTLEVBQ1QsVUFBVSxHQUVYLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUN0RCxPQUFPLEVBQ0wsY0FBYyxJQUFJLGtCQUFrQixFQUNwQyxlQUFlLElBQUksbUJBQW1CLEVBQ3RDLFFBQVEsSUFBSSxZQUFZLEVBQ3hCLGVBQWUsSUFBSSxtQkFBbUIsR0FDdkMsTUFBTSxpQkFBaUIsQ0FBQztBQUN6QixPQUFPLEdBQUcsTUFBTSxhQUFhLENBQUM7QUFDOUIsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVB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","import { addOperators, OperatorType } from \"mingo/core\";\naddOperators(OperatorType.EXPRESSION, (helpers) => ({\n    $expressionCb: (obj, expr, options) => expr(obj, options, helpers),\n}));\naddOperators(OperatorType.QUERY, (helpers) => ({\n    $queryCb: (selector, lhs, rhs, options) => rhs(selector, lhs, options, helpers),\n}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWluZ29VdGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy9taW5nb1V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFXLE1BQU0sWUFBWSxDQUFDO0FBWWpFLFlBQVksQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLENBQUMsT0FBOEIsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6RSxhQUFhLEVBQUUsQ0FDYixHQUE0QixFQUM1QixJQUlZLEVBQ1osT0FBZ0IsRUFDaEIsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQztDQUNqQyxDQUFDLENBQUMsQ0FBQztBQUVKLFlBQVksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUMsT0FBOEIsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNwRSxRQUFRLEVBQUUsQ0FDUixRQUFnQixFQUNoQixHQUFZLEVBQ1osR0FLWSxFQUNaLE9BQWdCLEVBQ2hCLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDO0NBQzFDLENBQUMsQ0FBQyxDQUFDIn0=","import gql from \"graphql-tag\";\nexport const GET_REPORT_DATA_DEPT_FRAGMENT = gql `\n  fragment GetReportDataDept_1Fragment on Department {\n    __typename\n    id\n    name\n    budgets {\n      id\n      __typename\n      amount {\n        n\n        d\n        s\n      }\n      fiscalYear {\n        __typename\n        id\n      }\n    }\n  }\n`;\nexport const GET_REPORT_DATA_ENTRY_FRAGMENT = gql `\n  fragment GetReportDataEntry_1Fragment on JournalEntry {\n    id\n    __typename\n    category {\n      __typename\n      id\n      name\n    }\n    type\n    total {\n      n\n      d\n      s\n    }\n    fiscalYear {\n      __typename\n      id\n    }\n    department {\n      __typename\n      id\n      ancestors {\n        __typename\n        ... on Business {\n          id\n        }\n        ... on Department {\n          id\n        }\n      }\n    }\n    refunds {\n      __typename\n      id\n      total {\n        n\n        d\n        s\n      }\n      deleted\n      lastUpdate\n    }\n    items {\n      __typename\n      id\n      total {\n        n\n        d\n        s\n      }\n      department {\n        __typename\n        id\n      }\n      deleted\n    }\n    lastUpdate\n    deleted\n  }\n`;\nexport const GET_REPORT_DATA = gql `\n  query GetReportData($deptId:ID!, $where:JournalEntiresWhere!) {\n    department(id:$deptId) {\n      ...GetReportDataDept_1Fragment\n      descendants {\n        ...GetReportDataDept_1Fragment\n      }\n    }\n    journalEntries(where:$where) {\n      ...GetReportDataEntry_1Fragment\n    }\n    fiscalYears {\n      __typename\n      id\n      name\n      begin\n      end\n    }\n  }\n  ${GET_REPORT_DATA_DEPT_FRAGMENT},\n  ${GET_REPORT_DATA_ENTRY_FRAGMENT}\n`;\nexport const JOURNAL_ENTRY_ADDED_SUB = gql `\n  subscription JournalEntryAdded_2 {\n    journalEntryAdded {\n      ...GetReportDataEntry_1Fragment\n    }\n  }\n  ${GET_REPORT_DATA_ENTRY_FRAGMENT}\n`;\nexport const JOURNAL_ENTRY_UPDATED_SUB = gql `\n  subscription JournalEntryUpdated_2 {\n    journalEntryUpdated {\n      ...GetReportDataEntry_1Fragment\n    }\n  }\n  ${GET_REPORT_DATA_ENTRY_FRAGMENT}\n`;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVwb3J0RGF0YS5ncWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9EYXNoYm9hcmQvUmVwb3J0RGF0YS5ncWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBRTlCLE1BQU0sQ0FBQyxNQUFNLDZCQUE2QixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW1CL0MsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLDhCQUE4QixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBNERoRCxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW1COUIsNkJBQTZCO0lBQzdCLDhCQUE4QjtDQUNqQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7SUFNdEMsOEJBQThCO0NBQ2pDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxHQUFHLENBQUE7Ozs7OztJQU14Qyw4QkFBOEI7Q0FDakMsQ0FBQyJ9","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport TableChartIcon from \"@material-ui/icons/TableChart\";\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport numeral from \"numeral\";\nimport { red, green, orange, grey } from \"@material-ui/core/colors\";\nimport { FormControl, InputLabel } from \"@material-ui/core\";\nimport gql from \"graphql-tag\";\nimport Fraction from \"fraction.js\";\nimport { Select } from \"@material-ui/core\";\nimport { MenuItem } from \"@material-ui/core\";\nimport { JournalEntryType, } from \"../../apollo/graphTypes\";\nimport { GET_REPORT_DATA, GET_REPORT_DATA_ENTRY_FRAGMENT, } from \"./ReportData.gql\";\nimport { DEPT_ENTRY_OPT_FRAGMENT } from \"../Journal/Upsert/upsertEntry.gql\";\nimport AddEntry from \"../Journal/Upsert/Entries/AddEntry\";\nimport { rationalToFraction } from \"../../utils/rational\";\nconst colorMeter = (percentSpent, shade = 800) => {\n    if (percentSpent < 0.75) {\n        return green[shade];\n    }\n    else if (percentSpent < 0.9) {\n        return orange[shade];\n    }\n    else {\n        return red[shade];\n    }\n};\nconst BudgetMeter = (props) => {\n    const { spentPercentage, height } = props;\n    return (React.createElement(Box, { height: height, bgcolor: colorMeter(spentPercentage), display: \"flex\", justifyContent: \"flex-start\" },\n        React.createElement(Box, { height: \"100%\", width: `${100 * spentPercentage}%`, bgcolor: grey[400] })));\n};\nexport const DEPT_FOR_UPSERT_ADD = gql `\n  query DeptForUpsertAdd($id: ID!) {\n    department(id: $id) {\n      ...DeptEntryOptFragment\n    }\n  }\n  ${DEPT_ENTRY_OPT_FRAGMENT}\n`;\nconst ON_ENTRY_UPSERT = gql `\n  subscription OnEntryUpsert_2 {\n    journalEntryUpserted {\n      ...GetReportDataEntry_1Fragment\n      department {\n        ancestors {\n          ... on Department {\n            __typename\n            id\n          }\n        }\n      }\n    }\n  }\n  ${GET_REPORT_DATA_ENTRY_FRAGMENT}\n`;\nconst Dashboard = (props) => {\n    var _a;\n    const { deptId } = props;\n    const [addEntryOpen, setAddEntryOpen] = useState(false);\n    const addEntryOnClose = useCallback(() => void setAddEntryOpen(false), [\n        setAddEntryOpen,\n    ]);\n    const variables = useMemo(() => ({\n        deptId,\n        where: {\n            department: { eq: { id: deptId, matchDescendants: true } },\n            deleted: false,\n        },\n    }), [deptId]);\n    const { loading, error, data, subscribeToMore } = useQuery(GET_REPORT_DATA, {\n        variables,\n        fetchPolicy: \"cache-and-network\",\n    });\n    const isLoading = loading && !(data === null || data === void 0 ? void 0 : data.journalEntries);\n    // Subscribe to updates\n    useEffect(() => {\n        return subscribeToMore({\n            document: ON_ENTRY_UPSERT,\n            updateQuery: (prev, { subscriptionData }) => {\n                if (!subscriptionData.data) {\n                    return prev;\n                }\n                const upsertEntry = subscriptionData.data.journalEntryUpserted;\n                const ancestors = upsertEntry.department.ancestors;\n                if (deptId &&\n                    upsertEntry.department.id !== deptId &&\n                    ancestors.every((dept) => dept.__typename === \"Department\" && dept.id !== deptId)) {\n                    // Filter entry out of query results if department changes.\n                    const journalEntriesFiltered = prev.journalEntries.filter((entry) => entry.id !== upsertEntry.id);\n                    if (journalEntriesFiltered.length === prev.journalEntries.length) {\n                        return prev;\n                    }\n                    return Object.assign({}, prev, {\n                        journalEntries: journalEntriesFiltered,\n                    });\n                }\n                // Apollo will take care of updating if entry already exists in cache.\n                if (prev.journalEntries.some((entry) => entry.id === upsertEntry.id)) {\n                    return prev;\n                }\n                return Object.assign({}, prev, {\n                    journalEntries: [upsertEntry, ...prev.journalEntries],\n                });\n            },\n        });\n    }, [deptId, subscribeToMore]);\n    const [year, setYear] = useState(new Date(new Date().toDateString()));\n    const fiscalYear = useMemo(() => {\n        for (const fiscalYear of (data === null || data === void 0 ? void 0 : data.fiscalYears) || []) {\n            if (year >= new Date(fiscalYear.begin) &&\n                year < new Date(fiscalYear.end)) {\n                return fiscalYear;\n            }\n        }\n        return null;\n    }, [year, data]);\n    const entries = useMemo(() => {\n        return ((data === null || data === void 0 ? void 0 : data.journalEntries) || []).filter((entry) => !entry.deleted && (fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) === entry.fiscalYear.id);\n    }, [data, fiscalYear]);\n    const deptName = ((_a = data === null || data === void 0 ? void 0 : data.department) === null || _a === void 0 ? void 0 : _a.name) || \"\";\n    useEffect(() => {\n        document.title = deptName;\n    }, [deptName]);\n    const department = (data === null || data === void 0 ? void 0 : data.department) || null;\n    const { totalRemaining, budget, spentToBudgetRatio, deptReports, uBudget, } = useMemo(() => {\n        var _a;\n        // Generate department report objects\n        const deptReports = new Map();\n        let uBudget = new Fraction(0);\n        let uSpent = new Fraction(0);\n        const depts = [];\n        if (department) {\n            const budgetsAccountedFor = new Set();\n            depts.push(department, ...department.descendants);\n            for (const dept of depts) {\n                const budgetFound = (_a = dept.budgets.find((b) => b.fiscalYear.id === (fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) &&\n                    !budgetsAccountedFor.has(b.id))) !== null && _a !== void 0 ? _a : null;\n                let budget = null;\n                if (budgetFound) {\n                    const amount = budgetFound.amount;\n                    budgetsAccountedFor.add(budgetFound.id);\n                    budget = rationalToFraction(amount);\n                    uBudget = uBudget.add(budget);\n                }\n                deptReports.set(dept.id, {\n                    name: dept.name,\n                    spent: new Fraction(0),\n                    budget,\n                });\n            }\n        }\n        // Calculating aggregate depts and credits\n        for (const entry of entries) {\n            if (entry.deleted) {\n                continue;\n            }\n            const deptReport = deptReports.get(entry.department.id);\n            let entryTotal = rationalToFraction(entry.total);\n            // BUG Story ID: CH58\n            // Aggregate Refunds\n            for (const refund of entry.refunds) {\n                if (refund.deleted) {\n                    continue;\n                }\n                entryTotal = entryTotal.sub(rationalToFraction(refund.total));\n            }\n            // Itemization Adjustments\n            if (department) {\n                for (const item of entry.items) {\n                    if (item.deleted ||\n                        !item.department ||\n                        depts.some(({ id }) => { var _a; return id === ((_a = item.department) === null || _a === void 0 ? void 0 : _a.id); })) {\n                        continue;\n                    }\n                    // Item has been applied  to another department budget.\n                    entryTotal = entryTotal.sub(rationalToFraction(item.total));\n                }\n            }\n            if (entry.type === JournalEntryType.Credit) {\n                uSpent = uSpent.sub(entryTotal);\n                deptReport.spent = deptReport.spent.sub(entryTotal);\n            }\n            else {\n                uSpent = uSpent.add(entryTotal);\n                deptReport.spent = deptReport.spent.add(entryTotal);\n            }\n        }\n        return {\n            totalRemaining: numeral(uBudget.sub(uSpent).valueOf()).format(\"$0,0.00\"),\n            budget: numeral(uBudget.valueOf()).format(\"$0,0.00\"),\n            spentToBudgetRatio: uBudget.n === 0 ? 1 : uSpent.div(uBudget).valueOf(),\n            deptReports,\n            uBudget,\n        };\n    }, [entries, department]);\n    const subDeptCards = useMemo(() => {\n        const subDeptCards = [];\n        for (const [id, { budget, spent, name }] of deptReports) {\n            // Do not include root department\n            if (id === (department === null || department === void 0 ? void 0 : department.id) && (!budget || budget.equals(uBudget))) {\n                continue;\n            }\n            const card = (React.createElement(Grid, { key: id, item: true, xs: 12, md: 4, lg: 3 },\n                React.createElement(Card, null,\n                    React.createElement(CardHeader, { titleTypographyProps: {\n                            noWrap: true,\n                        }, title: name }),\n                    React.createElement(CardContent, null, (() => {\n                        if (budget === null || budget.n === 0) {\n                            return (React.createElement(Box, { color: spent.compare(new Fraction(0)) > 0\n                                    ? red[900]\n                                    : green[900], clone: true },\n                                React.createElement(Typography, { variant: \"h6\" }, `Spent: ${numeral(spent.abs().valueOf()).format(\"$0,0.00\")}`)));\n                        }\n                        const totalRemaining = budget.sub(spent);\n                        const spentToBudgetRatio = spent.div(budget).valueOf();\n                        return (React.createElement(React.Fragment, null,\n                            React.createElement(Box, { color: colorMeter(spentToBudgetRatio, 900), clone: true },\n                                React.createElement(Typography, { variant: \"h6\" }, `${numeral(totalRemaining.valueOf()).format(\"$0,0.00\")} Remaining`)),\n                            React.createElement(Typography, { variant: \"body1\" }, `of ${numeral(budget.valueOf()).format(\"$0,0.00\")}`),\n                            React.createElement(BudgetMeter, { spentPercentage: spentToBudgetRatio, height: 5 })));\n                    })()))));\n            subDeptCards.push(card);\n        }\n        return subDeptCards;\n    }, [deptReports, department, uBudget]);\n    const onClickAddEntry = useCallback(() => setAddEntryOpen(true), [\n        setAddEntryOpen,\n    ]);\n    const fiscalYearSelect = useMemo(() => {\n        const onChange = (event) => {\n            const value = event.target.value;\n            if (value) {\n                for (const fiscalYear of (data === null || data === void 0 ? void 0 : data.fiscalYears) || []) {\n                    if (fiscalYear.id === value) {\n                        setYear(new Date(fiscalYear.begin)\n                        /* new Date(\n                          new Date(fiscalYear.begin).getTime() + 1000 * 60 * 60 * 24 * 5\n                        ) */\n                        );\n                        return;\n                    }\n                }\n            }\n        };\n        return (React.createElement(Box, { minWidth: 120, clone: true },\n            React.createElement(FormControl, { variant: \"outlined\" },\n                React.createElement(InputLabel, null, \"Fiscal Year\"),\n                React.createElement(Select, { label: \"Fiscal Year<\", variant: \"outlined\", value: (fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) || \"\", onChange: onChange }, ((data === null || data === void 0 ? void 0 : data.fiscalYears) || [])\n                    .sort((a, b) => new Date(a.begin).getTime() - new Date(b.begin).getTime())\n                    .map((fiscalYear) => {\n                    return (React.createElement(MenuItem, { key: fiscalYear.id, value: fiscalYear.id }, fiscalYear.name));\n                })))));\n    }, [data, setYear, fiscalYear]);\n    if (isLoading) {\n        return React.createElement(\"p\", null, \"Loading...\");\n    }\n    else if (error) {\n        console.error(error);\n        return React.createElement(\"p\", null, error.message);\n    }\n    return (React.createElement(Box, { display: \"flex\", flexDirection: \"column\", overflow: \"hidden\", clone: true },\n        React.createElement(Container, null,\n            React.createElement(Box, { padding: 8 },\n                React.createElement(Grid, { container: true, alignItems: \"center\", justify: \"center\", spacing: 4 },\n                    React.createElement(Grid, { item: true },\n                        React.createElement(Button, { variant: \"contained\", color: \"secondary\", startIcon: React.createElement(AddIcon, null), onClick: onClickAddEntry }, \"New Entry\")),\n                    React.createElement(Grid, { item: true },\n                        React.createElement(Button, { disabled: !fiscalYear, component: Link, to: `/journal/${deptId}/${(fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) || \"\"}/reconcile`, variant: \"contained\", startIcon: React.createElement(DoneAllIcon, null) }, \"Reconcile\")),\n                    React.createElement(Grid, { item: true },\n                        React.createElement(Button, { variant: \"contained\", startIcon: React.createElement(AssessmentIcon, null) }, \"Reports\")),\n                    React.createElement(Grid, { item: true },\n                        React.createElement(Button, { disabled: !fiscalYear, component: Link, to: `/journal/${deptId}/${(fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) || \"\"}`, variant: \"contained\", startIcon: React.createElement(TableChartIcon, null) }, \"Journal\")),\n                    React.createElement(Grid, { item: true }, fiscalYearSelect))),\n            React.createElement(Box, { flexGrow: 1, overflow: \"auto\" },\n                React.createElement(Grid, { justify: \"center\", container: true, spacing: 2 },\n                    React.createElement(Grid, { item: true, xs: 12 },\n                        React.createElement(Typography, { align: \"center\", variant: \"h3\" }, deptName),\n                        React.createElement(Box, { color: colorMeter(spentToBudgetRatio.valueOf()) },\n                            React.createElement(Typography, { align: \"center\", variant: \"h4\" }, `${totalRemaining} Remaining`)),\n                        React.createElement(Typography, { align: \"center\", variant: \"subtitle1\" }, `of ${budget}`),\n                        React.createElement(BudgetMeter, { spentPercentage: spentToBudgetRatio.valueOf(), height: 10 })),\n                    subDeptCards)),\n            React.createElement(AddEntry, { deptId: deptId, open: addEntryOpen, onClose: addEntryOnClose }))));\n};\nexport default Dashboard;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGFzaGJvYXJkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvRGFzaGJvYXJkL0Rhc2hib2FyZC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDekUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLElBQUksTUFBTSx3QkFBd0IsQ0FBQztBQUMxQyxPQUFPLFNBQVMsTUFBTSw2QkFBNkIsQ0FBQztBQUNwRCxPQUFPLEdBQUcsTUFBTSx1QkFBdUIsQ0FBQztBQUN4QyxPQUFPLE1BQU0sTUFBTSwwQkFBMEIsQ0FBQztBQUM5QyxPQUFPLFVBQVUsTUFBTSw4QkFBOEIsQ0FBQztBQUN0RCxPQUFPLE9BQU8sTUFBTSx3QkFBd0IsQ0FBQztBQUM3QyxPQUFPLFdBQVcsTUFBTSw0QkFBNEIsQ0FBQztBQUNyRCxPQUFPLGNBQWMsTUFBTSwrQkFBK0IsQ0FBQztBQUMzRCxPQUFPLGNBQWMsTUFBTSwrQkFBK0IsQ0FBQztBQUMzRCxPQUFPLElBQUksTUFBTSx3QkFBd0IsQ0FBQztBQUMxQyxPQUFPLFVBQVUsTUFBTSw4QkFBOEIsQ0FBQztBQUN0RCxPQUFPLFdBQVcsTUFBTSwrQkFBK0IsQ0FBQztBQUN4RCxPQUFPLE9BQU8sTUFBTSxTQUFTLENBQUM7QUFDOUIsT0FBTyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3BFLE9BQU8sRUFBUyxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbkUsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBQzlCLE9BQU8sUUFBUSxNQUFN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","import React, { useCallback, useEffect, useState, useMemo } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport { Link } from \"react-router-dom\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nconst DEPTS_FOR_NAV = gql `\n  query DeptsForNav_1 {\n    departments {\n      __typename\n      id\n      name\n      parent {\n        __typename\n        ... on Business {\n          id\n        }\n        ... on Department {\n          id\n        }\n      }\n      virtualRoot\n    }\n  }\n`;\n// JSX requires a props argument\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst TopNav = (props) => {\n    const { loading, error, data } = useQuery(DEPTS_FOR_NAV);\n    const [value, setValue] = useState(\"\");\n    const depts = (data === null || data === void 0 ? void 0 : data.departments) || [];\n    const { rootDepts, virtualRoots } = useMemo(() => {\n        const rootDepts = [];\n        const virtualRoots = new Set();\n        for (const dept of depts) {\n            if (dept.parent.__typename === \"Business\") {\n                rootDepts.push(dept);\n            }\n            if (dept.virtualRoot) {\n                virtualRoots.add(dept.id);\n            }\n        }\n        return { rootDepts, virtualRoots };\n    }, [depts]);\n    const subDepts = useMemo(() => {\n        const subDepts = [];\n        if (value && virtualRoots.has(value)) {\n            for (const dept of depts) {\n                if (dept.parent.id === value) {\n                    subDepts.push(dept);\n                }\n            }\n        }\n        return subDepts;\n    }, [virtualRoots, value, depts]);\n    useEffect(() => {\n        document.title = \"Select Department\";\n    });\n    const onChange = useCallback((event) => {\n        var _a;\n        setValue(((_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value) || \"\");\n    }, [setValue]);\n    if (loading) {\n        return React.createElement(\"p\", null, \"Loading...\");\n    }\n    else if (error) {\n        return React.createElement(\"p\", null, error.message);\n    }\n    const showSubDepts = subDepts.length > 0;\n    return (React.createElement(Box, { flexGrow: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"center\", flexDirection: \"column\", clone: true },\n        React.createElement(Container, null,\n            React.createElement(Box, { padding: 4, clone: true },\n                React.createElement(Typography, { align: \"center\", color: \"primary\", variant: \"h3\" }, \"Select Department\")),\n            React.createElement(Box, { minWidth: \"250px !important\", clone: true },\n                React.createElement(FormControl, { variant: \"filled\" },\n                    React.createElement(InputLabel, null, \"Department\"),\n                    React.createElement(Select, { value: value, onChange: onChange, autoWidth: true }, rootDepts.map((dept) => {\n                        const props = (() => {\n                            if (dept.virtualRoot) {\n                                return {\n                                    value: dept.id,\n                                    children: dept.name,\n                                };\n                            }\n                            else {\n                                return {\n                                    component: Link,\n                                    to: `/department/${dept.id}`,\n                                    value: dept.id,\n                                    children: dept.name,\n                                };\n                            }\n                        })();\n                        return React.createElement(MenuItem, Object.assign({ key: dept.id }, props));\n                    })))),\n            showSubDepts && (React.createElement(Box, { pt: 2 },\n                React.createElement(Box, { pt: 2, minWidth: \"250px !important\", clone: true },\n                    React.createElement(FormControl, { variant: \"filled\" },\n                        React.createElement(InputLabel, null, \"Sub Department\"),\n                        React.createElement(Select, { autoWidth: true }, subDepts.map((dept) => {\n                            const props = {\n                                component: Link,\n                                to: `/department/${dept.id}`,\n                                value: dept.id,\n                                children: dept.name,\n                            };\n                            return React.createElement(MenuItem, Object.assign({ key: dept.id }, props));\n                        })))))))));\n};\nexport default TopNav;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9wTmF2LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvVG9wTmF2LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUN6RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDL0MsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBQzlCLE9BQU8sVUFBVSxNQUFNLDhCQUE4QixDQUFDO0FBQ3RELE9BQU8sU0FBUyxNQUFNLDZCQUE2QixDQUFDO0FBQ3BELE9BQU8sR0FBRyxNQUFNLHVCQUF1QixDQUFDO0FBQ3hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLFVBQVUsTUFBTSw4QkFBOEIsQ0FBQztBQUN0RCxPQUFPLFFBQVEsTUFBTSw0QkFBNEIsQ0FBQztBQUNsRCxPQUFPLFdBQVcsTUFBTSwrQkFBK0IsQ0FBQztBQUN4RCxPQUFPLE1BQU0sTUFBTSwwQkFBMEIsQ0FBQztBQUk5QyxNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQWtCeEIsQ0FBQztBQUVGLGdDQUFnQztBQUNoQyw2REFBNkQ7QUFDN0QsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUE4QixFQUFlLEVBQUU7SUFDN0QsTUFBTSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFtQixhQUFhLENBQUMsQ0FBQztJQUUzRSxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLFFBQVEsQ0FBUyxFQUFFLENBQUMsQ0FBQztJQUUvQyxNQUFNLEtBQUssR0FBRyxDQUFBLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxXQUFXLEtBQUksRUFBRSxDQUFDO0lBSXRDLE1BQU0s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","import React from \"react\";\nimport { Route, Switch, useParams } from \"react-router-dom\";\n// import Journal from \"./components/Journal/Table/Journal\";\nimport Journal from \"./components/Journal/Table/Journal\";\nimport { JournalMode } from \"./components/Journal/Table/Journal\";\nimport Dashboard from \"./components/Dashboard/Dashboard\";\nimport TopNav from \"./components/TopNav\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nconst DashBoardRender = () => {\n    const { id } = useParams();\n    return id ? React.createElement(Dashboard, { deptId: id }) : React.createElement(\"div\", null, \"Error: No Dept ID!\");\n};\nconst DEPARTMENT_NAME = gql `\n  query DepartmentName_1($id: ID!) {\n    department(id: $id) {\n      id\n      __typename\n      name\n    }\n  }\n`;\nconst JournalViewRender = () => {\n    var _a;\n    const { id, year } = useParams();\n    const { data } = useQuery(DEPARTMENT_NAME, {\n        variables: { id },\n    });\n    const journalTitle = ((_a = data === null || data === void 0 ? void 0 : data.department) === null || _a === void 0 ? void 0 : _a.name) ? data.department.name\n        : undefined;\n    return (React.createElement(Journal, { mode: JournalMode.View, deptId: id, fiscalYearId: year, journalTitle: journalTitle }));\n};\nconst JournalReconcileRender = () => {\n    var _a;\n    const { id, year } = useParams();\n    const { data } = useQuery(DEPARTMENT_NAME, {\n        variables: { id },\n    });\n    const journalTitle = ((_a = data === null || data === void 0 ? void 0 : data.department) === null || _a === void 0 ? void 0 : _a.name) ? `Reconcile ${data.department.name}`\n        : \"Reconcile\";\n    return (React.createElement(Journal, { mode: JournalMode.Reconcile, deptId: id, fiscalYearId: year, journalTitle: journalTitle }));\n};\nconst Routes = () => {\n    return (React.createElement(Switch, null,\n        React.createElement(Route, { exact: true, path: \"/\", component: TopNav }),\n        React.createElement(Route, { exact: true, path: \"/department/:id\", component: DashBoardRender }),\n        React.createElement(Route, { exact: true, path: \"/journal\", component: Journal }),\n        React.createElement(Route, { exact: true, path: \"/journal/:id/:year\", component: JournalViewRender }),\n        React.createElement(Route, { exact: true, path: \"/journal/:id/:year/reconcile\", component: JournalReconcileRender })));\n};\nexport default Routes;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUm91dGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL1JvdXRlcy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQzFCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRTVELDREQUE0RDtBQUM1RCxPQUFPLE9BQU8sTUFBTSxvQ0FBb0MsQ0FBQztBQUN6RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDakUsT0FBTyxTQUFTLE1BQU0sa0NBQWtDLENBQUM7QUFDekQsT0FBTyxNQUFNLE1BQU0scUJBQXFCLENBQUM7QUFDekMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRS9DLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQUU5QixNQUFNLGVBQWUsR0FBRyxHQUFHLEVBQUU7SUFDM0IsTUFBTSxFQUFFLEVBQUUsRUFBRSxHQUFHLFNBQVMsRUFBa0IsQ0FBQztJQUUzQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsb0JBQUMsU0FBUyxJQUFDLE1BQU0sRUFBRSxFQUFFLEdBQUksQ0FBQyxDQUFDLENBQUMsc0RBQTZCLENBQUM7QUFDeEUsQ0FBQyxDQUFDO0FBRUYsTUFBTSxlQUFlLEdBQUcsR0FBRyxDQUFBOzs7Ozs7OztDQVExQixDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FBRyxHQUFHLEVBQUU7O0lBQzdCLE1BQU0sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsU0FBUyxFQUFnQyxDQUFDO0lBQy9ELE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxRQUFRLENBQWlCLGVBQWUsRUFBRTtRQUN6RCxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUU7S0FDbEIsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxZQUFZLEdBQUcsT0FBQSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsVUFBVSwwQ0FBRSxJQUFJLEVBQ3pDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUk7UUFDdEIsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUNkLE9BQU8sQ0FDTCxvQkFBQyxPQUFPLElBQ04sSUFBSSxFQUFFLFdBQVcsQ0FBQyxJQUFJLEVBQ3RCLE1BQU0sRUFBRSxFQUFFLEVBQ1YsWUFBWSxFQUFFLElBQUksRUFDbEIsWUFBWSxFQUFFLFlBQVksR0FDMUIsQ0FDSCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxzQkFBc0IsR0FBRyxHQUFHLEVBQUU7O0lBQ2xDLE1BQU0sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsU0FBUyxFQUFnQyxDQUFDO0lBQy9ELE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxRQUFRLENBQWlCLGVBQWUsRUFBRTtRQUN6RCxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUU7S0FDbEIsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxZQUFZLEdBQUcsT0FBQSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsVUFBVSwwQ0FBRSxJQUFJLEVBQ3pDLENBQUMsQ0FBQyxhQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFO1FBQ3JDLENBQUMsQ0FBQyxXQUFXLENBQUM7SUFDaEIsT0FBTyxDQUNMLG9CQUFDLE9BQU8sSUFDTixJQUFJLEVBQUUsV0FBVyxDQUFDLFNBQVMsRUFDM0IsTUFBTSxFQUFFLEVBQUUsRUFDVixZQUFZLEVBQUUsSUFBSSxFQUNsQixZQUFZLEVBQUUsWUFBWSxHQUMxQixDQUNILENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNLE1BQU0sR0FBRyxHQUFnQixFQUFFO0lBQy9CLE9BQU8sQ0FDTCxvQkFBQyxNQUFNO1FBQ0wsb0JBQUMsS0FBSyxJQUFDLEtBQUssUUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLFNBQVMsRUFBRSxNQUFNLEdBQUk7UUFDM0Msb0JBQUMsS0FBSyxJQUFDLEtBQUssUUFBQyxJQUFJLEVBQUMsaUJBQWlCLEVBQUMsU0FBUyxFQUFFLGVBQWUsR0FBSTtRQUNsRSxvQkFBQyxLQUFLLElBQUMsS0FBSyxRQUFDLElBQUksRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFFLE9BQU8sR0FBSTtRQUNuRCxvQkFBQyxLQUFLLElBQUMsS0FBSyxRQUFDLElBQUksRUFBQyxvQkFBb0IsRUFBQyxTQUFTLEVBQUUsaUJBQWlCLEdBQUk7UUFDdkUsb0JBQUMsS0FBSyxJQUNKLEtBQUssUUFDTCxJQUFJLEVBQUMsOEJBQThCLEVBQ25DLFNBQVMsRUFBRSxzQkFBc0IsR0FDakMsQ0FDSyxDQUNWLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLE1BQU0sQ0FBQyJ9","import React, { Fragment } from \"react\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport client from \"./apollo/apollo\";\nimport Routes from \"./Routes\";\nconst App = () => (React.createElement(Fragment, null,\n    React.createElement(CssBaseline, null),\n    React.createElement(ApolloProvider, { client: client },\n        React.createElement(Router, null,\n            React.createElement(Routes, null)))));\nexport default App;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL0FwcC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDeEMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3JELE9BQU8sV0FBVyxNQUFNLCtCQUErQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxhQUFhLElBQUksTUFBTSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFM0QsT0FBTyxNQUFNLE1BQU0saUJBQWlCLENBQUM7QUFDckMsT0FBTyxNQUFNLE1BQU0sVUFBVSxDQUFDO0FBRTlCLE1BQU0sR0FBRyxHQUFHLEdBQWdCLEVBQUUsQ0FBQyxDQUM3QixvQkFBQyxRQUFRO0lBQ1Asb0JBQUMsV0FBVyxPQUFHO0lBRWYsb0JBQUMsY0FBYyxJQUFDLE1BQU0sRUFBRSxNQUFNO1FBQzVCLG9CQUFDLE1BQU07WUFDTCxvQkFBQyxNQUFNLE9BQUcsQ0FDSCxDQUNNLENBQ1IsQ0FDWixDQUFDO0FBRUYsZUFBZSxHQUFHLENBQUMifQ==","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nReactDOM.render(React.createElement(App, null), document.getElementById(\"root\"));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMxQixPQUFPLFFBQVEsTUFBTSxXQUFXLENBQUM7QUFDakMsT0FBTyxHQUFHLE1BQU0sT0FBTyxDQUFDO0FBRXhCLFFBQVEsQ0FBQyxNQUFNLENBQUMsb0JBQUMsR0FBRyxPQUFHLEVBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDIn0="],"sourceRoot":""}