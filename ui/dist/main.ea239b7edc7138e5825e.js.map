{"version":3,"file":"main.ea239b7edc7138e5825e.js","mappings":"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","sources":["webpack://accounting/../src/apollo/inMemoryCache.ts","webpack://accounting/../src/apollo/link.ts","webpack://accounting/../src/apollo/apollo.ts","webpack://accounting/../src/apollo/resolvers.ts","webpack://accounting/../src/apollo/graphTypes.ts","webpack://accounting/../src/apollo/scalars.ts","webpack://accounting/../src/components/Journal/DataGrid/Grid.gql.ts","webpack://accounting/../src/components/utils/Overlay.tsx","webpack://accounting/../src/components/utils/OverlayLoading.tsx","webpack://accounting/../src/components/utils/useLocalStorage.ts","webpack://accounting/../src/components/Journal/DataGrid/plugins/Filtering.tsx","webpack://accounting/../src/components/Journal/DataGrid/plugins/TableCell.tsx","webpack://accounting/../src/useKISSForm/form.tsx","webpack://accounting/../src/components/Inputs/Date.tsx","webpack://accounting/../src/components/Inputs/shared.tsx","webpack://accounting/../src/components/Inputs/Department.tsx","webpack://accounting/../src/components/Inputs/Entity.tsx","webpack://accounting/../src/components/Inputs/Category.tsx","webpack://accounting/../src/apollo/typeUtils/paymentCardType.ts","webpack://accounting/../src/apollo/typeUtils/accountCard.ts","webpack://accounting/../src/components/Inputs/PaymentMethod.tsx","webpack://accounting/../src/components/Inputs/Description.tsx","webpack://accounting/../src/components/Inputs/RationalInput.tsx","webpack://accounting/../src/components/Inputs/BoolInput.tsx","webpack://accounting/../src/components/Inputs/fieldSets/useEntry.tsx","webpack://accounting/../src/components/Journal/DataGrid/forms/shared.tsx","webpack://accounting/../src/components/Inputs/fieldSets/useName.tsx","webpack://accounting/../src/components/Inputs/Email.tsx","webpack://accounting/../src/components/Inputs/Phone.tsx","webpack://accounting/../src/components/Inputs/fieldSets/usePerson.tsx","webpack://accounting/../src/components/utils/AsyncButton.tsx","webpack://accounting/../src/components/Journal/DataGrid/forms/UpsertEntry.tsx","webpack://accounting/../src/components/Inputs/fieldSets/useRefund.tsx","webpack://accounting/../src/components/Journal/DataGrid/forms/UpsertRefund.tsx","webpack://accounting/../src/components/Journal/DataGrid/forms/DeleteEntry.tsx","webpack://accounting/../src/components/Journal/DataGrid/forms/ReconcileEntries.tsx","webpack://accounting/../src/components/Journal/DataGrid/plugins/EntryActions.tsx","webpack://accounting/../src/components/Journal/DataGrid/cells/shared.ts","webpack://accounting/../src/components/Journal/DataGrid/cells/Bool.tsx","webpack://accounting/../src/components/Journal/DataGrid/cells/Category.tsx","webpack://accounting/../src/components/Journal/DataGrid/filters/rangeFilterUtils.tsx","webpack://accounting/../src/components/Journal/DataGrid/cells/Date.tsx","webpack://accounting/../src/components/Journal/DataGrid/cells/Department.tsx","webpack://accounting/../src/components/Journal/DataGrid/cells/PayMethod.tsx","webpack://accounting/../src/components/Journal/DataGrid/cells/Rational.tsx","webpack://accounting/../src/components/Journal/DataGrid/cells/Source.tsx","webpack://accounting/../src/components/Journal/DataGrid/filters/DefaultEditor.tsx","webpack://accounting/../src/components/Journal/DataGrid/plugins/GridTitle.tsx","webpack://accounting/../src/components/Journal/DataGrid/plugins/ExportGrid.tsx","webpack://accounting/../src/components/Journal/DataGrid/plugins/GridMenu.tsx","webpack://accounting/../src/components/Journal/DataGrid/Grid.tsx","webpack://accounting/../src/components/Dashboard/ReportData.gql.ts","webpack://accounting/../src/components/Dashboard/Dashboard.tsx","webpack://accounting/../src/components/TopNav.tsx","webpack://accounting/../src/Routes.tsx","webpack://accounting/../src/index.tsx","webpack://accounting/../src/App.tsx"],"sourcesContent":["import { InMemoryCache,\n// IntrospectionFragmentMatcher,\n } from \"@apollo/client\";\nimport fragmentTypes from \"./fragmentTypes.json\";\n// const fragmentMatcher = new IntrospectionFragmentMatcher({\n//   introspectionQueryResultData,\n// });\nconst inMemoryCache = new InMemoryCache({\n    ...fragmentTypes,\n    addTypename: true,\n});\nexport default inMemoryCache;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5NZW1vcnlDYWNoZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hcG9sbG8vaW5NZW1vcnlDYWNoZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsYUFBYTtBQUNiLGdDQUFnQztFQUNqQyxNQUFNLGdCQUFnQixDQUFDO0FBRXhCLE9BQU8sYUFBYSxNQUFNLHNCQUFzQixDQUFDO0FBRWpELDZEQUE2RDtBQUM3RCxrQ0FBa0M7QUFDbEMsTUFBTTtBQUVOLE1BQU0sYUFBYSxHQUFHLElBQUksYUFBYSxDQUFDO0lBQ3RDLEdBQUcsYUFBYTtJQUNoQixXQUFXLEVBQUUsSUFBSTtDQUNsQixDQUFDLENBQUM7QUFFSCxlQUFlLGFBQWEsQ0FBQyJ9","import { BatchHttpLink } from \"@apollo/client/link/batch-http\";\nimport { onError } from \"@apollo/client/link/error\";\nimport { getMainDefinition } from \"@apollo/client/utilities\";\nimport { ApolloLink, HttpLink } from \"@apollo/client\";\nconst batchHttpLink = new BatchHttpLink({\n    uri: \"/graphql\",\n    credentials: \"same-origin\",\n});\nconst httpLink = new HttpLink({\n    uri: `ws://${window.location.host}/graphql`,\n});\nconst link = ApolloLink.from([\n    onError(({ graphQLErrors, networkError }) => {\n        if (graphQLErrors)\n            graphQLErrors.forEach(({ message, locations, path }) => console.error(`[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`));\n        if (networkError)\n            console.error(`[Network error]: ${networkError}`);\n    }),\n    ApolloLink.split(({ query }) => {\n        const def = getMainDefinition(query);\n        return (def.kind === \"OperationDefinition\" && def.operation === \"subscription\");\n    }, httpLink, batchHttpLink),\n]);\nexport default link;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGluay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hcG9sbG8vbGluay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDL0QsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzdELE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFdEQsTUFBTSxhQUFhLEdBQUcsSUFBSSxhQUFhLENBQUM7SUFDdEMsR0FBRyxFQUFFLFVBQVU7SUFDZixXQUFXLEVBQUUsYUFBYTtDQUMzQixDQUFDLENBQUM7QUFFSCxNQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQztJQUM1QixHQUFHLEVBQUUsUUFBUSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksVUFBVTtDQUM1QyxDQUFDLENBQUM7QUFFSCxNQUFNLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO0lBQzNCLE9BQU8sQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUU7UUFDMUMsSUFBSSxhQUFhO1lBQ2YsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQ3JELE9BQU8sQ0FBQyxLQUFLLENBQ1gsNkJBQTZCLE9BQU8sZUFBZSxTQUFTLFdBQVcsSUFBSSxFQUFFLENBQzlFLENBQ0YsQ0FBQztRQUNKLElBQUksWUFBWTtZQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsb0JBQW9CLFlBQVksRUFBRSxDQUFDLENBQUM7SUFDdEUsQ0FBQyxDQUFDO0lBQ0YsVUFBVSxDQUFDLEtBQUssQ0FDZCxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtRQUNaLE1BQU0sR0FBRyxHQUFHLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sQ0FDTCxHQUFHLENBQUMsSUFBSSxLQUFLLHFCQUFxQixJQUFJLEdBQUcsQ0FBQyxTQUFTLEtBQUssY0FBYyxDQUN2RSxDQUFDO0lBQ0osQ0FBQyxFQUNELFFBQVEsRUFDUixhQUFhLENBQ2Q7Q0FDRixDQUFDLENBQUM7QUFFSCxlQUFlLElBQUksQ0FBQyJ9","import { ApolloClient } from \"@apollo/client\";\nimport cache from \"./inMemoryCache\";\nimport resolvers from \"./resolvers\";\nimport link from \"./link\";\nexport default new ApolloClient({\n    link,\n    cache,\n    resolvers,\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBvbGxvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Fwb2xsby9hcG9sbG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTlDLE9BQU8sS0FBSyxNQUFNLGlCQUFpQixDQUFDO0FBQ3BDLE9BQU8sU0FBUyxNQUFNLGFBQWEsQ0FBQztBQUNwQyxPQUFPLElBQUksTUFBTSxRQUFRLENBQUM7QUFFMUIsZUFBZSxJQUFJLFlBQVksQ0FBQztJQUM5QixJQUFJO0lBQ0osS0FBSztJQUNMLFNBQVM7Q0FDVixDQUFDLENBQUMifQ==","const resolvers = {};\nexport default resolvers;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Fwb2xsby9yZXNvbHZlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxTQUFTLEdBQWMsRUFBRSxDQUFDO0FBRWhDLGVBQWUsU0FBUyxDQUFDIn0=","export var AccountType;\n(function (AccountType) {\n    AccountType[\"Checking\"] = \"CHECKING\";\n    AccountType[\"CreditCard\"] = \"CREDIT_CARD\";\n})(AccountType || (AccountType = {}));\nexport var Currency;\n(function (Currency) {\n    Currency[\"Usd\"] = \"USD\";\n})(Currency || (Currency = {}));\nexport var EntityType;\n(function (EntityType) {\n    EntityType[\"Business\"] = \"BUSINESS\";\n    EntityType[\"Department\"] = \"DEPARTMENT\";\n    EntityType[\"Person\"] = \"PERSON\";\n})(EntityType || (EntityType = {}));\nexport var EntryType;\n(function (EntryType) {\n    EntryType[\"Credit\"] = \"CREDIT\";\n    EntryType[\"Debit\"] = \"DEBIT\";\n})(EntryType || (EntryType = {}));\nexport var PaymentCardType;\n(function (PaymentCardType) {\n    PaymentCardType[\"AmericanExpress\"] = \"AMERICAN_EXPRESS\";\n    PaymentCardType[\"Discover\"] = \"DISCOVER\";\n    PaymentCardType[\"MasterCard\"] = \"MASTER_CARD\";\n    PaymentCardType[\"Visa\"] = \"VISA\";\n})(PaymentCardType || (PaymentCardType = {}));\nexport var PaymentMethodType;\n(function (PaymentMethodType) {\n    PaymentMethodType[\"Card\"] = \"CARD\";\n    PaymentMethodType[\"Cash\"] = \"CASH\";\n    PaymentMethodType[\"Check\"] = \"CHECK\";\n    PaymentMethodType[\"Combination\"] = \"COMBINATION\";\n    PaymentMethodType[\"Online\"] = \"ONLINE\";\n    PaymentMethodType[\"Unknown\"] = \"UNKNOWN\";\n})(PaymentMethodType || (PaymentMethodType = {}));\n/** https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#advanced_searching_with_flags */\nexport var RegexFlags;\n(function (RegexFlags) {\n    /** Global search. */\n    RegexFlags[\"G\"] = \"G\";\n    /** Case-insensitive search. */\n    RegexFlags[\"I\"] = \"I\";\n    /** Multi-line search. */\n    RegexFlags[\"M\"] = \"M\";\n    /** Allows . to match newline characters. */\n    RegexFlags[\"S\"] = \"S\";\n})(RegexFlags || (RegexFlags = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JhcGhUeXBlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hcG9sbG8vZ3JhcGhUeXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEyRkEsTUFBTSxDQUFOLElBQVksV0FHWDtBQUhELFdBQVksV0FBVztJQUNyQixvQ0FBcUIsQ0FBQTtJQUNyQix5Q0FBMEIsQ0FBQTtBQUM1QixDQUFDLEVBSFcsV0FBVyxLQUFYLFdBQVcsUUFHdEI7QUFpSUQsTUFBTSxDQUFOLElBQVksUUFFWDtBQUZELFdBQVksUUFBUTtJQUNsQix1QkFBVyxDQUFBO0FBQ2IsQ0FBQyxFQUZXLFFBQVEsS0FBUixRQUFRLFFBRW5CO0FBMkRELE1BQU0sQ0FBTixJQUFZLFVBSVg7QUFKRCxXQUFZLFVBQVU7SUFDcEIsbUNBQXFCLENBQUE7SUFDckIsdUNBQXlCLENBQUE7SUFDekIsK0JBQWlCLENBQUE7QUFDbkIsQ0FBQyxFQUpXLFVBQVUsS0FBVixVQUFVLFFBSXJCO0FBbUhELE1BQU0sQ0FBTixJQUFZLFNBR1g7QUFIRCxXQUFZLFNBQVM7SUFDbkIsOEJBQWlCLENBQUE7SUFDakIsNEJBQWUsQ0FBQTtBQUNqQixDQUFDLEVBSFcsU0FBUyxLQUFULFNBQVMsUUFHcEI7QUFzSkQsTUFBTSxDQUFOLElBQVksZUFLWDtBQUxELFdBQVksZUFBZTtJQUN6Qix1REFBb0MsQ0FBQTtJQUNwQyx3Q0FBcUIsQ0FBQTtJQUNyQiw2Q0FBMEIsQ0FBQTtJQUMxQixnQ0FBYSxDQUFBO0FBQ2YsQ0FBQyxFQUxXLGVBQWUsS0FBZixlQUFlLFFBSzFCO0FBK0VELE1BQU0sQ0FBTixJQUFZLGlCQU9YO0FBUEQsV0FBWSxpQkFBaUI7SUFDM0Isa0NBQWEsQ0FBQTtJQUNiLGtDQUFhLENBQUE7SUFDYixvQ0FBZSxDQUFBO0lBQ2YsZ0RBQTJCLENBQUE7SUFDM0Isc0NBQWlCLENBQUE7SUFDakIsd0NBQW1CLENBQUE7QUFDckIsQ0FBQyxFQVBXLGlCQUFpQixLQUFqQixpQkFBaUIsUUFPNUI7QUEwTUQsc0hBQXNIO0FBQ3RILE1BQU0sQ0FBTixJQUFZLFVBU1g7QUFURCxXQUFZLFVBQVU7SUFDcEIscUJBQXFCO0lBQ3JCLHFCQUFPLENBQUE7SUFDUCwrQkFBK0I7SUFDL0IscUJBQU8sQ0FBQTtJQUNQLHlCQUF5QjtJQUN6QixxQkFBTyxDQUFBO0lBQ1AsNENBQTRDO0lBQzVDLHFCQUFPLENBQUE7QUFDVCxDQUFDLEVBVFcsVUFBVSxLQUFWLFVBQVUsUUFTckIifQ==","import Fraction from \"fraction.js\";\nexport const Rational = Fraction;\nexport const serializeRational = (rational) => JSON.stringify(rational);\nexport const deserializeRational = (rationalScaler) => new Fraction(JSON.parse(rationalScaler));\nexport const serializeDate = (date) => date.toISOString();\nexport const deserializeDate = (dateScaler) => new Date(dateScaler);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NhbGFycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hcG9sbG8vc2NhbGFycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFFBQVEsTUFBTSxhQUFhLENBQUM7QUFPbkMsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUVqQyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLFFBQWtCLEVBQWtCLEVBQUUsQ0FDdEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMzQixNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLGNBQThCLEVBQVksRUFBRSxDQUM5RSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7QUFFM0MsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsSUFBVSxFQUFjLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDNUUsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQUMsVUFBc0IsRUFBUSxFQUFFLENBQzlELElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDIn0=","import gql from \"graphql-tag\";\nexport const SOURCE_PERSON = gql `\n  fragment GridEntrySrcPerson on Person {\n    __typename\n    id\n    personName: name {\n      first\n      last\n    }\n  }\n`;\nexport const SOURCE_BUSINESS = gql `\n  fragment GridEntrySrcBusiness on Business {\n    __typename\n    id\n    name\n  }\n`;\nexport const SOURCE_DEPT = gql `\n  fragment GridEntrySrcDept on Department {\n    __typename\n    id\n    name\n  }\n`;\nexport const PAYMENT_METHOD = gql `\n  fragment GridPaymentMethodCard on PaymentMethodCard {\n    __typename\n    card {\n      __typename\n      ... on AccountCard {\n        id\n        active\n        account {\n          __typename\n          ... on AccountCreditCard {\n            id\n            name\n          }\n          ... on AccountChecking {\n            id\n            name\n          }\n        }\n        trailingDigits\n        type\n        aliases {\n          name\n        }\n      }\n      ... on PaymentCard {\n        trailingDigits\n        type\n      }\n    }\n  }\n\n  fragment GridPaymentMethodCheck on PaymentMethodCheck {\n    __typename\n    check {\n      __typename\n      ... on AccountCheck {\n        checkNumber\n        account {\n          __typename\n          id\n          name\n          accountNumber\n        }\n      }\n      ... on PaymentCheck {\n        checkNumber\n      }\n    }\n  }\n\n  fragment GridPaymentMethod on PaymentMethodInterface {\n    __typename\n    currency\n    ...GridPaymentMethodCard\n    ...GridPaymentMethodCheck\n  }\n`;\nexport const REFUND = gql `\n  fragment GridRefund on EntryRefund {\n    __typename\n    id\n    date\n    dateOfRecord {\n      date\n    }\n    description\n    paymentMethod {\n      ...GridPaymentMethod\n    }\n    total\n    reconciled\n    deleted\n  }\n  ${PAYMENT_METHOD}\n`;\nexport const ENTRY_SANS_REFUNDS = gql `\n  fragment GridEntrySansRefunds on Entry {\n    __typename\n    id\n    date\n    dateOfRecord {\n      date\n    }\n    department {\n      __typename\n      id\n      name\n    }\n    category {\n      __typename\n      id\n      name\n      type\n    }\n    paymentMethod {\n      ...GridPaymentMethod\n    }\n    description\n    total\n    source {\n      ...GridEntrySrcPerson\n      ...GridEntrySrcBusiness\n      ...GridEntrySrcDept\n    }\n    reconciled\n    deleted\n  }\n  ${SOURCE_PERSON}\n  ${SOURCE_BUSINESS}\n  ${SOURCE_DEPT}\n  ${PAYMENT_METHOD}\n`;\nexport const ENTRY = gql `\n  fragment GridEntry on Entry {\n    ...GridEntrySansRefunds\n    refunds {\n      ...GridRefund\n    }\n  }\n  ${ENTRY_SANS_REFUNDS}\n  ${REFUND}\n`;\nexport const GRID_ENTRIES = gql `\n  query GridEntries($where: EntriesWhere, $filterRefunds: Boolean) {\n    entries(where: $where, filterRefunds: $filterRefunds) {\n      ...GridEntry\n    }\n  }\n  ${ENTRY}\n`;\nexport const GRID_ENTRY_REFUND = gql `\n  fragment GridEntryRefund on EntryRefund {\n    ...GridRefund\n    entry {\n      ...GridEntrySansRefunds\n    }\n  }\n  ${REFUND}\n  ${ENTRY_SANS_REFUNDS}\n`;\nexport const GRID_ENTRY_REFUNDS = gql `\n  query GridEntryRefunds(\n    $where: EntryRefundsWhere\n    $entriesWhere: EntriesWhere\n  ) {\n    entryRefunds(where: $where, entriesWhere: $entriesWhere) {\n      ...GridEntryRefund\n    }\n  }\n  ${GRID_ENTRY_REFUND}\n`;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3JpZC5ncWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL0RhdGFHcmlkL0dyaWQuZ3FsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLGFBQWEsQ0FBQztBQUU5QixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Q0FTL0IsQ0FBQztBQUNGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxHQUFHLENBQUE7Ozs7OztDQU1qQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQTs7Ozs7O0NBTTdCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0F5RGhDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7O0lBZ0JyQixjQUFjO0NBQ2pCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBZ0NqQyxhQUFhO0lBQ2IsZUFBZTtJQUNmLFdBQVc7SUFDWCxjQUFjO0NBQ2pCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFBOzs7Ozs7O0lBT3BCLGtCQUFrQjtJQUNsQixNQUFNO0NBQ1QsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUE7Ozs7OztJQU0zQixLQUFLO0NBQ1IsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLEdBQUcsQ0FBQTs7Ozs7OztJQU9oQyxNQUFNO0lBQ04sa0JBQWtCO0NBQ3JCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7OztJQVNqQyxpQkFBaUI7Q0FDcEIsQ0FBQyJ9","import React from \"react\";\nimport { useTheme, Box } from \"@material-ui/core\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nconst Overlay = (props) => {\n    const theme = useTheme();\n    const { opacity = 0.62, ...boxProps } = props;\n    return (React.createElement(Box, { overflow: \"auto\", position: \"absolute\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"100%\", top: \"0px\", bottom: \"0px\", bgcolor: fade(theme.palette.background.paper, opacity), ...boxProps }));\n};\nexport default Overlay;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3ZlcmxheS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL3V0aWxzL092ZXJsYXkudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMxQixPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBbUIsTUFBTSxtQkFBbUIsQ0FBQztBQUNuRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFFakUsTUFBTSxPQUFPLEdBQUcsQ0FDZCxLQW9CQyxFQUNZLEVBQUU7SUFDZixNQUFNLEtBQUssR0FBRyxRQUFRLEVBQUUsQ0FBQztJQUV6QixNQUFNLEVBQUUsT0FBTyxHQUFHLElBQUksRUFBRSxHQUFHLFFBQVEsRUFBRSxHQUFHLEtBQUssQ0FBQztJQUU5QyxPQUFPLENBQ0wsb0JBQUMsR0FBRyxJQUNGLFFBQVEsRUFBQyxNQUFNLEVBQ2YsUUFBUSxFQUFDLFVBQVUsRUFDbkIsT0FBTyxFQUFDLE1BQU0sRUFDZCxVQUFVLEVBQUMsUUFBUSxFQUNuQixjQUFjLEVBQUMsUUFBUSxFQUN2QixLQUFLLEVBQUMsTUFBTSxFQUNaLEdBQUcsRUFBQyxLQUFLLEVBQ1QsTUFBTSxFQUFDLEtBQUssRUFDWixPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsS0FDbEQsUUFBUSxHQUNaLENBQ0gsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGVBQWUsT0FBTyxDQUFDIn0=","import React from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Overlay from \"./Overlay\";\nconst OverlayLoading = (props) => {\n    return React.createElement(Overlay, { ...props }, React.createElement(CircularProgress, null));\n};\nexport default OverlayLoading;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3ZlcmxheUxvYWRpbmcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy91dGlscy9PdmVybGF5TG9hZGluZy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQzFCLE9BQU8sRUFBRSxnQkFBZ0IsRUFBUyxNQUFNLG1CQUFtQixDQUFDO0FBRTVELE9BQU8sT0FBTyxNQUFNLFdBQVcsQ0FBQztBQUVoQyxNQUFNLGNBQWMsR0FBRyxDQUFDLEtBRXZCLEVBQWUsRUFBRTtJQUNoQixPQUFPLG9CQUFDLE9BQU8sT0FBSyxLQUFLLElBQUcsb0JBQUMsZ0JBQWdCLE9BQUcsQ0FBVyxDQUFDO0FBQzlELENBQUMsQ0FBQztBQUVGLGVBQWUsY0FBYyxDQUFDIn0=","import { useCallback, useState } from \"react\";\nconst useLocalStorage = ({ defaultValue, cacheKey, serializer, }) => {\n    const [state, setState] = useState(() => {\n        if (window.localStorage) {\n            const cachedItemStr = window.localStorage.getItem(cacheKey);\n            if (cachedItemStr) {\n                const { item } = ((serializer === null || serializer === void 0 ? void 0 : serializer.deserialize) || JSON.parse)(cachedItemStr);\n                return item;\n            }\n            else {\n                return defaultValue;\n            }\n        }\n        else {\n            return defaultValue;\n        }\n    });\n    return [\n        state,\n        useCallback((item) => {\n            setState((prevState) => {\n                const nextState = typeof item === \"function\"\n                    ? item(prevState)\n                    : item;\n                if (window.localStorage) {\n                    window.localStorage.setItem(cacheKey, ((serializer === null || serializer === void 0 ? void 0 : serializer.serialize) || JSON.stringify)({\n                        item: nextState,\n                    }));\n                }\n                return nextState;\n            });\n        }, [cacheKey, serializer === null || serializer === void 0 ? void 0 : serializer.serialize]),\n    ];\n};\nexport default useLocalStorage;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlTG9jYWxTdG9yYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvdXRpbHMvdXNlTG9jYWxTdG9yYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBNEIsV0FBVyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQVd4RSxNQUFNLGVBQWUsR0FBRyxDQUFJLEVBQzFCLFlBQVksRUFDWixRQUFRLEVBQ1IsVUFBVSxHQUNZLEVBQW9DLEVBQUU7SUFDNUQsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxRQUFRLENBQUksR0FBRyxFQUFFO1FBQ3pDLElBQUksTUFBTSxDQUFDLFlBQVksRUFBRTtZQUN2QixNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1RCxJQUFJLGFBQWEsRUFBRTtnQkFDakIsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQSxVQUFVLGFBQVYsVUFBVSx1QkFBVixVQUFVLENBQUUsV0FBVyxLQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FDdEQsYUFBYSxDQUdkLENBQUM7Z0JBRUYsT0FBTyxJQUFJLENBQUM7YUFDYjtpQkFBTTtnQkFDTCxPQUFPLFlBQVksQ0FBQzthQUNyQjtTQUNGO2FBQU07WUFDTCxPQUFPLFlBQVksQ0FBQztTQUNyQjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsT0FBTztRQUNMLEtBQUs7UUFDTCxXQUFXLENBQ1QsQ0FBQyxJQUF1QixFQUFFLEVBQUU7WUFDMUIsUUFBUSxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUU7Z0JBQ3JCLE1BQU0sU0FBUyxHQUNiLE9BQU8sSUFBSSxLQUFLLFVBQVU7b0JBQ3hCLENBQUMsQ0FBRSxJQUE0QixDQUFDLFNBQVMsQ0FBQztvQkFDMUMsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDWCxJQUFJLE1BQU0sQ0FBQyxZQUFZLEVBQUU7b0JBQ3ZCLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUN6QixRQUFRLEVBQ1IsQ0FBQyxDQUFBLFVBQVUsYUFBVixVQUFVLHVCQUFWLFVBQVUsQ0FBRSxTQUFTLEtBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUN4QyxJQUFJLEVBQUUsU0FBUztxQkFDaEIsQ0FBQyxDQUNILENBQUM7aUJBQ0g7Z0JBQ0QsT0FBTyxTQUFTLENBQUM7WUFDbkIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLEVBQ0QsQ0FBQyxRQUFRLEVBQUUsVUFBVSxhQUFWLFVBQVUsdUJBQVYsVUFBVSxDQUFFLFNBQVMsQ0FBQyxDQUNsQztLQUNGLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixlQUFlLGVBQWUsQ0FBQyJ9","import React, { useCallback, useMemo, useState } from \"react\";\nimport { Getter, Plugin, Action, } from \"@devexpress/dx-react-core\";\nimport { FilteringState as FilteringStateDevEx, } from \"@devexpress/dx-react-grid\";\nimport { changeColumnFilter as changeColumnFilterDevEx } from \"@devexpress/dx-grid-core\";\nconst generateLogicFilterExpressionsFilters = (columnName, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\noperator, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfilters) => filters.reduce((filters, filter) => {\n    if (\"operator\" in filter) {\n        const subFilterExpression = generateLogicFiltersExpression(columnName, filter);\n        // Hoist like operators\n        if (subFilterExpression.operator === operator) {\n            filters.push(...subFilterExpression.filters);\n        }\n        else {\n            filters.push(subFilterExpression);\n        }\n    }\n    else {\n        filters.push({ columnName, ...filter });\n    }\n    return filters;\n}, []);\nconst generateLogicFiltersExpression = (columnName, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlogicFilter) => ({\n    operator: logicFilter.operator,\n    filters: generateLogicFilterExpressionsFilters(columnName, logicFilter.operator, logicFilter.filters),\n});\nconst _hasColumnFilters = (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfilters) => filters.some((filter) => \"operator\" in filter\n    ? _hasColumnFilters(filter.filters)\n    : filter.value !== undefined);\nexport const FilteringState = ({ filters: filtersProp, onFiltersChange: onFiltersChangeProp, namedFilters: namedFiltersProp, onNamedFiltersChange: onNamedFiltersChangeProp, ...rest }) => {\n    // Named Filters\n    const [loadedNamedFilter, setLoadedNamedFilter] = useState(null);\n    const loadNamedFilter = useCallback((payload) => {\n        const name = payload;\n        if (namedFiltersProp &&\n            name in namedFiltersProp &&\n            name !== loadedNamedFilter) {\n            setLoadedNamedFilter(name);\n            onFiltersChangeProp(namedFiltersProp[name]);\n        }\n    }, [loadedNamedFilter, namedFiltersProp, onFiltersChangeProp]);\n    // Add new named filters\n    const [addedNamedFilters, setAddedNamedFilters] = useState([]);\n    const addNamedFilters = useCallback((payload) => {\n        setAddedNamedFilters(payload);\n    }, []);\n    const commitAddedNamedFilters = useCallback((payload) => {\n        if (!addedNamedFilters.length) {\n            return;\n        }\n        const newNamedFilters = { ...namedFiltersProp };\n        const [filtersToCommit, newAddedNamedFilters, namedFilterToLoad] = ((payload) => {\n            if (payload) {\n                const [filtersToCommit, namedFilterToLoad] = Array.isArray(payload)\n                    ? [payload, null]\n                    : [\n                        payload.names || addedNamedFilters.map(({ name }) => name),\n                        payload.load || null,\n                    ];\n                return [\n                    ...addedNamedFilters.reduce((returnFilters, addedNamedFilter) => {\n                        if (filtersToCommit.includes(addedNamedFilter.name)) {\n                            returnFilters[0].push(addedNamedFilter);\n                        }\n                        else {\n                            returnFilters[1].push(addedNamedFilter);\n                        }\n                        return returnFilters;\n                    }, [[], []]),\n                    namedFilterToLoad,\n                ];\n            }\n            else {\n                return [[...addedNamedFilters], [], null];\n            }\n        })(payload);\n        for (const { name, filters } of filtersToCommit) {\n            newNamedFilters[name] = filters;\n        }\n        if (onNamedFiltersChangeProp) {\n            onNamedFiltersChangeProp(newNamedFilters);\n        }\n        setAddedNamedFilters(newAddedNamedFilters);\n        if (namedFilterToLoad) {\n            setLoadedNamedFilter(namedFilterToLoad);\n        }\n    }, [addedNamedFilters, namedFiltersProp, onNamedFiltersChangeProp]);\n    const changeAddedNamedFilter = useCallback((payload) => {\n        const { name, change } = payload;\n        for (let i = 0; i < addedNamedFilters.length; i++) {\n            if (addedNamedFilters[i].name === name) {\n                const newAddedNamedFilters = [...addedNamedFilters];\n                newAddedNamedFilters.splice(i, 1, {\n                    ...addedNamedFilters[i],\n                    ...change,\n                });\n                setAddedNamedFilters(newAddedNamedFilters);\n            }\n        }\n    }, [addedNamedFilters]);\n    const cancelAddedNamedFilters = useCallback((payload) => void setAddedNamedFilters(addedNamedFilters.filter(({ name }) => !payload.includes(name))), [addedNamedFilters]);\n    // Modify named filters\n    const [namedFilterChanges, setNamedFilterChanges] = useState(null);\n    const changeNamedFilter = useCallback((payload) => {\n        if (payload) {\n            const { name, change } = payload;\n            setNamedFilterChanges(namedFilterChanges\n                ? { ...namedFilterChanges, [name]: change }\n                : { [name]: change });\n        }\n        else if (!namedFilterChanges) {\n            setNamedFilterChanges({});\n        }\n    }, [namedFilterChanges]);\n    const cancelChangedNamedFilters = useCallback((payload) => {\n        if (!namedFilterChanges) {\n            return;\n        }\n        else if (!payload) {\n            setNamedFilterChanges(null);\n            return;\n        }\n        const newNamedFilterChanges = { ...namedFilterChanges };\n        for (const name of payload) {\n            Reflect.deleteProperty(newNamedFilterChanges, name);\n        }\n        setNamedFilterChanges(Object.keys(newNamedFilterChanges).length ? newNamedFilterChanges : null);\n    }, [namedFilterChanges]);\n    const commitChangedNamedFilters = useCallback((payload) => {\n        if (!namedFilterChanges) {\n            return;\n        }\n        const namedFiltersToCommit = payload || Object.keys(namedFilterChanges);\n        if (!namedFiltersToCommit.length) {\n            if (!Object.keys(namedFilterChanges).length) {\n                setNamedFilterChanges(null);\n            }\n            return;\n        }\n        const newNamedFilterChanges = { ...namedFilterChanges };\n        const newNamedFilters = { ...namedFiltersProp };\n        for (const namedFilter of namedFiltersToCommit) {\n            if (!(namedFilter in namedFilterChanges)) {\n                continue; // Invalid change\n            }\n            const { name, filters: newFilters } = namedFilterChanges[namedFilter];\n            const filters = newFilters || (namedFiltersProp || {})[namedFilter];\n            if (!filters) {\n                continue; // No filters is an invalid change\n                // Name change\n            }\n            else if (name && name !== namedFilter) {\n                newNamedFilters[name] = filters;\n                Reflect.deleteProperty(newNamedFilters, namedFilter);\n            }\n            else {\n                newNamedFilters[namedFilter] = filters;\n            }\n            // Remove change from newNamedFilterChanges\n            Reflect.deleteProperty(newNamedFilterChanges, namedFilter);\n        }\n        if (onNamedFiltersChangeProp) {\n            onNamedFiltersChangeProp(newNamedFilters);\n        }\n        setNamedFilterChanges(Object.keys(newNamedFilterChanges).length ? newNamedFilterChanges : null);\n    }, [namedFilterChanges, namedFiltersProp, onNamedFiltersChangeProp]);\n    // Delete named filters\n    const [deletedNamedFilters, setDeletedNamedFilters] = useState([]);\n    const deleteNamedFilters = useCallback((payload) => void setDeletedNamedFilters((state) => [\n        ...new Set([...state, ...payload]),\n    ]), []);\n    const cancelDeletedNamedFilters = useCallback((payload) => {\n        setDeletedNamedFilters((deletedNamedFilters) => payload\n            ? deletedNamedFilters.filter((name) => !payload.includes(name))\n            : []);\n    }, []);\n    const commitDeletedNamedFilters = useCallback((payload) => {\n        if (deletedNamedFilters.length) {\n            const newNamedFilters = { ...namedFiltersProp };\n            const newDeletedNamedFilters = new Set([...deletedNamedFilters]);\n            for (const name of deletedNamedFilters) {\n                if (!payload || payload.includes(name)) {\n                    Reflect.deleteProperty(newNamedFilters, name);\n                    // Remove committed delete\n                    newDeletedNamedFilters.delete(name);\n                }\n            }\n            if (loadedNamedFilter &&\n                deletedNamedFilters.includes(loadedNamedFilter)) {\n                onFiltersChangeProp([]);\n                setLoadedNamedFilter(null);\n            }\n            if (onNamedFiltersChangeProp) {\n                onNamedFiltersChangeProp(newNamedFilters);\n            }\n            setDeletedNamedFilters([...newDeletedNamedFilters]);\n        }\n    }, [\n        deletedNamedFilters,\n        loadedNamedFilter,\n        namedFiltersProp,\n        onFiltersChangeProp,\n        onNamedFiltersChangeProp,\n    ]);\n    // Filters\n    const [filters, columnLogicFilters] = useMemo(() => filtersProp.reduce((filters, filter) => {\n        if (\"operator\" in filter) {\n            filters[1].push(filter);\n        }\n        else {\n            filters[0].push(filter);\n        }\n        return filters;\n    }, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [[], []]), [filtersProp]);\n    const filtersComputed = useCallback(({ filters }) => {\n        const f = [\n            ...new Set(filters\n                ? [...filters, ...columnLogicFilters]\n                : [...columnLogicFilters]),\n        ];\n        return f;\n    }, [columnLogicFilters]);\n    const filterExpressionComputed = useCallback(({ filterExpression }) => {\n        const andFilters = [];\n        if (filterExpression) {\n            if (filterExpression.operator === \"and\") {\n                andFilters.push(...filterExpression.filters);\n            }\n            else {\n                andFilters.push(filterExpression);\n            }\n        }\n        if (columnLogicFilters.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            for (const filter of columnLogicFilters) {\n                const filters = generateLogicFilterExpressionsFilters(filter.columnName, filter.operator, filter.filters);\n                // Hoist like operators\n                if (filter.operator === \"and\") {\n                    andFilters.push(...filters);\n                }\n                else {\n                    andFilters.push({\n                        operator: filter.operator,\n                        filters,\n                    });\n                }\n            }\n        }\n        return {\n            operator: \"and\",\n            filters: andFilters,\n        };\n    }, [columnLogicFilters]);\n    const changeColumnFilter = useCallback((payload, { filters }) => {\n        const newFilters = changeColumnFilterDevEx(filters || [], payload);\n        setLoadedNamedFilter(null);\n        onFiltersChangeProp(newFilters);\n    }, [onFiltersChangeProp]);\n    const clearColumnFilters = useCallback(() => {\n        onFiltersChangeProp([]);\n        setLoadedNamedFilter(null);\n    }, [onFiltersChangeProp]);\n    const hasColumnFilters = useMemo(() => _hasColumnFilters(filtersProp), [filtersProp]);\n    const hasNamedFilters = useMemo(() => (namedFiltersProp ? !!Object.keys(namedFiltersProp).length : false), [namedFiltersProp]);\n    return (React.createElement(Plugin, { name: \"FilteringState\" },\n        React.createElement(FilteringStateDevEx, { filters: filters, ...rest }),\n        React.createElement(Getter, { name: \"filters\", computed: filtersComputed }),\n        React.createElement(Getter, { name: \"filterExpression\", computed: filterExpressionComputed }),\n        React.createElement(Getter, { name: \"hasColumnFilters\", value: hasColumnFilters }),\n        React.createElement(Getter, { name: \"hasNamedFilters\", value: hasNamedFilters }),\n        React.createElement(Action, { name: \"changeColumnFilter\", action: changeColumnFilter }),\n        React.createElement(Action, { name: \"clearColumnFilters\", action: clearColumnFilters }),\n        React.createElement(Getter, { name: \"namedFilters\", value: hasNamedFilters ? namedFiltersProp : null }),\n        React.createElement(Getter, { name: \"loadedNamedFilter\", value: loadedNamedFilter }),\n        React.createElement(Getter, { name: \"addedNamedFilters\", value: addedNamedFilters }),\n        React.createElement(Getter, { name: \"deletedNamedFilters\", value: deletedNamedFilters }),\n        React.createElement(Getter, { name: \"namedFilterChanges\", value: namedFilterChanges }),\n        React.createElement(Action, { name: \"addNamedFilters\", action: addNamedFilters }),\n        React.createElement(Action, { name: \"changeAddedNamedFilter\", action: changeAddedNamedFilter }),\n        React.createElement(Action, { name: \"cancelAddedNamedFilters\", action: cancelAddedNamedFilters }),\n        React.createElement(Action, { name: \"commitAddedNamedFilters\", action: commitAddedNamedFilters }),\n        React.createElement(Action, { name: \"changeNamedFilter\", action: changeNamedFilter }),\n        React.createElement(Action, { name: \"cancelChangedNamedFilters\", action: cancelChangedNamedFilters }),\n        React.createElement(Action, { name: \"commitChangedNamedFilters\", action: commitChangedNamedFilters }),\n        React.createElement(Action, { name: \"loadNamedFilter\", action: loadNamedFilter }),\n        React.createElement(Action, { name: \"deleteNamedFilters\", action: deleteNamedFilters }),\n        React.createElement(Action, { name: \"cancelDeletedNamedFilters\", action: cancelDeletedNamedFilters }),\n        React.createElement(Action, { name: \"commitDeletedNamedFilters\", action: commitDeletedNamedFilters })));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmlsdGVyaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9wbHVnaW5zL0ZpbHRlcmluZy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUM5RCxPQUFPLEVBQ0wsTUFBTSxFQUNOLE1BQU0sRUFFTixNQUFNLEdBRVAsTUFBTSwyQkFBMkIsQ0FBQztBQUNuQyxPQUFPLEVBQ0wsY0FBYyxJQUFJLG1CQUFtQixHQUl0QyxNQUFNLDJCQUEyQixDQUFDO0FBRW5DLE9BQU8sRUFBRSxrQkFBa0IsSUFBSSx1QkFBdUIsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBcUh6RixNQUFNLHFDQUFxQyxHQUFHLENBQzVDLFVBQWtCO0FBQ2xCLDhEQUE4RDtBQUM5RCxRQUFvRDtBQUNwRCw4REFBOEQ7QUFDOUQsT0FBa0QsRUFDbEQsRUFBRSxDQUNGLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7SUFDakMsSUFBSSxVQUFVLElBQUksTUFBTSxFQUFFO1FBQ3hCLE1BQU0sbUJBQW1CLEdBQUcsOEJBQThCLENBQ3hELFVBQVUsRUFDVixNQUFNLENBQ1AsQ0FBQztRQUNGLHVCQUF1QjtRQUN2QixJQUFJLG1CQUFtQixDQUFDLFFBQVEsS0FBSyxRQUFRLEVBQUU7WUFDN0MsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzlDO2FBQU07WUFDTCxPQUFPLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7U0FDbkM7S0FDRjtTQUFNO1FBQ0wsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLFVBQVUsRUFBRSxHQUFHLE1BQU0sRUFBRSxDQUFDLENBQUM7S0FDekM7SUFFRCxPQUFPLE9B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","import React, { useCallback, useMemo } from \"react\";\nimport { Table, TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport { Plugin, Template, TemplateConnector, TemplatePlaceholder, } from \"@devexpress/dx-react-core\";\nexport const mergeTableCellProps = (...props) => props.reduce((prevProps, nextProps) => {\n    if (typeof prevProps === \"function\") {\n        if (typeof nextProps === \"function\") {\n            return (props) => nextProps(prevProps(props));\n        }\n        else {\n            return (props) => ({\n                ...prevProps(props),\n                ...nextProps,\n            });\n        }\n    }\n    else if (typeof nextProps === \"function\") {\n        return (props) => nextProps({\n            ...props,\n            ...prevProps,\n        });\n    }\n    else {\n        return {\n            ...prevProps,\n            ...nextProps,\n        };\n    }\n});\nconst isDataCell = ({ tableRow, tableColumn }) => tableRow.type === Table.ROW_TYPE && tableColumn.type === Table.COLUMN_TYPE;\nconst isFilterCell = ({ tableRow, tableColumn }) => tableRow.type === TableFilterRow.ROW_TYPE &&\n    tableColumn.type === Table.COLUMN_TYPE;\nexport const DataCellProvider = React.memo(function DataCellProvider(props) {\n    return (React.createElement(Plugin, { name: \"DataCellProvider\" },\n        React.createElement(Template, { name: \"tableCell\", predicate: isDataCell }, useCallback((params) => {\n            var _a;\n            const columnName = (((_a = params.tableColumn.column) === null || _a === void 0 ? void 0 : _a.name) ||\n                \"\");\n            const dataCellProviderCellOptions = props[columnName];\n            return (React.createElement(TemplatePlaceholder, { params: {\n                    ...params,\n                    dataCellProviderCellOptions,\n                } }));\n        }, [props]))));\n});\nexport const FilterCellProvider = (props) => {\n    return (React.createElement(Plugin, { name: \"FilterCellProvider\" },\n        React.createElement(Template, { name: \"tableCell\", predicate: isFilterCell }, useCallback((params) => {\n            var _a;\n            const columnName = (((_a = params.tableColumn.column) === null || _a === void 0 ? void 0 : _a.name) ||\n                \"\");\n            const cellProviderCellOptions = props[columnName];\n            return (React.createElement(TemplateConnector, null, () => (React.createElement(TemplatePlaceholder, { params: {\n                    ...params,\n                    cellProviderCellOptions,\n                } }))));\n        }, [props]))));\n};\nexport const DataCell = React.memo(function DataCell(props) {\n    const { dataCellProviderCellOptions, ...rest } = props;\n    const CellComponent = (dataCellProviderCellOptions === null || dataCellProviderCellOptions === void 0 ? void 0 : dataCellProviderCellOptions.cell) || Table.Cell;\n    const cellProps = dataCellProviderCellOptions === null || dataCellProviderCellOptions === void 0 ? void 0 : dataCellProviderCellOptions.props;\n    return (React.createElement(CellComponent, { ...(typeof cellProps === \"function\"\n            ? cellProps(rest)\n            : { ...rest, ...cellProps }) }));\n});\nexport const FilterCell = React.memo(function FilterCell(props) {\n    var _a;\n    const { cellProviderCellOptions, changeColumnFilterState, ...rest } = props;\n    const { cell: CellComponent = TableFilterRow.Cell, props: cellProps = {} } = cellProviderCellOptions || {};\n    const filterCellProps = typeof cellProps === \"function\"\n        ? cellProps(rest)\n        : {\n            ...rest,\n            ...cellProps,\n        };\n    const onFilter = useMemo(() => {\n        if (changeColumnFilterState) {\n            return (filter) => {\n                var _a;\n                if (!filter) {\n                    changeColumnFilterState({\n                        columnName: ((_a = filterCellProps.tableColumn.column) === null || _a === void 0 ? void 0 : _a.name) || \"\",\n                        config: null,\n                    });\n                }\n                else {\n                    const { columnName, ...config } = filter;\n                    changeColumnFilterState({\n                        columnName,\n                        config,\n                    });\n                }\n            };\n        }\n        else {\n            return filterCellProps.onFilter;\n        }\n    }, [\n        filterCellProps.onFilter,\n        changeColumnFilterState,\n        (_a = filterCellProps.tableColumn.column) === null || _a === void 0 ? void 0 : _a.name,\n    ]);\n    return (React.createElement(CellComponent, { ...filterCellProps, onFilter: onFilter }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGVDZWxsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9wbHVnaW5zL1RhYmxlQ2VsbC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDOUUsT0FBTyxFQUNMLE1BQU0sRUFDTixRQUFRLEVBQ1IsaUJBQWlCLEVBQ2pCLG1CQUFtQixHQUVwQixNQUFNLDJCQUEyQixDQUFDO0FBZW5DLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLENBQ2pDLEdBQUcsS0FBc0QsRUFDVixFQUFFLENBQ2pELEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDcEMsSUFBSSxPQUFPLFNBQVMsS0FBSyxVQUFVLEVBQUU7UUFDbkMsSUFBSSxPQUFPLFNBQVMsS0FBSyxVQUFVLEVBQUU7WUFDbkMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQy9DO2FBQU07WUFDTCxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNqQixHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7Z0JBQ25CLEdBQUcsU0FBUzthQUNiLENBQUMsQ0FBQztTQUNKO0tBQ0Y7U0FBTSxJQUFJLE9BQU8sU0FBUyxLQUFLLFVBQVUsRUFBRTtRQUMxQyxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FDZixTQUFTLENBQUM7WUFDUixHQUFHLEtBQUs7WUFDUixHQUFHLFNBQVM7U0FDYixDQUFDLENBQUM7S0FDTjtTQUFNO1FBQ0wsT0FBTztZQUNMLEdBQUcsU0FBUztZQUNaLEdBQUcsU0FB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","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Field_name, _Field_form, _Field_props, _Field_state, _Field_shouldUnregister, _FieldValue_value, _Form_fields, _Form_values, _Form_clearedValues, _Form_defaultValues, _Form_isEqualFns, _Form_touchedFields, _Form_validatingFields, _Form_validateOn, _Form_validatingAll, _Form_submitCount, _Form_isSubmitting, _Form_isSubmitted, _Form_submissionError, _Form_loading, _Form_fieldValidators, _Form_fieldWatchers, _Form_formWatchers, _Form_runFieldStateTrackers, _Form_onSubmit, _Form_runFormStateTracker;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useState, createContext, useContext, useMemo, useEffect, useRef, useCallback, } from \"react\";\nimport { set } from \"lodash\";\nclass FieldWatcher {\n    constructor({ nameOrField, form: formArg, watcher, isValueEqual = (a, b) => a === b, }) {\n        this._watcher_ = watcher;\n        if (nameOrField instanceof Field) {\n            this._name_ = nameOrField.props.name;\n            this._stateTracker_ = (() => {\n                const stateTracker = (function* () {\n                    const getSnapShot = () => ({\n                        props: {\n                            value: nameOrField.props.value,\n                        },\n                        state: {\n                            isValid: nameOrField.state.isValid,\n                            isValidating: nameOrField.state.isValidating,\n                            isTouched: nameOrField.state.isTouched,\n                            isDirty: nameOrField.state.isDirty,\n                            isLoading: nameOrField.state.isLoading,\n                            errors: nameOrField.state.errors,\n                        },\n                    });\n                    let prevState = getSnapShot();\n                    while (true) {\n                        const curState = getSnapShot();\n                        yield !(Object.keys(prevState.props).every((key) => {\n                            switch (key) {\n                                case \"value\":\n                                    return isValueEqual(prevState.props[key], curState.props[key]);\n                                default:\n                                    return prevState.props[key] === curState.props[key];\n                            }\n                        }) &&\n                            Object.keys(prevState.state).every((key) => {\n                                switch (key) {\n                                    case \"errors\":\n                                        return (prevState.state[key].length ===\n                                            curState.state[key].length &&\n                                            prevState.state[key].every((error, i) => error === curState.state[key][i]));\n                                    default:\n                                        return prevState.state[key] === curState.state[key];\n                                }\n                            }));\n                        prevState = curState;\n                    }\n                })();\n                // Capture first state\n                stateTracker.next();\n                return () => stateTracker.next().value;\n            })();\n        }\n        else {\n            const form = formArg;\n            this._name_ = nameOrField;\n            this._stateTracker_ = (() => {\n                const stateTracker = function* () {\n                    const getSnapShot = () => ({\n                        value: form.getFieldValue(this.name, false),\n                        errors: [...form.getFieldErrors(this.name)],\n                    });\n                    let prevState = getSnapShot();\n                    while (true) {\n                        const curState = getSnapShot();\n                        yield !Object.keys(prevState).every((key) => {\n                            switch (key) {\n                                case \"errors\":\n                                    return (prevState[key].length === curState[key].length &&\n                                        prevState[key].every((error, i) => error === curState[key][i]));\n                                case \"value\":\n                                    return isValueEqual(prevState[key], curState[key]);\n                                default:\n                                    return prevState[key] === curState[key];\n                            }\n                        });\n                        prevState = curState;\n                    }\n                }.call(this);\n                // Capture first state\n                stateTracker.next();\n                return () => stateTracker.next().value;\n            })();\n        }\n    }\n    get name() {\n        return this._name_;\n    }\n    run(updateId) {\n        if (this._stateTracker_()) {\n            this._watcher_(updateId);\n        }\n    }\n    valueOf() {\n        return this._watcher_;\n    }\n}\nclass FieldValidator {\n    constructor({ field, form, validators, }) {\n        this._field_ = undefined;\n        this._validators_ = [];\n        this._errors_ = [];\n        this._validating_ = null;\n        this._hasRun_ = false;\n        if (field instanceof Field) {\n            this._name_ = field.props.name;\n            this._field_ = field;\n        }\n        else {\n            this._name_ = field;\n        }\n        this._validators_.push(...validators);\n        this._form_ = form;\n    }\n    get name() {\n        return this._name_;\n    }\n    errors() {\n        return this._errors_.values();\n    }\n    reset() {\n        this._validating_ = null;\n        this._errors_.splice(0);\n        this._hasRun_ = false;\n    }\n    validate() {\n        let hasPromise = false;\n        const value = this._form_.getFieldValue(this._name_, true);\n        const errors = this._validators_.reduce((errors, validator) => {\n            const error = validator(value, {\n                name: this._name_,\n                form: this._form_,\n                field: this._field_,\n            });\n            if (error instanceof Promise) {\n                hasPromise = true;\n                errors.push(error);\n            }\n            else if (error) {\n                errors.push(error);\n            }\n            return errors;\n        }, []);\n        if (hasPromise) {\n            const promise = Promise.all(errors).then((results) => {\n                if (this._validating_ !== promise) {\n                    return this._validating_ || !this._errors_.length;\n                }\n                this._validating_ = null;\n                this._hasRun_ = true;\n                const errors = results.filter((error) => !!error);\n                this._errors_.splice(0, this._errors_.length, ...errors);\n                return !errors.length;\n            });\n            this._validating_ = promise;\n            return promise;\n        }\n        else {\n            this._validating_ = null;\n            this._hasRun_ = true;\n            this._errors_.splice(0, this._errors_.length, ...errors);\n            return !errors.length;\n        }\n    }\n    get hasRun() {\n        return this._hasRun_;\n    }\n}\nclass Field {\n    constructor({ name, form, shouldUnregister = false, }) {\n        _Field_name.set(this, void 0);\n        _Field_form.set(this, void 0);\n        _Field_props.set(this, (() => {\n            const propsDef = {\n                value: {\n                    get: () => __classPrivateFieldGet(this, _Field_form, \"f\").getFieldValue(this.props.name, false),\n                    enumerable: true,\n                },\n                name: {\n                    get: () => __classPrivateFieldGet(this, _Field_name, \"f\"),\n                    enumerable: true,\n                },\n            };\n            return Object.create(null, propsDef);\n        })());\n        _Field_state.set(this, (() => {\n            const stateDef = {\n                isValid: {\n                    get: () => __classPrivateFieldGet(this, _Field_form, \"f\").isFieldValid(this.props.name),\n                    enumerable: true,\n                },\n                isValidating: {\n                    get: () => __classPrivateFieldGet(this, _Field_form, \"f\").isFieldValidating(this.props.name),\n                    enumerable: true,\n                },\n                isTouched: {\n                    get: () => __classPrivateFieldGet(this, _Field_form, \"f\").isFieldTouched(this),\n                    enumerable: true,\n                },\n                isDirty: {\n                    get: () => __classPrivateFieldGet(this, _Field_form, \"f\").isFieldDirty(this.props.name),\n                    enumerable: true,\n                },\n                isLoading: {\n                    get: () => __classPrivateFieldGet(this, _Field_form, \"f\").isFieldLoading(this.props.name),\n                    enumerable: true,\n                },\n                errors: {\n                    get: () => [...__classPrivateFieldGet(this, _Field_form, \"f\").getFieldErrors(this.props.name)],\n                    enumerable: true,\n                },\n            };\n            return Object.create(null, stateDef);\n        })());\n        _Field_shouldUnregister.set(this, void 0);\n        this.setValue = (value) => __classPrivateFieldGet(this, _Field_form, \"f\").setFieldValue(this.props.name, value);\n        this.setTouched = (touched) => __classPrivateFieldGet(this, _Field_form, \"f\").setFieldTouched(this, touched);\n        this.validate = () => __classPrivateFieldGet(this, _Field_form, \"f\").validateField(this.props.name);\n        this.reset = () => __classPrivateFieldGet(this, _Field_form, \"f\").resetField(this.props.name);\n        __classPrivateFieldSet(this, _Field_name, name, \"f\");\n        __classPrivateFieldSet(this, _Field_form, form, \"f\");\n        __classPrivateFieldSet(this, _Field_shouldUnregister, shouldUnregister, \"f\");\n        // Add accessors to instance and make enumerable.\n        Object.defineProperties(this, [\"props\", \"state\"].reduce((props, prop) => {\n            props[prop] = {\n                ...Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this), prop),\n                enumerable: true,\n            };\n            return props;\n        }, {}));\n    }\n    get props() {\n        return __classPrivateFieldGet(this, _Field_props, \"f\");\n    }\n    get state() {\n        return __classPrivateFieldGet(this, _Field_state, \"f\");\n    }\n    get shouldUnregister() {\n        return __classPrivateFieldGet(this, _Field_shouldUnregister, \"f\");\n    }\n}\n_Field_name = new WeakMap(), _Field_form = new WeakMap(), _Field_props = new WeakMap(), _Field_state = new WeakMap(), _Field_shouldUnregister = new WeakMap();\nexport class FieldValue {\n    constructor(value) {\n        _FieldValue_value.set(this, void 0);\n        __classPrivateFieldSet(this, _FieldValue_value, value, \"f\");\n    }\n    valueOf() {\n        return __classPrivateFieldGet(this, _FieldValue_value, \"f\");\n    }\n    toString() {\n        return String(__classPrivateFieldGet(this, _FieldValue_value, \"f\"));\n    }\n    static value(value) {\n        return new FieldValue(value);\n    }\n}\n_FieldValue_value = new WeakMap();\nexport const fieldValue = FieldValue.value;\nconst FIELDS = new WeakMap();\nconst VALUES = new WeakMap();\nconst DEFAULT_VALUES = new WeakMap();\nconst IS_EQUAL_FNS = new WeakMap();\nconst LOADING = new WeakMap();\nconst FIELD_VALIDATORS = new WeakMap();\nconst FIELD_WATCHERS = new WeakMap();\nconst FORM_WATCHERS = new WeakMap();\nconst RUN_FIELD_STATE_TRACKERS = new WeakMap();\nconst RUN_FORM_STATE_TRACKER = new WeakMap();\nconst DEFAULT_VALUE_EQUALITY = (a, b) => a === b;\nclass Form {\n    constructor({ onSubmit, validateOn, }) {\n        _Form_fields.set(this, new Map());\n        _Form_values.set(this, new Map());\n        _Form_clearedValues.set(this, new Set());\n        _Form_defaultValues.set(this, new Map());\n        _Form_isEqualFns.set(this, new Map());\n        _Form_touchedFields.set(this, new WeakSet());\n        _Form_validatingFields.set(this, new Map());\n        _Form_validateOn.set(this, void 0);\n        _Form_validatingAll.set(this, null);\n        _Form_submitCount.set(this, 0);\n        _Form_isSubmitting.set(this, false);\n        _Form_isSubmitted.set(this, false);\n        _Form_submissionError.set(this, null);\n        _Form_loading.set(this, new Map());\n        _Form_fieldValidators.set(this, new Map());\n        _Form_fieldWatchers.set(this, new Map());\n        _Form_formWatchers.set(this, new Set());\n        _Form_runFieldStateTrackers.set(this, (name, updateId = Symbol()) => {\n            var _a;\n            for (const fieldWatcher of ((_a = __classPrivateFieldGet(this, _Form_fieldWatchers, \"f\")\n                .get(name)) === null || _a === void 0 ? void 0 : _a.values()) || []) {\n                fieldWatcher.run(updateId);\n            }\n            __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this, updateId);\n        });\n        _Form_onSubmit.set(this, void 0);\n        this.isFieldRegistered = (name) => !!this.getRegisteredField(name);\n        this.getRegisteredField = (name) => __classPrivateFieldGet(this, _Form_fields, \"f\").get(name);\n        this.setFieldValue = (name, value) => {\n            if (value == undefined) {\n                __classPrivateFieldGet(this, _Form_clearedValues, \"f\").add(name);\n                __classPrivateFieldGet(this, _Form_values, \"f\").delete(name);\n            }\n            else {\n                // Do NOT set equal values.  Include defaults.\n                const curValue = this.getFieldValue(name, true);\n                const defaultValue = this.getFieldDefaultValue(name);\n                const isEqual = this.getFieldIsEqual(name);\n                if (curValue !== undefined && isEqual(value, curValue)) {\n                    return;\n                }\n                else if (defaultValue !== undefined && isEqual(value, defaultValue)) {\n                    // Allow default to fall through\n                    __classPrivateFieldGet(this, _Form_values, \"f\").delete(name);\n                }\n                else {\n                    __classPrivateFieldGet(this, _Form_values, \"f\").set(name, value);\n                }\n                __classPrivateFieldGet(this, _Form_clearedValues, \"f\").delete(name);\n            }\n            switch (__classPrivateFieldGet(this, _Form_validateOn, \"f\")) {\n                case \"submit\":\n                    if (this.submitCount > 0 && !this.isFieldValid(name)) {\n                        //NOTE: validateField calls state trackers\n                        this.validateField(name);\n                        return;\n                    }\n                    break;\n                case \"blur\":\n                    // If field is NOT registered validation will occur on change\n                    if (!this.isFieldRegistered(name)) {\n                        //NOTE: validateField calls state trackers\n                        this.validateField(name);\n                        return;\n                    }\n                    break;\n                case \"touched\":\n                    {\n                        // If field is NOT registered validation will occur on change\n                        const field = this.getRegisteredField(name);\n                        if (!field || this.isFieldTouched(field)) {\n                            //NOTE: validateField calls state trackers\n                            this.validateField(name);\n                            return;\n                        }\n                    }\n                    break;\n                case \"all\":\n                case \"change\":\n                    //NOTE: validateField calls state trackers\n                    this.validateField(name);\n                    return;\n            }\n            // If validateField is NOT called, run field state tracker.\n            __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\").call(this, name);\n        };\n        this.getFieldValue = (name, dirtyOnly = true) => {\n            if (__classPrivateFieldGet(this, _Form_values, \"f\").has(name) || dirtyOnly) {\n                return __classPrivateFieldGet(this, _Form_values, \"f\").get(name);\n            }\n            else if (!__classPrivateFieldGet(this, _Form_clearedValues, \"f\").has(name)) {\n                return this.getFieldDefaultValue(name);\n            }\n        };\n        this.getFieldDefaultValue = (name) => {\n            for (const defaultValues of __classPrivateFieldGet(this, _Form_defaultValues, \"f\").values()) {\n                if (defaultValues.has(name)) {\n                    return defaultValues.get(name);\n                }\n            }\n        };\n        this.getFieldIsEqual = (name) => {\n            for (const valueEquality of __classPrivateFieldGet(this, _Form_isEqualFns, \"f\").values()) {\n                if (valueEquality.has(name)) {\n                    return valueEquality.get(name);\n                }\n            }\n            return DEFAULT_VALUE_EQUALITY;\n        };\n        this.isFieldValid = (name) => !!this.getFieldErrors(name).next().done;\n        this.isFieldValidating = (name) => __classPrivateFieldGet(this, _Form_validatingFields, \"f\").has(name);\n        this.isFieldTouched = (field) => __classPrivateFieldGet(this, _Form_touchedFields, \"f\").has(field);\n        this.setFieldTouched = (field, touched, { updateId } = {}) => {\n            if (touched) {\n                const isNotTouched = !this.isFieldTouched(field);\n                if (isNotTouched) {\n                    __classPrivateFieldGet(this, _Form_touchedFields, \"f\").add(field);\n                }\n                switch (__classPrivateFieldGet(this, _Form_validateOn, \"f\")) {\n                    case \"blur\":\n                    case \"all\":\n                        this.validateField(field.props.name, {\n                            updateId,\n                        });\n                        return;\n                    case \"touched\":\n                        if (isNotTouched) {\n                            this.validateField(field.props.name, {\n                                updateId,\n                            });\n                            return;\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\").call(this, field.props.name, updateId);\n            }\n            else if (this.isFieldTouched(field)) {\n                __classPrivateFieldGet(this, _Form_touchedFields, \"f\").delete(field);\n                __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\").call(this, field.props.name, updateId);\n            }\n        };\n        this.setTouchedAll = (touched, { updateId = Symbol() } = {}) => {\n            for (const field of this.fields()) {\n                this.setFieldTouched(field, touched, { updateId });\n            }\n        };\n        this.isFieldDirty = (name) => __classPrivateFieldGet(this, _Form_values, \"f\").has(name) || __classPrivateFieldGet(this, _Form_clearedValues, \"f\").has(name);\n        this.isFieldLoading = (name) => __classPrivateFieldGet(this, _Form_loading, \"f\").has(name);\n        this.isFieldCleared = (name) => __classPrivateFieldGet(this, _Form_clearedValues, \"f\").has(name);\n        this.getFieldErrors = function* (name) {\n            var _a;\n            for (const fieldValidator of ((_a = __classPrivateFieldGet(this, _Form_fieldValidators, \"f\").get(name)) === null || _a === void 0 ? void 0 : _a.values()) ||\n                []) {\n                yield* fieldValidator.errors();\n            }\n        }.bind(this);\n        this.validateField = (name, { updateId } = {}) => {\n            var _a;\n            let hasPromise = false;\n            const results = [];\n            for (const fieldValidator of ((_a = __classPrivateFieldGet(this, _Form_fieldValidators, \"f\").get(name)) === null || _a === void 0 ? void 0 : _a.values()) ||\n                []) {\n                const result = fieldValidator.validate();\n                if (result instanceof Promise) {\n                    hasPromise = true;\n                    results.push(result);\n                }\n                else {\n                    results.push(result);\n                }\n            }\n            if (hasPromise) {\n                const promise = Promise.all(results).then((results) => {\n                    if (__classPrivateFieldGet(this, _Form_validatingFields, \"f\").get(name) !== promise) {\n                        return __classPrivateFieldGet(this, _Form_validatingFields, \"f\").get(name) || this.isFieldValid(name);\n                    }\n                    __classPrivateFieldGet(this, _Form_validatingFields, \"f\").delete(name);\n                    __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\").call(this, name, updateId);\n                    return results.every((result) => result);\n                });\n                __classPrivateFieldGet(this, _Form_validatingFields, \"f\").set(name, promise);\n                __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\").call(this, name); // Do NOT use updateId here.\n                return promise;\n            }\n            else {\n                __classPrivateFieldGet(this, _Form_validatingFields, \"f\").delete(name);\n                __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\").call(this, name, updateId);\n                return results.every((result) => result);\n            }\n        };\n        this.validateAll = ({ updateId = Symbol() } = {}) => {\n            let hasPromise = false;\n            const results = [];\n            for (const name of __classPrivateFieldGet(this, _Form_fieldValidators, \"f\").keys()) {\n                const result = this.validateField(name, {\n                    updateId,\n                });\n                if (result instanceof Promise) {\n                    hasPromise = true;\n                }\n                results.push(result);\n            }\n            if (hasPromise) {\n                const promise = Promise.all(results).then((results) => {\n                    if (__classPrivateFieldGet(this, _Form_validatingAll, \"f\") !== promise) {\n                        return __classPrivateFieldGet(this, _Form_validatingAll, \"f\") || this.isValid;\n                    }\n                    __classPrivateFieldSet(this, _Form_validatingAll, null, \"f\");\n                    return results.every((result) => result);\n                });\n                __classPrivateFieldSet(this, _Form_validatingAll, promise, \"f\");\n                return promise;\n            }\n            else {\n                __classPrivateFieldSet(this, _Form_validatingAll, null, \"f\");\n                return results.every((result) => result);\n            }\n        };\n        /**\n         * Validates and sets all fields touched.  If there are no errors, calls the onSubmit callback.\n         * @returns {Promise<Map<string, InvalidResponse[]>>} when submission fails validation.\n         * @returns {Promise<InvalidResponse>} when user defined onSubmit callback throws or rejects with an error.\n         */\n        this.submit = async (event) => {\n            var _a;\n            if (__classPrivateFieldGet(this, _Form_onSubmit, \"f\").onStart) {\n                await __classPrivateFieldGet(this, _Form_onSubmit, \"f\").onStart({\n                    event,\n                    dirtyValues: this.getValuesObject(true),\n                    values: this.getValuesObject(false),\n                    form: this,\n                });\n            }\n            const startUpdateId = Symbol();\n            __classPrivateFieldSet(this, _Form_isSubmitting, true, \"f\");\n            __classPrivateFieldSet(this, _Form_submitCount, (_a = __classPrivateFieldGet(this, _Form_submitCount, \"f\"), _a++, _a), \"f\");\n            this.setTouchedAll(true);\n            const validateResult = this.validateAll({ updateId: startUpdateId });\n            __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this, startUpdateId);\n            const isValid = validateResult instanceof Promise ? await validateResult : validateResult;\n            if (!isValid) {\n                __classPrivateFieldSet(this, _Form_isSubmitting, false, \"f\");\n                const errors = this.getErrorsObject();\n                __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this);\n                if (__classPrivateFieldGet(this, _Form_onSubmit, \"f\").onInvalid) {\n                    await __classPrivateFieldGet(this, _Form_onSubmit, \"f\").onInvalid({\n                        event,\n                        dirtyValues: this.getValuesObject(true),\n                        values: this.getValuesObject(false),\n                        form: this,\n                        errors,\n                    });\n                }\n                if (__classPrivateFieldGet(this, _Form_onSubmit, \"f\").finally) {\n                    await __classPrivateFieldGet(this, _Form_onSubmit, \"f\").finally({\n                        event,\n                        dirtyValues: this.getValuesObject(true),\n                        values: this.getValuesObject(false),\n                        form: this,\n                    });\n                }\n                return errors;\n            }\n            try {\n                await __classPrivateFieldGet(this, _Form_onSubmit, \"f\").onSubmit({\n                    event,\n                    dirtyValues: this.getValuesObject(true),\n                    values: this.getValuesObject(false),\n                    form: this,\n                });\n            }\n            catch (error) {\n                __classPrivateFieldSet(this, _Form_submissionError, (() => {\n                    if (error) {\n                        return \"message\" in error ? error : new Error(String(error));\n                    }\n                    return new Error(\"Unknown Submission Error.\");\n                })(), \"f\");\n                __classPrivateFieldSet(this, _Form_isSubmitting, false, \"f\");\n                __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this);\n                if (__classPrivateFieldGet(this, _Form_onSubmit, \"f\").onError) {\n                    await __classPrivateFieldGet(this, _Form_onSubmit, \"f\").onError({\n                        event,\n                        dirtyValues: this.getValuesObject(true),\n                        values: this.getValuesObject(false),\n                        form: this,\n                        error,\n                    });\n                }\n                if (__classPrivateFieldGet(this, _Form_onSubmit, \"f\").finally) {\n                    await __classPrivateFieldGet(this, _Form_onSubmit, \"f\").finally({\n                        event,\n                        dirtyValues: this.getValuesObject(true),\n                        values: this.getValuesObject(false),\n                        form: this,\n                    });\n                }\n                return error;\n            }\n            __classPrivateFieldSet(this, _Form_isSubmitting, false, \"f\");\n            __classPrivateFieldSet(this, _Form_isSubmitted, true, \"f\");\n            __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this);\n            if (__classPrivateFieldGet(this, _Form_onSubmit, \"f\").onSuccess) {\n                await __classPrivateFieldGet(this, _Form_onSubmit, \"f\").onSuccess({\n                    event,\n                    dirtyValues: this.getValuesObject(true),\n                    values: this.getValuesObject(false),\n                    form: this,\n                });\n            }\n            if (__classPrivateFieldGet(this, _Form_onSubmit, \"f\").finally) {\n                await __classPrivateFieldGet(this, _Form_onSubmit, \"f\").finally({\n                    event,\n                    dirtyValues: this.getValuesObject(true),\n                    values: this.getValuesObject(false),\n                    form: this,\n                });\n            }\n        };\n        this.handleSubmit = (event) => {\n            event === null || event === void 0 ? void 0 : event.preventDefault();\n            this.submit(event);\n        };\n        this.fields = () => __classPrivateFieldGet(this, _Form_fields, \"f\").values();\n        this.values = function* (dirtyOnly = true) {\n            const yieldedKeys = new Set();\n            for (const [name, value] of __classPrivateFieldGet(this, _Form_values, \"f\")) {\n                yieldedKeys.add(name);\n                yield [name, value];\n            }\n            if (!dirtyOnly) {\n                for (const name of __classPrivateFieldGet(this, _Form_clearedValues, \"f\")) {\n                    yieldedKeys.add(name);\n                }\n                for (const defaultValues of __classPrivateFieldGet(this, _Form_defaultValues, \"f\").values()) {\n                    for (const [name, defaultValue] of defaultValues) {\n                        if (!yieldedKeys.has(name)) {\n                            yieldedKeys.add(name);\n                            yield [name, defaultValue];\n                        }\n                    }\n                }\n            }\n        }.bind(this);\n        this.clearedFields = () => __classPrivateFieldGet(this, _Form_clearedValues, \"f\").values();\n        this.errors = function* () {\n            for (const name of __classPrivateFieldGet(this, _Form_fieldValidators, \"f\").keys()) {\n                const errors = [...this.getFieldErrors(name)];\n                if (errors.length) {\n                    yield [name, errors];\n                }\n            }\n        }.bind(this);\n        this.getValuesObject = (dirtyOnly = true) => {\n            const valueObj = {};\n            for (const [name, value] of this.values(dirtyOnly)) {\n                set(valueObj, name, value);\n            }\n            return valueObj;\n        };\n        this.getErrorsObject = () => {\n            const errorsObj = {};\n            for (const [name, value] of this.errors()) {\n                set(errorsObj, name, value);\n            }\n            return errorsObj;\n        };\n        this.resetFieldErrors = (name, { updateId } = {}) => {\n            var _a;\n            for (const fieldValidator of ((_a = __classPrivateFieldGet(this, _Form_fieldValidators, \"f\").get(name)) === null || _a === void 0 ? void 0 : _a.values()) ||\n                []) {\n                fieldValidator.reset();\n            }\n            __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\").call(this, name, updateId);\n        };\n        this.resetErrors = ({ updateId = Symbol(), } = {}) => {\n            for (const name of __classPrivateFieldGet(this, _Form_fieldValidators, \"f\").keys()) {\n                this.resetFieldErrors(name, { updateId });\n            }\n        };\n        this.resetField = (name, { updateId = Symbol() } = {}) => {\n            // Reset Errors\n            this.resetFieldErrors(name, { updateId });\n            __classPrivateFieldGet(this, _Form_values, \"f\").delete(name);\n            __classPrivateFieldGet(this, _Form_clearedValues, \"f\").delete(name);\n            const field = this.getRegisteredField(name);\n            if (field) {\n                this.setFieldTouched(field, false, { updateId });\n            }\n            __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\").call(this, name, updateId);\n        };\n        /**\n         * Sets {@link Form.submitCount} to `0`.\n         */\n        this.resetSubmitCount = ({ updateId } = {}) => {\n            __classPrivateFieldSet(this, _Form_submitCount, 0, \"f\");\n            __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this, updateId);\n        };\n        /**\n         * Sets {@link Form.isSubmitted} to `false`.\n         */\n        this.resetSubmitted = ({ updateId } = {}) => {\n            __classPrivateFieldSet(this, _Form_isSubmitted, false, \"f\");\n            __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this, updateId);\n        };\n        /**\n         * Sets {@link Form.submissionError} to `null`.\n         */\n        this.resetSubmissionError = ({ updateId, } = {}) => {\n            __classPrivateFieldSet(this, _Form_submissionError, null, \"f\");\n            __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this, updateId);\n        };\n        /**\n         * Resets all values, errors, and submission status data.  Resets **everything**.\n         */\n        this.reset = ({ updateId = Symbol(), exclude, } = {}) => {\n            const resetFields = new Set();\n            for (const { props: { name }, } of __classPrivateFieldGet(this, _Form_fields, \"f\").values()) {\n                resetFields.add(name);\n                this.resetField(name, { updateId });\n            }\n            for (const name of __classPrivateFieldGet(this, _Form_fieldValidators, \"f\").keys()) {\n                if (!resetFields.add(name)) {\n                    resetFields.add(name);\n                    this.resetField(name, { updateId });\n                }\n            }\n            for (const name of __classPrivateFieldGet(this, _Form_values, \"f\").keys()) {\n                if (!resetFields.has(name)) {\n                    resetFields.add(name);\n                    this.resetField(name, { updateId });\n                }\n            }\n            if (!(exclude === null || exclude === void 0 ? void 0 : exclude.submitCount)) {\n                this.resetSubmitCount({ updateId });\n            }\n            if (!(exclude === null || exclude === void 0 ? void 0 : exclude.submitted)) {\n                this.resetSubmitted({ updateId });\n            }\n            this.resetSubmissionError({ updateId });\n            __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\").call(this, updateId);\n        };\n        _Form_runFormStateTracker.set(this, (() => {\n            const stateTracker = function* () {\n                const getSnapShot = () => ({\n                    isDirty: this.isDirty,\n                    isValid: this.isValid,\n                    isValidating: this.isValidating,\n                    isSubmitted: this.isSubmitted,\n                    isSubmitting: this.isSubmitting,\n                    submitCount: this.submitCount,\n                    submissionError: this.submissionError,\n                    loading: this.loading,\n                });\n                let prevState = getSnapShot();\n                while (true) {\n                    const curState = getSnapShot();\n                    yield !Object.keys(prevState).every((key) => prevState[key] === curState[key]);\n                    prevState = curState;\n                }\n            }.call(this);\n            // Capture first state\n            stateTracker.next();\n            return (updateId = Symbol()) => {\n                if (stateTracker.next()) {\n                    for (const formWatcher of __classPrivateFieldGet(this, _Form_formWatchers, \"f\")) {\n                        formWatcher(updateId);\n                    }\n                }\n            };\n        })());\n        __classPrivateFieldSet(this, _Form_onSubmit, typeof onSubmit === \"function\"\n            ? {\n                onSubmit,\n            }\n            : onSubmit, \"f\");\n        __classPrivateFieldSet(this, _Form_validateOn, validateOn, \"f\");\n        FIELDS.set(this, __classPrivateFieldGet(this, _Form_fields, \"f\"));\n        VALUES.set(this, __classPrivateFieldGet(this, _Form_values, \"f\"));\n        DEFAULT_VALUES.set(this, __classPrivateFieldGet(this, _Form_defaultValues, \"f\"));\n        IS_EQUAL_FNS.set(this, __classPrivateFieldGet(this, _Form_isEqualFns, \"f\"));\n        LOADING.set(this, __classPrivateFieldGet(this, _Form_loading, \"f\"));\n        FIELD_VALIDATORS.set(this, __classPrivateFieldGet(this, _Form_fieldValidators, \"f\"));\n        FIELD_WATCHERS.set(this, __classPrivateFieldGet(this, _Form_fieldWatchers, \"f\"));\n        FORM_WATCHERS.set(this, __classPrivateFieldGet(this, _Form_formWatchers, \"f\"));\n        RUN_FIELD_STATE_TRACKERS.set(this, __classPrivateFieldGet(this, _Form_runFieldStateTrackers, \"f\"));\n        RUN_FORM_STATE_TRACKER.set(this, __classPrivateFieldGet(this, _Form_runFormStateTracker, \"f\"));\n        // Add accessors to instance and make enumerable.\n        Object.defineProperties(this, [\n            \"isDirty\",\n            \"isValid\",\n            \"isValidating\",\n            \"isSubmitted\",\n            \"isSubmitting\",\n            \"submitCount\",\n            \"submissionError\",\n            \"loading\",\n        ].reduce((props, prop) => {\n            props[prop] = {\n                ...Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this), prop),\n                enumerable: true,\n            };\n            return props;\n        }, {}));\n    }\n    get isDirty() {\n        return !!__classPrivateFieldGet(this, _Form_values, \"f\").size || !!__classPrivateFieldGet(this, _Form_clearedValues, \"f\").size;\n    }\n    get isValid() {\n        return !!this.errors().next().done;\n    }\n    get isValidating() {\n        return !!__classPrivateFieldGet(this, _Form_validatingFields, \"f\").size;\n    }\n    get isSubmitted() {\n        return __classPrivateFieldGet(this, _Form_isSubmitted, \"f\");\n    }\n    get isSubmitting() {\n        return __classPrivateFieldGet(this, _Form_isSubmitting, \"f\");\n    }\n    get submitCount() {\n        return __classPrivateFieldGet(this, _Form_submitCount, \"f\");\n    }\n    get submissionError() {\n        return __classPrivateFieldGet(this, _Form_submissionError, \"f\");\n    }\n    get loading() {\n        return !!__classPrivateFieldGet(this, _Form_loading, \"f\").size;\n    }\n    get validateOn() {\n        return __classPrivateFieldGet(this, _Form_validateOn, \"f\");\n    }\n}\n_Form_fields = new WeakMap(), _Form_values = new WeakMap(), _Form_clearedValues = new WeakMap(), _Form_defaultValues = new WeakMap(), _Form_isEqualFns = new WeakMap(), _Form_touchedFields = new WeakMap(), _Form_validatingFields = new WeakMap(), _Form_validateOn = new WeakMap(), _Form_validatingAll = new WeakMap(), _Form_submitCount = new WeakMap(), _Form_isSubmitting = new WeakMap(), _Form_isSubmitted = new WeakMap(), _Form_submissionError = new WeakMap(), _Form_loading = new WeakMap(), _Form_fieldValidators = new WeakMap(), _Form_fieldWatchers = new WeakMap(), _Form_formWatchers = new WeakMap(), _Form_runFieldStateTrackers = new WeakMap(), _Form_onSubmit = new WeakMap(), _Form_runFormStateTracker = new WeakMap();\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nexport const parseFieldDef = function* (fieldDef, namePrefix) {\n    for (const key in fieldDef) {\n        if (hasOwnProperty.call(fieldDef, key)) {\n            const value = fieldDef[key];\n            const name = namePrefix ? `${namePrefix}.${key}` : key;\n            if (value instanceof FieldValue) {\n                yield [name, value.valueOf()];\n            }\n            else {\n                yield* parseFieldDef(value, name);\n            }\n        }\n    }\n};\nconst parseValidatorDefs = function* (validatorDef, namePrefix) {\n    for (const key in validatorDef) {\n        if (hasOwnProperty.call(validatorDef, key)) {\n            const value = validatorDef[key];\n            const name = namePrefix ? `${namePrefix}.${key}` : key;\n            if (typeof value === \"function\" || Symbol.iterator in value) {\n                yield [name, value];\n            }\n            else {\n                yield* parseValidatorDefs(value, name);\n            }\n        }\n    }\n};\nconst parseIsEqualDef = function* (isEqualDef, namePrefix) {\n    for (const key in isEqualDef) {\n        if (hasOwnProperty.call(isEqualDef, key)) {\n            const value = isEqualDef[key];\n            const name = namePrefix ? `${namePrefix}.${key}` : key;\n            if (typeof value === \"function\") {\n                yield [name, value];\n            }\n            else {\n                yield* parseIsEqualDef(value, name);\n            }\n        }\n    }\n};\nconst FormContext = createContext(null);\nFormContext.displayName = \"FormContext\";\nconst ProvideForm = (props) => {\n    const { children, ...rest } = props;\n    const form = useForm(rest);\n    return FormProvider({ form, children });\n};\nexport const FormProvider = (props) => {\n    if (\"form\" in props) {\n        return (React.createElement(FormContext.Provider, { value: props.form }, props.children));\n    }\n    else {\n        return React.createElement(ProvideForm, { ...props });\n    }\n};\nconst NamePrefixContext = createContext(null);\nNamePrefixContext.displayName = \"NamePrefixContext\";\nexport const NamePrefixProvider = (props) => {\n    const parentNamePrefix = useContext(NamePrefixContext);\n    const namePrefix = parentNamePrefix\n        ? prefixName(props.namePrefix, parentNamePrefix)\n        : props.namePrefix;\n    return (React.createElement(NamePrefixContext.Provider, { value: namePrefix }, props.children));\n};\nexport const useForm = ({ onSubmit, defaultValues, validators, isEqual, validateOn = \"submit\", }) => {\n    const [, watcher] = useState(Symbol());\n    const [form] = useState(() => {\n        const form = new Form({ onSubmit, validateOn });\n        FORM_WATCHERS.get(form).add(watcher);\n        return form;\n    });\n    useDefaultValuesUtil(useMemo(() => ({\n        defaultValues: defaultValues || {},\n        form,\n        updateIds: {\n            mount: Symbol(),\n            unMount: Symbol(),\n        },\n    }), [defaultValues, form]));\n    useValidatorsUtil(useMemo(() => ({\n        validators: validators || {},\n        form,\n        updateIds: {\n            mount: Symbol(),\n            unMount: Symbol(),\n        },\n    }), [form, validators]));\n    useIsEqual(useMemo(() => ({\n        isEqual: isEqual || {},\n        form,\n    }), [form, isEqual]));\n    return form;\n};\nexport const useFormContext = (formContext) => {\n    const form = useFormContextUtil({\n        form: formContext,\n        hookName: \"useFormContext\",\n    });\n    const [, watcher] = useState(Symbol());\n    useEffect(() => () => {\n        if (form) {\n            FORM_WATCHERS.get(form).delete(watcher);\n        }\n    }, [form]);\n    return useMemo(() => {\n        if (form) {\n            FORM_WATCHERS.get(form).add(watcher);\n        }\n        return form || undefined;\n    }, [form]);\n};\nconst useFormContextUtil = ({ form, hookName, }) => {\n    const _context = useContext(FormContext);\n    const context = form || _context;\n    if (process.env.NODE_ENV !== \"production\") {\n        if (context === null) {\n            throw new TypeError(`\"FormContext\" does exists in the react tree nor provided to \"${hookName}\" via the \"form\" argument.`);\n        }\n    }\n    return context;\n};\n/**\n * Dot-notate prepends `name` with `prefix`.\n */\nexport const prefixName = (name, prefix) => {\n    return `${prefix}.${name}`;\n};\n/**\n * @param name is dot-notate appended to the name prefix when provided.\n */\nexport const useNamePrefix = (name) => {\n    const namePrefix = useContext(NamePrefixContext);\n    if (namePrefix) {\n        return name ? prefixName(name, namePrefix) : namePrefix;\n    }\n    else {\n        return name || \"\";\n    }\n};\nconst useDefaultValuesUtil = (options) => {\n    const form = useFormContextUtil({\n        form: options.form,\n        hookName: \"useDefaultValues\",\n    });\n    const [state] = useState(() => {\n        const id = Symbol();\n        const defaultValuesMap = new Map();\n        DEFAULT_VALUES.get(form).set(id, defaultValuesMap);\n        return { id, defaultValuesMap };\n    });\n    const namePrefix = useNamePrefix();\n    const updateIdsRef = useRef();\n    updateIdsRef.current = options.updateIds;\n    const modifiedFields = useMemo(() => {\n        const { defaultValuesMap } = state;\n        const modifiedFields = new Set(defaultValuesMap.keys());\n        defaultValuesMap.clear();\n        for (const [_name, defaultValue] of parseFieldDef(options.defaultValues)) {\n            const name = namePrefix ? prefixName(_name, namePrefix) : _name;\n            modifiedFields.add(name);\n            defaultValuesMap.set(name, defaultValue);\n        }\n        return modifiedFields;\n    }, [namePrefix, options.defaultValues, state]);\n    useEffect(() => {\n        var _a;\n        const updateId = ((_a = updateIdsRef.current) === null || _a === void 0 ? void 0 : _a.mount) || Symbol();\n        const fieldStateTracker = RUN_FIELD_STATE_TRACKERS.get(form);\n        for (const name of modifiedFields) {\n            fieldStateTracker(name, updateId);\n        }\n    }, [form, modifiedFields]);\n    useEffect(() => () => {\n        var _a;\n        const { defaultValuesMap, id } = state;\n        DEFAULT_VALUES.get(form).delete(id);\n        const updateId = ((_a = updateIdsRef.current) === null || _a === void 0 ? void 0 : _a.unMount) || Symbol();\n        const fieldStateTracker = RUN_FIELD_STATE_TRACKERS.get(form);\n        for (const name of defaultValuesMap.keys()) {\n            fieldStateTracker(name, updateId);\n        }\n    }, [form, state]);\n};\nexport const useDefaultValues = (options) => {\n    return useDefaultValuesUtil(options);\n};\nconst useValidatorsUtil = (options) => {\n    const form = useFormContextUtil({\n        form: options.form,\n        hookName: \"useValidators\",\n    });\n    const namePrefix = useNamePrefix();\n    const updateIdsRef = useRef();\n    updateIdsRef.current = options.updateIds;\n    const fieldValidators = useMemo(() => function* () {\n        for (const [name, validators] of parseValidatorDefs(options.validators)) {\n            yield new FieldValidator({\n                field: namePrefix ? prefixName(name, namePrefix) : name,\n                form,\n                validators: typeof validators === \"function\" ? [validators] : validators,\n            });\n        }\n    }, [form, namePrefix, options.validators]);\n    useEffect(() => {\n        var _a;\n        const fieldValidatorsMap = FIELD_VALIDATORS.get(form);\n        const updateId = ((_a = updateIdsRef.current) === null || _a === void 0 ? void 0 : _a.mount) || Symbol();\n        const fieldValidatorsForRemoval = [];\n        for (const fieldValidator of fieldValidators()) {\n            fieldValidatorsForRemoval.push(fieldValidator);\n            const shouldRunValidation = (() => {\n                var _a;\n                if (options.shouldRunValidation === \"auto\") {\n                    for (const curFieldValidator of fieldValidatorsMap.get(fieldValidator.name) || []) {\n                        if (curFieldValidator.hasRun) {\n                            return true;\n                        }\n                    }\n                    return false;\n                }\n                else {\n                    return (_a = options.shouldRunValidation) !== null && _a !== void 0 ? _a : false;\n                }\n            })();\n            if (fieldValidatorsMap.has(fieldValidator.name)) {\n                fieldValidatorsMap.get(fieldValidator.name).add(fieldValidator);\n            }\n            else {\n                fieldValidatorsMap.set(fieldValidator.name, new Set([fieldValidator]));\n            }\n            if (shouldRunValidation) {\n                form.validateField(fieldValidator.name, {\n                    updateId,\n                });\n            }\n        }\n        return () => {\n            for (const fieldValidator of fieldValidatorsForRemoval) {\n                const fieldValidators = fieldValidatorsMap.get(fieldValidator.name);\n                if (fieldValidators) {\n                    fieldValidators.delete(fieldValidator);\n                    if (!fieldValidators.size) {\n                        fieldValidatorsMap.delete(fieldValidator.name);\n                    }\n                }\n            }\n        };\n    }, [fieldValidators, form, options.shouldRunValidation]);\n};\nexport const useValidators = (options) => {\n    return useValidatorsUtil(options);\n};\nexport const useIsEqual = (options) => {\n    const form = useFormContextUtil({\n        form: options.form,\n        hookName: \"useIsEqual\",\n    });\n    const [state] = useState(() => {\n        const id = Symbol();\n        const isEqualFnsMap = new Map();\n        IS_EQUAL_FNS.get(form).set(id, isEqualFnsMap);\n        return { id, isEqualFnsMap };\n    });\n    const namePrefix = useNamePrefix();\n    useMemo(() => {\n        const { isEqualFnsMap } = state;\n        isEqualFnsMap.clear();\n        for (const [_name, isEqual] of parseIsEqualDef(options.isEqual)) {\n            const name = namePrefix ? prefixName(_name, namePrefix) : _name;\n            isEqualFnsMap.set(name, isEqual);\n        }\n    }, [namePrefix, options.isEqual, state]);\n    useEffect(() => () => {\n        const { id } = state;\n        IS_EQUAL_FNS.get(form).delete(id);\n    }, [form, state]);\n};\nexport const useWatcher = function (options) {\n    const form = useFormContextUtil({\n        form: options.form,\n        hookName: \"useWatcher\",\n    });\n    const namePrefix = useNamePrefix();\n    const [updateId, watcher] = useState(Symbol());\n    const fieldWatcher = useMemo(() => {\n        const name = options.name;\n        return new FieldWatcher({\n            nameOrField: name instanceof Field || !namePrefix\n                ? name\n                : prefixName(name, namePrefix),\n            form,\n            watcher,\n        });\n    }, [form, namePrefix, options.name]);\n    useEffect(() => {\n        const fieldWatchersMap = FIELD_WATCHERS.get(form);\n        if (fieldWatchersMap.has(fieldWatcher.name)) {\n            fieldWatchersMap.get(fieldWatcher.name).add(fieldWatcher);\n        }\n        else {\n            fieldWatchersMap.set(fieldWatcher.name, new Set([fieldWatcher]));\n        }\n        return () => {\n            const fieldWatchers = fieldWatchersMap.get(fieldWatcher.name);\n            if (fieldWatchers) {\n                fieldWatchers.delete(fieldWatcher);\n                if (!fieldWatchers.size) {\n                    fieldWatchersMap.delete(fieldWatcher.name);\n                }\n            }\n        };\n    }, [fieldWatcher, form]);\n    return useMemo(() => ({\n        value: form.getFieldValue(fieldWatcher.name),\n        defaultValue: form.getFieldDefaultValue(fieldWatcher.name),\n        errors: [...form.getFieldErrors(fieldWatcher.name)],\n    }), \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [fieldWatcher, form, updateId]);\n};\nconst FIELDS_REF_COUNT = new WeakMap();\n/**\n * @returns the **same** {@link Field} instance for every call to with matching `name` and {@link Form}.  The fist call creates the {@link Field} instance.\n */\nexport const useField = function (options) {\n    const form = useFormContextUtil({\n        form: options.form,\n        hookName: \"useField\",\n    });\n    const namePrefix = useNamePrefix();\n    const [, watcher] = useState(Symbol());\n    const shouldUnregisterRef = useRef();\n    shouldUnregisterRef.current = options.shouldUnregister;\n    const field = useMemo(() => {\n        var _a;\n        const name = namePrefix\n            ? prefixName(options.name, namePrefix)\n            : options.name;\n        const field = (form.getRegisteredField(name) ||\n            new Field({\n                name,\n                form,\n                shouldUnregister: shouldUnregisterRef.current,\n            }));\n        FIELDS_REF_COUNT.set(field, ((_a = FIELDS_REF_COUNT.get(field)) !== null && _a !== void 0 ? _a : 0) + 1);\n        // Set immediately so that any sync useField calls will get the same field\n        FIELDS.get(form).set(field.props.name, field);\n        return field;\n    }, [form, namePrefix, options.name]);\n    const updateIdsRef = useRef();\n    updateIdsRef.current = {\n        mount: Symbol(),\n        unMount: Symbol(),\n    };\n    const defaultValuesOpts = useMemo(() => ({\n        defaultValues: options.defaultValue === undefined\n            ? {}\n            : // Name prefix will be added by useDefaultValuesUtil\n                { [options.name]: new FieldValue(options.defaultValue) },\n        form,\n        updateIds: updateIdsRef.current,\n    }), [form, options.defaultValue, options.name]);\n    const validatorDef = useMemo(() => options.validator === undefined\n        ? {}\n        : // Name prefix will be added by _useValidators_\n            { [options.name]: options.validator }, [options.name, options.validator]);\n    const validatorOps = useMemo(() => ({\n        validators: validatorDef,\n        form,\n        updateIds: updateIdsRef.current,\n        shouldRunValidation: options.shouldRunValidation,\n    }), [form, options.shouldRunValidation, validatorDef]);\n    const isEqualOpts = useMemo(() => ({\n        isEqual: options.isEqual\n            ? {\n                [options.name]: options.isEqual,\n            }\n            : {},\n        form,\n    }), [form, options.isEqual, options.name]);\n    useEffect(() => {\n        const fieldWatchersMap = FIELD_WATCHERS.get(form);\n        const fieldWatcher = new FieldWatcher({\n            nameOrField: field,\n            watcher,\n        });\n        if (fieldWatchersMap.has(fieldWatcher.name)) {\n            fieldWatchersMap.get(fieldWatcher.name).add(fieldWatcher);\n        }\n        else {\n            fieldWatchersMap.set(field.props.name, new Set([fieldWatcher]));\n        }\n        return () => {\n            const fieldWatchers = fieldWatchersMap.get(fieldWatcher.name);\n            if (fieldWatchers) {\n                fieldWatchers.delete(fieldWatcher);\n                if (!fieldWatchers.size) {\n                    fieldWatchersMap.delete(fieldWatcher.name);\n                }\n            }\n            const refCount = FIELDS_REF_COUNT.get(field) - 1;\n            FIELDS_REF_COUNT.set(field, refCount);\n            if (refCount === 0) {\n                FIELDS.get(form).delete(field.props.name);\n                if (field.shouldUnregister) {\n                    field.reset();\n                }\n            }\n        };\n    }, [field, form]); // NOTE if the form changes, the field changes.\n    useDefaultValuesUtil(defaultValuesOpts);\n    useValidatorsUtil(validatorOps);\n    useIsEqual(isEqualOpts);\n    return field;\n};\n/**\n * @param options.shouldUnregister `true` (default) sets loading to false for this invocation of {@link Form.useLoading} when it is unmounted.\n */\nexport const useLoading = (options) => {\n    const form = useFormContextUtil({\n        form: options.form,\n        hookName: \"useLoading\",\n    });\n    const namePrefix = useNamePrefix();\n    const [id] = useState(Symbol());\n    const setLoading = useCallback((loading) => {\n        const namesOrFields = Array.isArray(options.name)\n            ? options.name\n            : [options.name];\n        const loadingMap = LOADING.get(form);\n        const updateId = Symbol();\n        const runFieldStateTrackers = RUN_FIELD_STATE_TRACKERS.get(form);\n        for (const nameOrField of namesOrFields) {\n            const fieldName = nameOrField instanceof Field ? nameOrField.props.name : nameOrField;\n            const name = namePrefix ? prefixName(fieldName, namePrefix) : fieldName;\n            if (loading) {\n                if (loadingMap.has(name)) {\n                    loadingMap.get(name).add(id);\n                }\n                else {\n                    loadingMap.set(name, new Set([id]));\n                }\n            }\n            else {\n                if (loadingMap.has(name)) {\n                    const fieldLoading = loadingMap.get(name);\n                    fieldLoading.delete(id);\n                    if (!fieldLoading.size) {\n                        loadingMap.delete(name);\n                    }\n                }\n            }\n            runFieldStateTrackers(name, updateId);\n        }\n        RUN_FORM_STATE_TRACKER.get(form)(updateId);\n    }, [form, id, namePrefix, options.name]);\n    useEffect(() => {\n        setLoading(options.loading);\n    }, [options.loading, setLoading]);\n    useEffect(() => () => {\n        setLoading(false);\n    }, [setLoading]);\n};\nexport const useWatchAll = (options) => {\n    const form = useFormContextUtil({\n        form: options.form,\n        hookName: \"useWatchAll\",\n    });\n    const [updateId, watchAllCb] = useState(Symbol());\n    useEffect(() => {\n        FORM_WATCHERS.get(form).add(watchAllCb);\n        return () => {\n            FORM_WATCHERS.get(form).delete(watchAllCb);\n        };\n    }, [form]);\n    return useMemo(() => ({\n        values: form.getValuesObject(false),\n        dirtyValues: form.getValuesObject(true),\n        errors: form.getErrorsObject(),\n    }), \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [updateId, form]);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy91c2VLSVNTRm9ybS9mb3JtLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSx1REFBdUQ7QUFDdkQsT0FBTyxLQUFLLEVBQUUsRUFDWixRQUFRLEVBQ1IsYUFBYSxFQUNiLFVBQVUsRUFDVixPQUFPLEVBQ1AsU0FBUyxFQUVULE1BQU0sRUFDTixXQUFXLEdBQ1osTUFBTSxPQUFPLENBQUM7QUFDZixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRTdCLE1BQU0sWUFBWTtJQUtoQixZQUFZLEVBQ1YsV0FBVyxFQUNYLElBQUksRUFBRSxPQUFPLEVBQ2IsT0FBTyxFQUNQLFlBQVksR0FBRyxDQUFDLENBQU0sRUFBRSxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBS21CO1FBQzdELElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1FBRXpCLElBQUksV0FBVyxZQUFZLEtBQUssRUFBRTtZQUNoQyxJQUFJLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ3JDLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxHQUFHLEVBQUU7Z0JBQzFCLE1BQU0sWUFBWSxHQUFHLENBQUMsUUFBUSxDQUFDO29CQU03QixNQUFNLFdBQVcsR0FBRyxHQUFrQixFQUFFLENBQUMsQ0FBQzt3QkFDeEMsS0FBSyxFQUFFOzRCQUNMLEtBQUssRUFBRSxXQUFXLENBQUMsS0FBSyxDQUFDLEtBQUs7eUJBQy9CO3dCQUNELEtBQUssRUFBRTs0QkFDTCxPQUFPLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxPQUFPOzRCQUNsQyxZQUFZLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxZQUFZOzRCQUM1QyxTQUFTLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxTQUFTOzRCQUN0QyxPQUFPLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxPQUFPOzRCQUNsQyxTQUFTLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxTQUFTOzRCQUN0QyxNQUFNLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxNQUFNO3lCQUNqQztxQkFDRixDQUFDLENBQUM7b0JBRUgsSUFBSSxTQUFTLEdBQUcsV0FBVyxFQUFFLENBQUM7b0JBRTlCLE9BQU8sSUFBSSxFQUFFO3dCQUNYLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO3dCQUUvQixNQUFNLENBQUMsQ0FFSCxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQzVCLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7NEJBQ2QsUUFBUSxHQUFHLEVBQUU7Z0NBQ1gsS0FBSyxPQUFPO29DQUNWLE9BQU8sWUFBWSxDQUNqQixTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUNwQixRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUNwQixDQUFDO2dDQUNKO29DQUNFLE9BQU8sU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDOzZCQUN2RDt3QkFDSCxDQUFDLENBQUM7NEJBRUEsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUM1QixDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO2dDQUNkLFFBQVEsR0FBRyxFQUFFO29DQUNYLEtBQUssUUFBUTt3Q0FDWCxPQUFPLENBQ0wsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNOzRDQUN6QixRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07NENBQzVCLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUN4QixDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUMvQyxDQUNGLENBQUM7b0NBQ0o7d0NBQ0UsT0FBTyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7aUNBQ3ZEOzRCQUNILENBQUMsQ0FBQyxDQUNILENBQUM7d0JBRUYsU0FBUyxHQUFHLFFBQVEsQ0FBQztxQkFDdEI7Z0JBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFFTCxzQkFBc0I7Z0JBQ3RCLFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFFcEIsT0FBTyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ3pDLENBQUMsQ0FBQyxFQUFFLENBQUM7U0FDTjthQUFNO1lBQ0wsTUFBTSxJQUFJLEdBQUcsT0FBb0IsQ0FBQztZQUNsQyxJQUFJLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQztZQUMxQixJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsR0FBRyxFQUFFO2dCQUMxQixNQUFNLFlBQVksR0FBRyxRQUFRLENBQUM7b0JBTTVCLE1BQU0sV0FBVyxHQUFHLEdBQWtCLEVBQUUsQ0FBQyxDQUFDO3dCQUN4QyxLQUFLLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQzt3QkFDM0MsTUFBTSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztxQkFDNUMsQ0FBQyxDQUFDO29CQUVILElBQUksU0FBUyxHQUFHLFdBQVcsRUFBRSxDQUFDO29CQUU5QixPQUFPLElBQUksRUFBRTt3QkFDWCxNQUFNLFFBQVEsR0FBRyxXQUFXLEVBQUUsQ0FBQzt3QkFFL0IsTUFBTSxDQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUE2QixDQUFDLEtBQUssQ0FDOUQsQ0FBQyxHQUFHLEVBQUUsRUFBRTs0QkFDTixRQUFRLEdBQUcsRUFBRTtnQ0FDWCxLQUFLLFFBQVE7b0NBQ1gsT0FBTyxDQUNMLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEtBQUssUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07d0NBQzlDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQ2xCLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDekMsQ0FDRixDQUFDO2dDQUNKLEtBQUssT0FBTztvQ0FDVixPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0NBQ3JEO29DQUNFLE9BQU8sU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQzs2QkFDM0M7d0JBQ0gsQ0FBQyxDQUNGLENBQUM7d0JBRUYsU0FBUyxHQUFHLFFBQVEsQ0FBQztxQkFDdEI7Z0JBQ0gsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFFYixzQkFBc0I7Z0JBQ3RCLFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFFcEIsT0FBTyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ3pDLENBQUMsQ0FBQyxFQUFFLENBQUM7U0FDTjtJQUNILENBQUM7SUFFRCxJQUFJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDckIsQ0FBQztJQUVELEdBQUcsQ0FBQyxRQUFnQjtRQUNsQixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUUsRUFBRTtZQUN6QixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzFCO0lBQ0gsQ0FBQztJQUVELE9BQU87UUFDTCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDeEIsQ0FBQztDQUNGO0FBRUQsTUFBTSxjQUFjO0lBU2xCLFlBQVksRUFDVixLQUFLLEVBQ0wsSUFBSSxFQUNKLFVBQVUsR0FLWDtRQWRnQixZQUFPLEdBQXNCLFNBQVMsQ0FBQztRQUN2QyxpQkFBWSxHQUFxQixFQUFFLENBQUM7UUFDcEMsYUFBUSxHQUFzQixFQUFFLENBQUM7UUFDMUMsaUJBQVksR0FBNEIsSUFBSSxDQUFDO1FBQzdDLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFXdkIsSUFBSSxLQUFLLFlBQVksS0FBSyxFQUFFO1lBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFDL0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7U0FDdEI7YUFBTTtZQUNMLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1NBQ3JCO1FBRUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ04sT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxNQUFNO1FBQ0osT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxLQUFLO1FBQ0gsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDdkIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUUzRCxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsRUFBRTtZQUM1RCxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxFQUFFO2dCQUM3QixJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU07Z0JBQ2pCLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTTtnQkFDakIsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPO2FBQ3BCLENBQUMsQ0FBQztZQUVILElBQUksS0FBSyxZQUFZLE9BQU8sRUFBRTtnQkFDNUIsVUFBVSxHQUFHLElBQUksQ0FBQztnQkFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUNwQjtpQkFBTSxJQUFJLEtBQUssRUFBRTtnQkFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUNwQjtZQUVELE9BQU8sTUFBTSxDQUFDO1FBQ2hCLENBQUMsRUFBRSxFQUFrRSxDQUFDLENBQUM7UUFFdkUsSUFBSSxVQUFVLEVBQUU7WUFDZCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUNuRCxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssT0FBTyxFQUFFO29CQUNqQyxPQUFPLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztpQkFDbkQ7Z0JBRUQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2dCQUNyQixNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFzQixDQUFDO2dCQUN2RSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FDbEIsQ0FBQyxFQUNELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUNwQixHQUFJLE1BQTRCLENBQ2pDLENBQUM7Z0JBQ0YsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDeEIsQ0FBQyxDQUFxQixDQUFDO1lBRXZCLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDO1lBRTVCLE9BQU8sT0FBTyxDQUFDO1NBQ2hCO2FBQU07WUFDTCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztZQUN6QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUNyQixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FDbEIsQ0FBQyxFQUNELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUNwQixHQUFJLE1BQTRCLENBQ2pDLENBQUM7WUFDRixPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUN2QjtJQUNILENBQUM7SUFFRCxJQUFJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztDQUNGO0FBd0NELE1BQU0sS0FBSztJQXlEVCxZQUFZLEVBQ1YsSUFBSSxFQUNKLElBQUksRUFDSixnQkFBZ0IsR0FBRyxLQUFLLEdBS3pCO1FBNURELDhCQUFxQjtRQUNyQiw4QkFBMEI7UUFDMUIsdUJBQXFELENBQUMsR0FBRyxFQUFFO1lBQ3pELE1BQU0sUUFBUSxHQUVWO2dCQUNGLEtBQUssRUFBRTtvQkFDTCxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsdUJBQUEsSUFBSSxtQkFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7b0JBQzNELFVBQVUsRUFBRSxJQUFJO2lCQUNqQjtnQkFDRCxJQUFJLEVBQUU7b0JBQ0osR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLHVCQUFBLElBQUksbUJBQU07b0JBQ3JCLFVBQVUsRUFBRSxJQUFJO2lCQUNqQjthQUNGLENBQUM7WUFFRixPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxFQUFFLEVBQUM7UUFDTCx1QkFBOEIsQ0FBQyxHQUFHLEVBQUU7WUFDbEMsTUFBTSxRQUFRLEdBRVY7Z0JBQ0YsT0FBTyxFQUFFO29CQUNQLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyx1QkFBQSxJQUFJLG1CQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO29CQUNuRCxVQUFVLEVBQUUsSUFBSTtpQkFDakI7Z0JBQ0QsWUFBWSxFQUFFO29CQUNaLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyx1QkFBQSxJQUFJLG1CQUFNLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7b0JBQ3hELFVBQVUsRUFBRSxJQUFJO2lCQUNqQjtnQkFDRCxTQUFTLEVBQUU7b0JBQ1QsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLHVCQUFBLElBQUksbUJBQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDO29CQUMxQyxVQUFVLEVBQUUsSUFBSTtpQkFDakI7Z0JBQ0QsT0FBTyxFQUFFO29CQUNQLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyx1QkFBQSxJQUFJLG1CQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO29CQUNuRCxVQUFVLEVBQUUsSUFBSTtpQkFDakI7Z0JBQ0QsU0FBUyxFQUFFO29CQUNULEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyx1QkFBQSxJQUFJLG1CQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO29CQUNyRCxVQUFVLEVBQUUsSUFBSTtpQkFDakI7Z0JBQ0QsTUFBTSxFQUFFO29CQUNOLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsdUJBQUEsSUFBSSxtQkFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUMxRCxVQUFVLEVBQUUsSUFBSTtpQkFDakI7YUFDRixDQUFDO1lBQ0YsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsRUFBRSxFQUFDO1FBRUwsMENBQW9DO1FBcUMzQixhQUFRLEdBQUcsQ0FBQyxLQUFTLEVBQUUsRUFBRSxDQUNoQyx1QkFBQSxJQUFJLG1CQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQVksQ0FBQyxDQUFDO1FBQ2pELGVBQVUsR0FBRyxDQUFDLE9BQWdCLEVBQUUsRUFBRSxDQUN6Qyx1QkFBQSxJQUFJLG1CQUFNLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNuQyxhQUFRLEdBQUcsR0FBK0IsRUFBRSxDQUNuRCx1QkFBQSxJQUFJLG1CQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbkMsVUFBSyxHQUFHLEdBQVMsRUFBRSxDQUFDLHVCQUFBLElBQUksbUJBQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQWpDbEUsdUJBQUEsSUFBSSxlQUFTLElBQUksTUFBQSxDQUFDO1FBQ2xCLHVCQUFBLElBQUksZUFBUyxJQUFJLE1BQUEsQ0FBQztRQUNsQix1QkFBQSxJQUFJLDJCQUFxQixnQkFBZ0IsTUFBQSxDQUFDO1FBRTFDLGlEQUFpRDtRQUNqRCxNQUFNLENBQUMsZ0JBQWdCLENBQ3JCLElBQUksRUFDSixDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDeEMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHO2dCQUNaLEdBQUcsTUFBTSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDO2dCQUNyRSxVQUFVLEVBQUUsSUFBSTthQUNLLENBQUM7WUFDeEIsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDLEVBQUUsRUFBMkIsQ0FBQyxDQUNoQyxDQUFDO0lBQ0osQ0FBQztJQUVELElBQUksS0FBSztRQUNQLE9BQU8sdUJBQUEsSUFBSSxvQkFBTyxDQUFDO0lBQ3JCLENBQUM7SUFDRCxJQUFJLEtBQUs7UUFDUCxPQUFPLHVCQUFBLElBQUksb0JBQU8sQ0FBQztJQUNyQixDQUFDO0lBQ0QsSUFBSSxnQkFBZ0I7UUFDbEIsT0FBTyx1QkFBQSxJQUFJLCtCQUFrQixDQUFDO0lBQ2hDLENBQUM7Q0FTRjs7QUFvQ0QsTUFBTSxPQUFPLFVBQVU7SUFFckIsWUFBWSxLQUFRO1FBRHBCLG9DQUFtQjtRQUVqQix1QkFBQSxJQUFJLHFCQUFVLEtBQUssTUFBQSxDQUFDO0lBQ3RCLENBQUM7SUFDRCxPQUFPO1FBQ0wsT0FBTyx1QkFBQSxJQUFJLHlCQUFPLENBQUM7SUFDckIsQ0FBQztJQUNELFFBQVE7UUFDTixPQUFPLE1BQU0sQ0FBQyx1QkFBQSxJQUFJLHlCQUFPLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBYyxLQUFRO1FBQ2hDLE9BQU8sSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztDQUNGOztBQUNELE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDO0FBRTNDLE1BQU0sTUFBTSxHQUFHLElBQUksT0FBTyxFQUE4QyxDQUFDO0FBQ3pFLE1BQU0sTUFBTSxHQUFHLElBQUksT0FBTyxFQUErQixDQUFDO0FBQzFELE1BQU0sY0FBYyxHQUFHLElBQUksT0FBTyxFQUE0QyxDQUFDO0FBQy9FLE1BQU0sWUFBWSxHQUFHLElBQUksT0FBTyxFQUc3QixDQUFDO0FBQ0osTUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLEVBQXVDLENBQUM7QUFDbkUsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLE9BQU8sRUFHakMsQ0FBQztBQUNKLE1BQU0sY0FBYyxHQUFHLElBQUksT0FBTyxFQUcvQixDQUFDO0FBQ0osTUFBTSxhQUFhLEdBQUcsSUFBSSxPQUFPLEVBQThDLENBQUM7QUFDaEYsTUFBTSx3QkFBd0IsR0FBRyxJQUFJLE9BQU8sRUFHekMsQ0FBQztBQUNKLE1BQU0sc0JBQXNCLEdBQUcsSUFBSSxPQUFPLEVBR3ZDLENBQUM7QUFFSixNQUFNLHNCQUFzQixHQUFHLENBQUMsQ0FBTSxFQUFFLENBQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUUzRCxNQUFNLElBQUk7SUFvQ1IsWUFBWSxFQUNWLFFBQVEsRUFDUixVQUFVLEdBSVg7UUF6Q0QsdUJBQW1CLElBQUksR0FBRyxFQUFnRCxFQUFDO1FBQzNFLHVCQUFtQixJQUFJLEdBQUcsRUFBZSxFQUFDO1FBQzFDLDhCQUEwQixJQUFJLEdBQUcsRUFBbUIsRUFBQztRQUNyRCw4QkFBMEIsSUFBSSxHQUFHLEVBQTRCLEVBQUM7UUFDOUQsMkJBQXVCLElBQUksR0FBRyxFQUF1QyxFQUFDO1FBQ3RFLDhCQUEwQixJQUFJLE9BQU8sRUFBMkIsRUFBQztRQUNqRSxpQ0FBNkIsSUFBSSxHQUFHLEVBQTRCLEVBQUM7UUFDakUsbUNBQWlDO1FBQ2pDLDhCQUEwQyxJQUFJLEVBQUM7UUFDL0MsNEJBQWUsQ0FBQyxFQUFDO1FBQ2pCLDZCQUFnQixLQUFLLEVBQUM7UUFDdEIsNEJBQWUsS0FBSyxFQUFDO1FBQ3JCLGdDQUEyQyxJQUFJLEVBQUM7UUFDaEQsd0JBQVcsSUFBSSxHQUFHLEVBQXVCLEVBQUM7UUFFMUMsZ0NBQTRCLElBQUksR0FBRyxFQUF3QyxFQUFDO1FBRTVFLDhCQUEwQixJQUFJLEdBQUcsRUFBMkMsRUFBQztRQUM3RSw2QkFBeUIsSUFBSSxHQUFHLEVBQThCLEVBQUM7UUFFL0Qsc0NBQWtDLENBQ2hDLElBQVksRUFDWixRQUFRLEdBQUcsTUFBTSxFQUFFLEVBQ2IsRUFBRTs7WUFDUixLQUFLLE1BQU0sWUFBWSxJQUFJLENBQUEsTUFBQSx1QkFBQSxJQUFJLDJCQUFlO2lCQUMzQyxHQUFHLENBQUMsSUFBdUIsQ0FBQywwQ0FDM0IsTUFBTSxFQUFFLEtBQUksRUFBRSxFQUFFO2dCQUNsQixZQUFZLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQzVCO1lBRUQsdUJBQUEsSUFBSSxpQ0FBcUIsTUFBekIsSUFBSSxFQUFzQixRQUFRLENBQUMsQ0FBQztRQUN0QyxDQUFDLEVBQUM7UUFFRixpQ0FBc0U7UUE2RTdELHNCQUFpQixHQUFHLENBQUMsSUFBcUIsRUFBVyxFQUFFLENBQzlELENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekIsdUJBQWtCLEdBQUcsQ0FDNUIsSUFBVSxFQUMwQyxFQUFFLENBQ3RELHVCQUFBLElBQUksb0JBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUEyQyxDQUFDO1FBRTFELGtCQUFhLEdBQUcsQ0FDdkIsSUFBVSxFQUNWLEtBQTRDLEVBQ3RDLEVBQUU7WUFDUixJQUFJLEtBQUssSUFBSSxTQUFTLEVBQUU7Z0JBQ3RCLHVCQUFBLElBQUksMkJBQWUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzlCLHVCQUFBLElBQUksb0JBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDM0I7aUJBQU07Z0JBQ0wsOENBQThDO2dCQUM5QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDaEQsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNyRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMzQyxJQUFJLFFBQVEsS0FBSyxTQUFTLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsRUFBRTtvQkFDdEQsT0FBTztpQkFDUjtxQkFBTSxJQUFJLFlBQVksS0FBSyxTQUFTLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRSxZQUFZLENBQUMsRUFBRTtvQkFDckUsZ0NBQWdDO29CQUNoQyx1QkFBQSxJQUFJLG9CQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMzQjtxQkFBTTtvQkFDTCx1QkFBQSxJQUFJLG9CQUFRLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztpQkFDL0I7Z0JBRUQsdUJBQUEsSUFBSSwyQkFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNsQztZQUVELFFBQVEsdUJBQUEsSUFBSSx3QkFBWSxFQUFFO2dCQUN4QixLQUFLLFFBQVE7b0JBQ1gsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQ3BELDBDQUEwQzt3QkFDMUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekIsT0FBTztxQkFDUjtvQkFDRCxNQUFNO2dCQUNSLEtBQUssTUFBTTtvQkFDVCw2REFBNkQ7b0JBQzdELElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQ2pDLDBDQUEwQzt3QkFDMUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDekIsT0FBTztxQkFDUjtvQkFDRCxNQUFNO2dCQUNSLEtBQUssU0FBUztvQkFDWjt3QkFDRSw2REFBNkQ7d0JBQzdELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDNUMsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFOzRCQUN4QywwQ0FBMEM7NEJBQzFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ3pCLE9BQU87eUJBQ1I7cUJBQ0Y7b0JBQ0QsTUFBTTtnQkFDUixLQUFLLEtBQUssQ0FBQztnQkFDWCxLQUFLLFFBQVE7b0JBQ1gsMENBQTBDO29CQUMxQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUN6QixPQUFPO2FBQ1Y7WUFDRCwyREFBMkQ7WUFDM0QsdUJBQUEsSUFBSSxtQ0FBdUIsTUFBM0IsSUFBSSxFQUF3QixJQUFJLENBQUMsQ0FBQztRQUNwQyxDQUFDLENBQUM7UUFDTyxrQkFBYSxHQUFHLENBQ3ZCLElBQVUsRUFDVixTQUFTLEdBQUcsSUFBSSxFQUN1QixFQUFFO1lBQ3pDLElBQUksdUJBQUEsSUFBSSxvQkFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxTQUFTLEVBQUU7Z0JBQ3ZDLE9BQU8sdUJBQUEsSUFBSSxvQkFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMvQjtpQkFBTSxJQUFJLENBQUMsdUJBQUEsSUFBSSwyQkFBZSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDekMsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDeEM7UUFDSCxDQUFDLENBQUM7UUFDTyx5QkFBb0IsR0FBRyxDQUM5QixJQUFVLEVBQzZCLEVBQUU7WUFDekMsS0FBSyxNQUFNLGFBQWEsSUFBSSx1QkFBQSxJQUFJLDJCQUFlLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQ3hELElBQUksYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDM0IsT0FBTyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNoQzthQUNGO1FBQ0gsQ0FBQyxDQUFDO1FBQ08sb0JBQWUsR0FBRyxDQUN6QixJQUFVLEVBQzRCLEVBQUU7WUFDeEMsS0FBSyxNQUFNLGFBQWEsSUFBSSx1QkFBQSxJQUFJLHdCQUFZLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQ3JELElBQUksYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDM0IsT0FBTyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBeUMsQ0FBQztpQkFDeEU7YUFDRjtZQUNELE9BQU8sc0JBQXNCLENBQUM7UUFDaEMsQ0FBQyxDQUFDO1FBRU8saUJBQVksR0FBRyxDQUFDLElBQXFCLEVBQVcsRUFBRSxDQUN6RCxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUM7UUFDakMsc0JBQWlCLEdBQUcsQ0FBQyxJQUFxQixFQUFXLEVBQUUsQ0FDOUQsdUJBQUEsSUFBSSw4QkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUIsbUJBQWMsR0FBRyxDQUFDLEtBQThCLEVBQVcsRUFBRSxDQUNwRSx1QkFBQSxJQUFJLDJCQUFlLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLG9CQUFlLEdBQUcsQ0FDekIsS0FBOEIsRUFDOUIsT0FBZ0IsRUFDaEIsRUFBRSxRQUFRLEtBQTRCLEVBQUUsRUFDbEMsRUFBRTtZQUNSLElBQUksT0FBTyxFQUFFO2dCQUNYLE1BQU0sWUFBWSxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDakQsSUFBSSxZQUFZLEVBQUU7b0JBQ2hCLHVCQUFBLElBQUksMkJBQWUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ2hDO2dCQUNELFFBQVEsdUJBQUEsSUFBSSx3QkFBWSxFQUFFO29CQUN4QixLQUFLLE1BQU0sQ0FBQztvQkFDWixLQUFLLEtBQUs7d0JBQ1IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQXVCLEVBQUU7NEJBQ3RELFFBQVE7eUJBQ1QsQ0FBQyxDQUFDO3dCQUNILE9BQU87b0JBQ1QsS0FBSyxTQUFTO3dCQUNaLElBQUksWUFBWSxFQUFFOzRCQUNoQixJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBdUIsRUFBRTtnQ0FDdEQsUUFBUTs2QkFDVCxDQUFDLENBQUM7NEJBQ0gsT0FBTzt5QkFDUjt3QkFDRCxNQUFNO29CQUNSO3dCQUNFLE1BQU07aUJBQ1Q7Z0JBQ0QsdUJBQUEsSUFBSSxtQ0FBdUIsTUFBM0IsSUFBSSxFQUF3QixLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQzthQUN6RDtpQkFBTSxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3JDLHVCQUFBLElBQUksMkJBQWUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ2xDLHVCQUFBLElBQUksbUNBQXVCLE1BQTNCLElBQUksRUFBd0IsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7YUFDekQ7UUFDSCxDQUFDLENBQUM7UUFDTyxrQkFBYSxHQUFHLENBQ3ZCLE9BQWdCLEVBQ2hCLEVBQUUsUUFBUSxHQUFHLE1BQU0sRUFBRSxLQUE0QixFQUFFLEVBQzdDLEVBQUU7WUFDUixLQUFLLE1BQU0sS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQzthQUNwRDtRQUNILENBQUMsQ0FBQztRQUVPLGlCQUFZLEdBQUcsQ0FBQyxJQUFxQixFQUFXLEVBQUUsQ0FDekQsdUJBQUEsSUFBSSxvQkFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSx1QkFBQSxJQUFJLDJCQUFlLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELG1CQUFjLEdBQUcsQ0FBQyxJQUFxQixFQUFXLEVBQUUsQ0FDM0QsdUJBQUEsSUFBSSxxQkFBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQixtQkFBYyxHQUFHLENBQUMsSUFBcUIsRUFBVyxFQUFFLENBQzNELHVCQUFBLElBQUksMkJBQWUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkIsbUJBQWMsR0FBRyxRQUFRLENBQUMsRUFFakMsSUFBcUI7O1lBRXJCLEtBQUssTUFBTSxjQUFjLElBQUksQ0FBQSxNQUFBLHVCQUFBLElBQUksNkJBQWlCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQywwQ0FBRSxNQUFNLEVBQUU7Z0JBQ3BFLEVBQUUsRUFBRTtnQkFDSixLQUFLLENBQUMsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDaEM7UUFDSCxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRUosa0JBQWEsR0FBRyxDQUN2QixJQUFxQixFQUNyQixFQUFFLFFBQVEsS0FBNEIsRUFBRSxFQUNaLEVBQUU7O1lBQzlCLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQztZQUV2QixNQUFNLE9BQU8sR0FBbUMsRUFBRSxDQUFDO1lBQ25ELEtBQUssTUFBTSxjQUFjLElBQUksQ0FBQSxNQUFBLHVCQUFBLElBQUksNkJBQWlCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQywwQ0FBRSxNQUFNLEVBQUU7Z0JBQ3BFLEVBQUUsRUFBRTtnQkFDSixNQUFNLE1BQU0sR0FBRyxjQUFjLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBRXpDLElBQUksTUFBTSxZQUFZLE9BQU8sRUFBRTtvQkFDN0IsVUFBVSxHQUFHLElBQUksQ0FBQztvQkFDbEIsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDdEI7cUJBQU07b0JBQ0wsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDdEI7YUFDRjtZQUVELElBQUksVUFBVSxFQUFFO2dCQUNkLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7b0JBQ3BELElBQUksdUJBQUEsSUFBSSw4QkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssT0FBTyxFQUFFO3dCQUNoRCxPQUFPLHVCQUFBLElBQUksOEJBQWtCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7cUJBQ3BFO29CQUNELHVCQUFBLElBQUksOEJBQWtCLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUNwQyx1QkFBQSxJQUFJLG1DQUF1QixNQUEzQixJQUFJLEVBQXdCLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztvQkFDNUMsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDM0MsQ0FBQyxDQUFDLENBQUM7Z0JBRUgsdUJBQUEsSUFBSSw4QkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUMxQyx1QkFBQSxJQUFJLG1DQUF1QixNQUEzQixJQUFJLEVBQXdCLElBQUksQ0FBQyxDQUFDLENBQUMsNEJBQTRCO2dCQUMvRCxPQUFPLE9BQU8sQ0FBQzthQUNoQjtpQkFBTTtnQkFDTCx1QkFBQSxJQUFJLDhCQUFrQixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDcEMsdUJBQUEsSUFBSSxtQ0FBdUIsTUFBM0IsSUFBSSxFQUF3QixJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQzVDLE9BQU8sT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDMUM7UUFDSCxDQUFDLENBQUM7UUFDTyxnQkFBVyxHQUFHLENBQUMsRUFBRSxRQUFRLEdBQUcsTUFBTSxFQUFFLEtBQTRCLEVBQUUsRUFFL0QsRUFBRTtZQUNaLElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQztZQUV2QixNQUFNLE9BQU8sR0FBbUMsRUFBRSxDQUFDO1lBRW5ELEtBQUssTUFBTSxJQUFJLElBQUksdUJBQUEsSUFBSSw2QkFBaUIsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDL0MsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUU7b0JBQ3RDLFFBQVE7aUJBQ1QsQ0FBQyxDQUFDO2dCQUNILElBQUksTUFBTSxZQUFZLE9BQU8sRUFBRTtvQkFDN0IsVUFBVSxHQUFHLElBQUksQ0FBQztpQkFDbkI7Z0JBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUN0QjtZQUVELElBQUksVUFBVSxFQUFFO2dCQUNkLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7b0JBQ3BELElBQUksdUJBQUEsSUFBSSwyQkFBZSxLQUFLLE9BQU8sRUFBRTt3QkFDbkMsT0FBTyx1QkFBQSxJQUFJLDJCQUFlLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQztxQkFDNUM7b0JBQ0QsdUJBQUEsSUFBSSx1QkFBa0IsSUFBSSxNQUFBLENBQUM7b0JBQzNCLE9BQU8sT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzNDLENBQUMsQ0FBcUIsQ0FBQztnQkFFdkIsdUJBQUEsSUFBSSx1QkFBa0IsT0FBTyxNQUFBLENBQUM7Z0JBRTlCLE9BQU8sT0FBTyxDQUFDO2FBQ2hCO2lCQUFNO2dCQUNMLHVCQUFBLElBQUksdUJBQWtCLElBQUksTUFBQSxDQUFDO2dCQUMzQixPQUFPLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzFDO1FBQ0gsQ0FBQyxDQUFDO1FBRUY7Ozs7V0FJRztRQUNNLFdBQU0sR0FBRyxLQUFLLEVBQ3JCLEtBR3FDLEVBQzBCLEVBQUU7O1lBQ2pFLElBQUksdUJBQUEsSUFBSSxzQkFBVSxDQUFDLE9BQU8sRUFBRTtnQkFDMUIsTUFBTSx1QkFBQSxJQUFJLHNCQUFVLENBQUMsT0FBTyxDQUFDO29CQUMzQixLQUFLO29CQUNMLFdBQVcsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQztvQkFDdkMsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDO29CQUNuQyxJQUFJLEVBQUUsSUFBSTtpQkFDWCxDQUFDLENBQUM7YUFDSjtZQUVELE1BQU0sYUFBYSxHQUFHLE1BQU0sRUFBRSxDQUFDO1lBRS9CLHVCQUFBLElBQUksc0JBQWlCLElBQUksTUFBQSxDQUFDO1lBQzFCLGdEQUFBLENBQUEseURBQWlCLEVBQWpCLElBQW1CLElBQUEsQ0FBQSxNQUFBLENBQUM7WUFDcEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUV6QixNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUM7WUFFckUsdUJBQUEsSUFBSSxpQ0FBcUIsTUFBekIsSUFBSSxFQUFzQixhQUFhLENBQUMsQ0FBQztZQUV6QyxNQUFNLE9BQU8sR0FDWCxjQUFjLFlBQVksT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLGNBQWMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDO1lBRTVFLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ1osdUJBQUEsSUFBSSxzQkFBaUIsS0FBSyxNQUFBLENBQUM7Z0JBRTNCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztnQkFFdEMsdUJBQUEsSUFBSSxpQ0FBcUIsTUFBekIsSUFBSSxDQUF1QixDQUFDO2dCQUU1QixJQUFJLHVCQUFBLElBQUksc0JBQVUsQ0FBQyxTQUFTLEVBQUU7b0JBQzVCLE1BQU0sdUJBQUEsSUFBSSxzQkFBVSxDQUFDLFNBQVMsQ0FBQzt3QkFDN0IsS0FBSzt3QkFDTCxXQUFXLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUM7d0JBQ3ZDLE1BQU0sRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQzt3QkFDbkMsSUFBSSxFQUFFLElBQUk7d0JBQ1YsTUFBTTtxQkFDUCxDQUFDLENBQUM7aUJBQ0o7Z0JBRUQsSUFBSSx1QkFBQSxJQUFJLHNCQUFVLENBQUMsT0FBTyxFQUFFO29CQUMxQixNQUFNLHVCQUFBLElBQUksc0JBQVUsQ0FBQyxPQUFPLENBQUM7d0JBQzNCLEtBQUs7d0JBQ0wsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO3dCQUN2QyxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7d0JBQ25DLElBQUksRUFBRSxJQUFJO3FCQUNYLENBQUMsQ0FBQztpQkFDSjtnQkFFRCxPQUFPLE1BQU0sQ0FBQzthQUNmO1lBRUQsSUFBSTtnQkFDRixNQUFNLHVCQUFBLElBQUksc0JBQVUsQ0FBQyxRQUFRLENBQUM7b0JBQzVCLEtBQUs7b0JBQ0wsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO29CQUN2QyxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7b0JBQ25DLElBQUksRUFBRSxJQUFJO2lCQUNYLENBQUMsQ0FBQzthQUNKO1lBQUMsT0FBTyxLQUFVLEVBQUU7Z0JBQ25CLHVCQUFBLElBQUkseUJBQW9CLENBQUMsR0FBRyxFQUFFO29CQUM1QixJQUFJLEtBQUssRUFBRTt3QkFDVCxPQUFPLFNBQVMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7cUJBQzlEO29CQUVELE9BQU8sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztnQkFDaEQsQ0FBQyxDQUFDLEVBQUUsTUFBQSxDQUFDO2dCQUVMLHVCQUFBLElBQUksc0JBQWlCLEtBQUssTUFBQSxDQUFDO2dCQUUzQix1QkFBQSxJQUFJLGlDQUFxQixNQUF6QixJQUFJLENBQXVCLENBQUM7Z0JBRTVCLElBQUksdUJBQUEsSUFBSSxzQkFBVSxDQUFDLE9BQU8sRUFBRTtvQkFDMUIsTUFBTSx1QkFBQSxJQUFJLHNCQUFVLENBQUMsT0FBTyxDQUFDO3dCQUMzQixLQUFLO3dCQUNMLFdBQVcsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQzt3QkFDdkMsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDO3dCQUNuQyxJQUFJLEVBQUUsSUFBSTt3QkFDVixLQUFLO3FCQUNOLENBQUMsQ0FBQztpQkFDSjtnQkFDRCxJQUFJLHVCQUFBLElBQUksc0JBQVUsQ0FBQyxPQUFPLEVBQUU7b0JBQzFCLE1BQU0sdUJBQUEsSUFBSSxzQkFBVSxDQUFDLE9BQU8sQ0FBQzt3QkFDM0IsS0FBSzt3QkFDTCxXQUFXLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUM7d0JBQ3ZDLE1BQU0sRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQzt3QkFDbkMsSUFBSSxFQUFFLElBQUk7cUJBQ1gsQ0FBQyxDQUFDO2lCQUNKO2dCQUNELE9BQU8sS0FBSyxDQUFDO2FBQ2Q7WUFFRCx1QkFBQSxJQUFJLHNCQUFpQixLQUFLLE1BQUEsQ0FBQztZQUMzQix1QkFBQSxJQUFJLHFCQUFnQixJQUFJLE1BQUEsQ0FBQztZQUV6Qix1QkFBQSxJQUFJLGlDQUFxQixNQUF6QixJQUFJLENBQXVCLENBQUM7WUFFNUIsSUFBSSx1QkFBQSxJQUFJLHNCQUFVLENBQUMsU0FBUyxFQUFFO2dCQUM1QixNQUFNLHVCQUFBLElBQUksc0JBQVUsQ0FBQyxTQUFTLENBQUM7b0JBQzdCLEtBQUs7b0JBQ0wsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO29CQUN2QyxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7b0JBQ25DLElBQUksRUFBRSxJQUFJO2lCQUNYLENBQUMsQ0FBQzthQUNKO1lBRUQsSUFBSSx1QkFBQSxJQUFJLHNCQUFVLENBQUMsT0FBTyxFQUFFO2dCQUMxQixNQUFNLHVCQUFBLElBQUksc0JBQVUsQ0FBQyxPQUFPLENBQUM7b0JBQzNCLEtBQUs7b0JBQ0wsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO29CQUN2QyxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7b0JBQ25DLElBQUksRUFBRSxJQUFJO2lCQUNYLENBQUMsQ0FBQzthQUNKO1FBQ0gsQ0FBQyxDQUFDO1FBRU8saUJBQVksR0FBRyxDQUFDLEtBQXdDLEVBQUUsRUFBRTtZQUNuRSxLQUFLLGFBQUwsS0FBSyx1QkFBTCxLQUFLLENBQUUsY0FBYyxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixDQUFDLENBQUM7UUFFTyxXQUFNLEdBQUcsR0FFaEIsRUFBRSxDQUFDLHVCQUFBLElBQUksb0JBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNsQixXQUFNLEdBQUcsUUFBUSxDQUFDLEVBRXpCLFNBQVMsR0FBRyxJQUFJO1lBRWhCLE1BQU0sV0FBVyxHQUFHLElBQUksR0FBRyxFQUFVLENBQUM7WUFFdEMsS0FBSyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLHVCQUFBLElBQUksb0JBQVEsRUFBRTtnQkFDeEMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDdEIsTUFBTSxDQUFDLElBQXVCLEVBQUUsS0FBSyxDQUFDLENBQUM7YUFDeEM7WUFDRCxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUNkLEtBQUssTUFBTSxJQUFJLElBQUksdUJBQUEsSUFBSSwyQkFBZSxFQUFFO29CQUN0QyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUN2QjtnQkFFRCxLQUFLLE1BQU0sYUFBYSxJQUFJLHVCQUFBLElBQUksMkJBQWUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtvQkFDeEQsS0FBSyxNQUFNLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxJQUFJLGFBQWEsRUFBRTt3QkFDaEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7NEJBQzFCLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ3RCLE1BQU0sQ0FBQyxJQUF1QixFQUFFLFlBQVksQ0FBQyxDQUFDO3lCQUMvQztxQkFDRjtpQkFDRjthQUNGO1FBQ0gsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVKLGtCQUFhLEdBQUcsR0FBc0MsRUFBRSxDQUMvRCx1QkFBQSxJQUFJLDJCQUFlLENBQUMsTUFBTSxFQUFFLENBQUM7UUFFdEIsV0FBTSxHQUFHLFFBQVEsQ0FBQztZQUd6QixLQUFLLE1BQU0sSUFBSSxJQUFJLHVCQUFBLElBQUksNkJBQWlCLENBQUMsSUFBSSxFQUFFLEVBQUU7Z0JBQy9DLE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzlDLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtvQkFDakIsTUFBTSxDQUFDLElBQXVCLEVBQUUsTUFBTSxDQUFDLENBQUM7aUJBQ3pDO2FBQ0Y7UUFDSCxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osb0JBQWUsR0FBRyxDQUFDLFNBQVMsR0FBRyxJQUFJLEVBQTBCLEVBQUU7WUFDdEUsTUFBTSxRQUFRLEdBQUcsRUFBNEIsQ0FBQztZQUU5QyxLQUFLLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDbEQsR0FBRyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7YUFDNUI7WUFFRCxPQUFPLFFBQVEsQ0FBQztRQUNsQixDQUFDLENBQUM7UUFDTyxvQkFBZSxHQUFHLEdBQTJCLEVBQUU7WUFDdEQsTUFBTSxTQUFTLEdBQUcsRUFBNEIsQ0FBQztZQUUvQyxLQUFLLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUN6QyxHQUFHLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQzthQUM3QjtZQUVELE9BQU8sU0FBUyxDQUFDO1FBQ25CLENBQUMsQ0FBQztRQUVPLHFCQUFnQixHQUFHLENBQzFCLElBQXFCLEVBQ3JCLEVBQUUsUUFBUSxLQUE0QixFQUFFLEVBQ2xDLEVBQUU7O1lBQ1IsS0FBSyxNQUFNLGNBQWMsSUFBSSxDQUFBLE1BQUEsdUJBQUEsSUFBSSw2QkFBaUIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLDBDQUFFLE1BQU0sRUFBRTtnQkFDcEUsRUFBRSxFQUFFO2dCQUNKLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUN4QjtZQUNELHVCQUFBLElBQUksbUNBQXVCLE1BQTNCLElBQUksRUFBd0IsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQUVPLGdCQUFXLEdBQUcsQ0FBQyxFQUN0QixRQUFRLEdBQUcsTUFBTSxFQUFFLE1BQ00sRUFBRSxFQUFRLEVBQUU7WUFDckMsS0FBSyxNQUFNLElBQUksSUFBSSx1QkFBQSxJQUFJLDZCQUFpQixDQUFDLElBQUksRUFBRSxFQUFFO2dCQUMvQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQzthQUMzQztRQUNILENBQUMsQ0FBQztRQUVPLGVBQVUsR0FBRyxDQUNwQixJQUFxQixFQUNyQixFQUFFLFFBQVEsR0FBRyxNQUFNLEVBQUUsS0FBNEIsRUFBRSxFQUM3QyxFQUFFO1lBQ1IsZUFBZTtZQUNmLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBRTFDLHVCQUFBLElBQUksb0JBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFMUIsdUJBQUEsSUFBSSwyQkFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUVqQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDNUMsSUFBSSxLQUFLLEVBQUU7Z0JBQ1QsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQzthQUNsRDtZQUVELHVCQUFBLElBQUksbUNBQXVCLE1BQTNCLElBQUksRUFBd0IsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQUVGOztXQUVHO1FBQ00scUJBQWdCLEdBQUcsQ0FBQyxFQUFFLFFBQVEsS0FBNEIsRUFBRSxFQUFFLEVBQUU7WUFDdkUsdUJBQUEsSUFBSSxxQkFBZ0IsQ0FBQyxNQUFBLENBQUM7WUFDdEIsdUJBQUEsSUFBSSxpQ0FBcUIsTUFBekIsSUFBSSxFQUFzQixRQUFRLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUM7UUFFRjs7V0FFRztRQUNNLG1CQUFjLEdBQUcsQ0FBQyxFQUFFLFFBQVEsS0FBNEIsRUFBRSxFQUFFLEVBQUU7WUFDckUsdUJBQUEsSUFBSSxxQkFBZ0IsS0FBSyxNQUFBLENBQUM7WUFDMUIsdUJBQUEsSUFBSSxpQ0FBcUIsTUFBekIsSUFBSSxFQUFzQixRQUFRLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUM7UUFFRjs7V0FFRztRQUNNLHlCQUFvQixHQUFHLENBQUMsRUFDL0IsUUFBUSxNQUNpQixFQUFFLEVBQUUsRUFBRTtZQUMvQix1QkFBQSxJQUFJLHlCQUFvQixJQUFJLE1BQUEsQ0FBQztZQUM3Qix1QkFBQSxJQUFJLGlDQUFxQixNQUF6QixJQUFJLEVBQXNCLFFBQVEsQ0FBQyxDQUFDO1FBQ3RDLENBQUMsQ0FBQztRQUVGOztXQUVHO1FBQ00sVUFBSyxHQUFHLENBQUMsRUFDaEIsUUFBUSxHQUFHLE1BQU0sRUFBRSxFQUNuQixPQUFPLE1BT0wsRUFBRSxFQUFRLEVBQUU7WUFDZCxNQUFNLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBVSxDQUFDO1lBRXRDLEtBQUssTUFBTSxFQUNULEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxHQUNoQixJQUFJLHVCQUFBLElBQUksb0JBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRTtnQkFDMUIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO2FBQ3JDO1lBRUQsS0FBSyxNQUFNLElBQUksSUFBSSx1QkFBQSxJQUFJLDZCQUFpQixDQUFDLElBQUksRUFBRSxFQUFFO2dCQUMvQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDMUIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO2lCQUNyQzthQUNGO1lBRUQsS0FBSyxNQUFNLElBQUksSUFBSSx1QkFBQSxJQUFJLG9CQUFRLENBQUMsSUFBSSxFQUFFLEVBQUU7Z0JBQ3RDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO29CQUMxQixXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUN0QixJQUFJLENBQUMsVUFBVSxDQUFDLElBQXVCLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO2lCQUN4RDthQUNGO1lBRUQsSUFBSSxDQUFDLENBQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFdBQVcsQ0FBQSxFQUFFO2dCQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO2FBQ3JDO1lBRUQsSUFBSSxDQUFDLENBQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFNBQVMsQ0FBQSxFQUFFO2dCQUN2QixJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQzthQUNuQztZQUVELElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFFeEMsdUJBQUEsSUFBSSxpQ0FBcUIsTUFBekIsSUFBSSxFQUFzQixRQUFRLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUM7UUFFRixvQ0FBZ0MsQ0FBQyxHQUFHLEVBQUU7WUFDcEMsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDO2dCQXNDNUIsTUFBTSxXQUFXLEdBQUcsR0FBa0IsRUFBRSxDQUFDLENBQUM7b0JBQ3hDLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztvQkFDckIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO29CQUNyQixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7b0JBQy9CLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztvQkFDN0IsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZO29CQUMvQixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7b0JBQzdCLGVBQWUsRUFBRSxJQUFJLENBQUMsZUFBZTtvQkFDckMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO2lCQUN0QixDQUFDLENBQUM7Z0JBRUgsSUFBSSxTQUFTLEdBQUcsV0FBVyxFQUFFLENBQUM7Z0JBRTlCLE9BQU8sSUFBSSxFQUFFO29CQUNYLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO29CQUUvQixNQUFNLENBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQTZCLENBQUMsS0FBSyxDQUM5RCxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FDMUMsQ0FBQztvQkFFRixTQUFTLEdBQUcsUUFBUSxDQUFDO2lCQUN0QjtZQUNILENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFYixzQkFBc0I7WUFDdEIsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDO1lBRXBCLE9BQU8sQ0FBQyxRQUFRLEdBQUcsTUFBTSxFQUFFLEVBQUUsRUFBRTtnQkFDN0IsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFLEVBQUU7b0JBQ3ZCLEtBQUssTUFBTSxXQUFXLElBQUksdUJBQUEsSUFBSSwwQkFBYyxFQUFFO3dCQUM1QyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7cUJBQ3ZCO2lCQUNGO1lBQ0gsQ0FBQyxDQUFDO1FBQ0osQ0FBQyxDQUFDLEVBQUUsRUFBQztRQXpxQkgsdUJBQUEsSUFBSSxrQkFDRixPQUFPLFFBQVEsS0FBSyxVQUFVO1lBQzVCLENBQUMsQ0FBQztnQkFDRSxRQUFRO2FBQ1Q7WUFDSCxDQUFDLENBQUMsUUFBUSxNQUFBLENBQUM7UUFDZix1QkFBQSxJQUFJLG9CQUFlLFVBQVUsTUFBQSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLHVCQUFBLElBQUksb0JBQVEsQ0FBQyxDQUFDO1FBQy9CLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLHVCQUFBLElBQUksb0JBQVEsQ0FBQyxDQUFDO1FBQy9CLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLHVCQUFBLElBQUksMkJBQWUsQ0FBQyxDQUFDO1FBQzlDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLHVCQUFBLElBQUksd0JBQVksQ0FBQyxDQUFDO1FBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLHVCQUFBLElBQUkscUJBQVMsQ0FBQyxDQUFDO1FBQ2pDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsdUJBQUEsSUFBSSw2QkFBaUIsQ0FBQyxDQUFDO1FBQ2xELGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLHVCQUFBLElBQUksMkJBQWUsQ0FBQyxDQUFDO1FBQzlDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLHVCQUFBLElBQUksMEJBQWMsQ0FBQyxDQUFDO1FBQzVDLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsdUJBQUEsSUFBSSxtQ0FBdUIsQ0FBQyxDQUFDO1FBQ2hFLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsdUJBQUEsSUFBSSxpQ0FBcUIsQ0FBQyxDQUFDO1FBRTVELGlEQUFpRDtRQUNqRCxNQUFNLENBQUMsZ0JBQWdCLENBQ3JCLElBQUksRUFDSjtZQUNFLFNBQVM7WUFDVCxTQUFTO1lBQ1QsY0FBYztZQUNkLGFBQWE7WUFDYixjQUFjO1lBQ2QsYUFBYTtZQUNiLGlCQUFpQjtZQUNqQixTQUFTO1NBQ1YsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDdkIsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHO2dCQUNaLEdBQUcsTUFBTSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDO2dCQUNyRSxVQUFVLEVBQUUsSUFBSTthQUNLLENBQUM7WUFDeEIsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDLEVBQUUsRUFBMkIsQ0FBQyxDQUNoQyxDQUFDO0lBQ0osQ0FBQztJQUVELElBQUksT0FBTztRQUNULE9BQU8sQ0FBQyxDQUFDLHVCQUFBLElBQUksb0JBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLHVCQUFBLElBQUksMkJBQWUsQ0FBQyxJQUFJLENBQUM7SUFDM0QsQ0FBQztJQUNELElBQUksT0FBTztRQUNULE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUM7SUFDckMsQ0FBQztJQUNELElBQUksWUFBWTtRQUNkLE9BQU8sQ0FBQyxDQUFDLHVCQUFBLElBQUksOEJBQWtCLENBQUMsSUFBSSxDQUFDO0lBQ3ZDLENBQUM7SUFDRCxJQUFJLFdBQVc7UUFDYixPQUFPLHVCQUFBLElBQUkseUJBQWEsQ0FBQztJQUMzQixDQUFDO0lBQ0QsSUFBSSxZQUFZO1FBQ2QsT0FBTyx1QkFBQSxJQUFJLDBCQUFjLENBQUM7SUFDNUIsQ0FBQztJQUNELElBQUksV0FBVztRQUNiLE9BQU8sdUJBQUEsSUFBSSx5QkFBYSxDQUFDO0lBQzNCLENBQUM7SUFDRCxJQUFJLGVBQWU7UUFDakIsT0FBTyx1QkFBQSxJQUFJLDZCQUFpQixDQUFDO0lBQy9CLENBQUM7SUFDRCxJQUFJLE9BQU87UUFDVCxPQUFPLENBQUMsQ0FBQyx1QkFBQSxJQUFJLHFCQUFTLENBQUMsSUFBSSxDQUFDO0lBQzlCLENBQUM7SUFDRCxJQUFJLFVBQVU7UUFDWixPQUFPLHVCQUFBLElBQUksd0JBQVksQ0FBQztJQUMxQixDQUFDO0NBd21CRjs7QUFFRCxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQztBQUN2RCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLEVBR3BDLFFBQWtCLEVBQ2xCLFVBQW1CO0lBRW5CLEtBQUssTUFBTSxHQUFHLElBQUksUUFBUSxFQUFFO1FBQzFCLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUU7WUFDdEMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUN2RCxJQUFJLEtBQUssWUFBWSxVQUFVLEVBQUU7Z0JBQy9CLE1BQU0sQ0FBQyxJQUFXLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7YUFDdEM7aUJBQU07Z0JBQ0wsS0FBSyxDQUFDLENBQUMsYUFBYSxDQUFDLEtBQWdDLEVBQUUsSUFBSSxDQUFRLENBQUM7YUFDckU7U0FDRjtLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxrQkFBa0IsR0FBRyxRQUFRLENBQUMsRUFDbEMsWUFBcUMsRUFDckMsVUFBbUI7SUFZbkIsS0FBSyxNQUFNLEdBQUcsSUFBSSxZQUFZLEVBQUU7UUFDOUIsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsRUFBRTtZQUMxQyxNQUFNLEtBQUssR0FBRyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEMsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1lBQ3ZELElBQUksT0FBTyxLQUFLLEtBQUssVUFBVSxJQUFJLE1BQU0sQ0FBQyxRQUFRLElBQUksS0FBSyxFQUFFO2dCQUMzRCxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBUSxDQUFDO2FBQzVCO2lCQUFNO2dCQUNMLEtBQUssQ0FBQyxDQUFDLGtCQUFrQixDQUFDLEtBQVksRUFBRSxJQUFJLENBQVEsQ0FBQzthQUN0RDtTQUNGO0tBQ0Y7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsRUFDL0IsVUFBZ0MsRUFDaEMsVUFBbUI7SUFJbkIsS0FBSyxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUU7UUFDNUIsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsRUFBRTtZQUN4QyxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUIsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1lBQ3ZELElBQUksT0FBTyxLQUFLLEtBQUssVUFBVSxFQUFFO2dCQUMvQixNQUFNLENBQUMsSUFBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQzVCO2lCQUFNO2dCQUNMLEtBQUssQ0FBQyxDQUFDLGVBQWUsQ0FBQyxLQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7YUFDNUM7U0FDRjtLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBcUlGLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBbUIsSUFBSSxDQUFDLENBQUM7QUFDMUQsV0FBVyxDQUFDLFdBQVcsR0FBRyxhQUFhLENBQUM7QUFFeEMsTUFBTSxXQUFXLEdBQUcsQ0FDbEIsS0FBNkMsRUFDaEMsRUFBRTtJQUNmLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDcEMsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRTNCLE9BQU8sWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFDMUMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQzFCLEtBSTBDLEVBQzdCLEVBQUU7SUFDZixJQUFJLE1BQU0sSUFBSSxLQUFLLEVBQUU7UUFDbkIsT0FBTyxDQUNMLG9CQUFDLFdBQVcsQ0FBQyxRQUFRLElBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQ3BDLEtBQUssQ0FBQyxRQUFRLENBQ00sQ0FDeEIsQ0FBQztLQUNIO1NBQU07UUFDTCxPQUFPLG9CQUFDLFdBQVcsT0FBSyxLQUFLLEdBQUksQ0FBQztLQUNuQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0saUJBQWlCLEdBQUcsYUFBYSxDQUFnQixJQUFJLENBQUMsQ0FBQztBQUM3RCxpQkFBaUIsQ0FBQyxXQUFXLEdBQUcsbUJBQW1CLENBQUM7QUFFcEQsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FDaEMsS0FBZ0QsRUFDbkMsRUFBRTtJQUNmLE1BQU0sZ0JBQWdCLEdBQUcsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDdkQsTUFBTSxVQUFVLEdBQUcsZ0JBQWdCO1FBQ2pDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxnQkFBZ0IsQ0FBQztRQUNoRCxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQztJQUNyQixPQUFPLENBQ0wsb0JBQUMsaUJBQWlCLENBQUMsUUFBUSxJQUFDLEtBQUssRUFBRSxVQUFVLElBQzFDLEtBQUssQ0FBQyxRQUFRLENBQ1ksQ0FDOUIsQ0FBQztBQUNKLENBQUMsQ0FBQztBQVNGLE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBRyxDQUEyQyxFQUNoRSxRQUFRLEVBQ1IsYUFBYSxFQUNiLFVBQVUsRUFDVixPQUFPLEVBQ1AsVUFBVSxHQUFHLFFBQVEsR0FDSSxFQUFrQixFQUFFO0lBQzdDLE1BQU0sQ0FBQyxFQUFFLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxFQUFFO1FBQzNCLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFXLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7UUFFekQsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQXFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTFFLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQyxDQUFDLENBQUM7SUFFSCxvQkFBb0IsQ0FDbEIsT0FBTyxDQUNMLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDTCxhQUFhLEVBQUUsYUFBYSxJQUFJLEVBQUU7UUFDbEMsSUFBSTtRQUNKLFNBQVMsRUFBRTtZQUNULEtBQUssRUFBRSxNQUFNLEVBQUU7WUFDZixPQUFPLEVBQUUsTUFBTSxFQUFFO1NBQ2xCO0tBQ0YsQ0FBQyxFQUNGLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUN0QixDQUNGLENBQUM7SUFFRixpQkFBaUIsQ0FDZixPQUFPLENBQ0wsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUNMLFVBQVUsRUFBRSxVQUFVLElBQUksRUFBRTtRQUM1QixJQUFJO1FBQ0osU0FBUyxFQUFFO1lBQ1QsS0FBSyxFQUFFLE1BQU0sRUFBRTtZQUNmLE9BQU8sRUFBRSxNQUFNLEVBQUU7U0FDbEI7S0FDRixDQUFDLEVBQ0YsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQ25CLENBQ0YsQ0FBQztJQUVGLFVBQVUsQ0FDUixPQUFPLENBQ0wsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUNMLE9BQU8sRUFBRSxPQUFPLElBQUksRUFBRTtRQUN0QixJQUFJO0tBQ0wsQ0FBQyxFQUNGLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUNoQixDQUNGLENBQUM7SUFFRixPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxDQUc1QixXQUE0QixFQUNBLEVBQUU7SUFDOUIsTUFBTSxJQUFJLEdBQUcsa0JBQWtCLENBQUM7UUFDOUIsSUFBSSxFQUFFLFdBQVc7UUFDakIsUUFBUSxFQUFFLGdCQUFnQjtLQUMzQixDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUV2QyxTQUFTLENBQ1AsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFO1FBQ1QsSUFBSSxJQUFJLEVBQUU7WUFDUCxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBcUMsQ0FBQyxNQUFNLENBQ2pFLE9BQU8sQ0FDUixDQUFDO1NBQ0g7SUFDSCxDQUFDLEVBRUQsQ0FBQyxJQUFJLENBQUMsQ0FDUCxDQUFDO0lBRUYsT0FBTyxPQUFPLENBQUMsR0FBRyxFQUFFO1FBQ2xCLElBQUksSUFBSSxFQUFFO1lBQ1AsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQXFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzNFO1FBQ0QsT0FBTyxJQUFJLElBQUksU0FBUyxDQUFDO0lBQzNCLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNLGtCQUFrQixHQUFHLENBQUMsRUFDMUIsSUFBSSxFQUNKLFFBQVEsR0FJVCxFQUFhLEVBQUU7SUFDZCxNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7SUFFekMsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLFFBQVEsQ0FBQztJQUVqQyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLFlBQVksRUFBRTtRQUN6QyxJQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7WUFDcEIsTUFBTSxJQUFJLFNBQVMsQ0FDakIsZ0VBQWdFLFFBQVEsNEJBQTRCLENBQ3JHLENBQUM7U0FDSDtLQUNGO0lBQ0QsT0FBTyxPQUFvQixDQUFDO0FBQzlCLENBQUMsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQ3hCLElBQVUsRUFDVixNQUFlLEVBQ08sRUFBRTtJQUN4QixPQUFPLEdBQUcsTUFBTSxJQUFJLElBQUksRUFBRSxDQUFDO0FBQzdCLENBQUMsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsSUFBYSxFQUFVLEVBQUU7SUFDckQsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDakQsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO0tBQ3pEO1NBQU07UUFDTCxPQUFPLElBQUksSUFBSSxFQUFFLENBQUM7S0FDbkI7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLG9CQUFvQixHQUFHLENBQzNCLE9BS0MsRUFDSyxFQUFFO0lBQ1IsTUFBTSxJQUFJLEdBQUcsa0JBQWtCLENBQUM7UUFDOUIsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO1FBQ2xCLFFBQVEsRUFBRSxrQkFBa0I7S0FDN0IsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUU7UUFDNUIsTUFBTSxFQUFFLEdBQUcsTUFBTSxFQUFFLENBQUM7UUFDcEIsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsRUFBZSxDQUFDO1FBQy9DLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFtQyxDQUFDLEdBQUcsQ0FDN0QsRUFBRSxFQUNGLGdCQUFnQixDQUNqQixDQUFDO1FBRUYsT0FBTyxFQUFFLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDO0lBQ2xDLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFFLENBQUM7SUFFbkMsTUFBTSxZQUFZLEdBQUcsTUFBTSxFQUd2QixDQUFDO0lBQ0wsWUFBWSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBRXpDLE1BQU0sY0FBYyxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUU7UUFDbEMsTUFBTSxFQUFFLGdCQUFnQixFQUFFLEdBQUcsS0FBSyxDQUFDO1FBRW5DLE1BQU0sY0FBYyxHQUFHLElBQUksR0FBRyxDQUFTLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFFaEUsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFekIsS0FBSyxNQUFNLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxJQUFJLGFBQWEsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFDeEUsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDaEUsY0FBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN6QixnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDO1NBQzFDO1FBRUQsT0FBTyxjQUFjLENBQUM7SUFDeEIsQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUUvQyxTQUFTLENBQUMsR0FBRyxFQUFFOztRQUNiLE1BQU0sUUFBUSxHQUFHLENBQUEsTUFBQSxZQUFZLENBQUMsT0FBTywwQ0FBRSxLQUFLLEtBQUksTUFBTSxFQUFFLENBQUM7UUFFekQsTUFBTSxpQkFBaUIsR0FBRyx3QkFBd0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUdsRCxDQUFDO1FBRVYsS0FBSyxNQUFNLElBQUksSUFBSSxjQUFjLEVBQUU7WUFDakMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQ25DO0lBQ0gsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFFM0IsU0FBUyxDQUNQLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRTs7UUFDVCxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxFQUFFLEdBQUcsS0FBSyxDQUFDO1FBRXRDLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFtQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUV2RSxNQUFNLFFBQVEsR0FBRyxDQUFBLE1BQUEsWUFBWSxDQUFDLE9BQU8sMENBQUUsT0FBTyxLQUFJLE1BQU0sRUFBRSxDQUFDO1FBRTNELE1BQU0saUJBQWlCLEdBQUcsd0JBQXdCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FHbEQsQ0FBQztRQUVWLEtBQUssTUFBTSxJQUFJLElBQUksZ0JBQWdCLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDMUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQ25DO0lBQ0gsQ0FBQyxFQUNELENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUNkLENBQUM7QUFDSixDQUFDLENBQUM7QUFNRixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUM5QixPQUEwQyxFQUNwQyxFQUFFO0lBQ1IsT0FBTyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUM7QUFFRixNQUFNLGlCQUFpQixHQUFHLENBQ3hCLE9BSzRCLEVBQ3RCLEVBQUU7SUFDUixNQUFNLElBQUksR0FBRyxrQkFBa0IsQ0FBQztRQUM5QixJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7UUFDbEIsUUFBUSxFQUFFLGVBQWU7S0FDMUIsQ0FBQyxDQUFDO0lBRUgsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFFLENBQUM7SUFFbkMsTUFBTSxZQUFZLEdBQUcsTUFBTSxFQUd2QixDQUFDO0lBQ0wsWUFBWSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBRXpDLE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FDN0IsR0FBRyxFQUFFLENBQ0gsUUFBUSxDQUFDO1FBQ1AsS0FBSyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJLGtCQUFrQixDQUNqRCxPQUFPLENBQUMsVUFBVSxDQUNuQixFQUFFO1lBQ0QsTUFBTSxJQUFJLGNBQWMsQ0FBQztnQkFDdkIsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDdkQsSUFBSTtnQkFDSixVQUFVLEVBQ1IsT0FBTyxVQUFVLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVO2FBQy9ELENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxFQUNILENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDLENBQ3ZDLENBQUM7SUFFRixTQUFTLENBQUMsR0FBRyxFQUFFOztRQUNiLE1BQU0sa0JBQWtCLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FHbkQsQ0FBQztRQUVGLE1BQU0sUUFBUSxHQUFHLENBQUEsTUFBQSxZQUFZLENBQUMsT0FBTywwQ0FBRSxLQUFLLEtBQUksTUFBTSxFQUFFLENBQUM7UUFFekQsTUFBTSx5QkFBeUIsR0FBcUIsRUFBRSxDQUFDO1FBRXZELEtBQUssTUFBTSxjQUFjLElBQUksZUFBZSxFQUFFLEVBQUU7WUFDOUMseUJBQXlCLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBRS9DLE1BQU0sbUJBQW1CLEdBQUcsQ0FBQyxHQUFHLEVBQUU7O2dCQUNoQyxJQUFJLE9BQU8sQ0FBQyxtQkFBbUIsS0FBSyxNQUFNLEVBQUU7b0JBQzFDLEtBQUssTUFBTSxpQkFBaUIsSUFBSSxrQkFBa0IsQ0FBQyxHQUFHLENBQ3BELGNBQWMsQ0FBQyxJQUFJLENBQ3BCLElBQUksRUFBRSxFQUFFO3dCQUNQLElBQUksaUJBQWlCLENBQUMsTUFBTSxFQUFFOzRCQUM1QixPQUFPLElBQUksQ0FBQzt5QkFDYjtxQkFDRjtvQkFDRCxPQUFPLEtBQUssQ0FBQztpQkFDZDtxQkFBTTtvQkFDTCxPQUFPLE1BQUEsT0FBTyxDQUFDLG1CQUFtQixtQ0FBSSxLQUFLLENBQUM7aUJBQzdDO1lBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUVMLElBQUksa0JBQWtCLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFFN0Msa0JBQWtCLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQzNDLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2FBQ3ZCO2lCQUFNO2dCQUNMLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLElBQUksR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3hFO1lBRUQsSUFBSSxtQkFBbUIsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFO29CQUN0QyxRQUFRO2lCQUNULENBQUMsQ0FBQzthQUNKO1NBQ0Y7UUFFRCxPQUFPLEdBQUcsRUFBRTtZQUNWLEtBQUssTUFBTSxjQUFjLElBQUkseUJBQXlCLEVBQUU7Z0JBQ3RELE1BQU0sZUFBZSxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3BFLElBQUksZUFBZSxFQUFFO29CQUNuQixlQUFlLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUN2QyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRTt3QkFDekIsa0JBQWtCLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztxQkFDaEQ7aUJBQ0Y7YUFDRjtRQUNILENBQUMsQ0FBQztJQUNKLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztBQUMzRCxDQUFDLENBQUM7QUFXRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FDM0IsT0FBc0MsRUFDaEMsRUFBRTtJQUNSLE9BQU8saUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDcEMsQ0FBQyxDQUFDO0FBTUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQ3hCLE9BQW9DLEVBQzlCLEVBQUU7SUFDUixNQUFNLElBQUksR0FBRyxrQkFBa0IsQ0FBQztRQUM5QixJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7UUFDbEIsUUFBUSxFQUFFLFlBQVk7S0FDdkIsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUU7UUFDNUIsTUFBTSxFQUFFLEdBQUcsTUFBTSxFQUFFLENBQUM7UUFDcEIsTUFBTSxhQUFhLEdBQUcsSUFBSSxHQUFHLEVBQTBCLENBQUM7UUFDdkQsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQW1DLENBQUMsR0FBRyxDQUMzRCxFQUFFLEVBQ0YsYUFBYSxDQUNkLENBQUM7UUFFRixPQUFPLEVBQUUsRUFBRSxFQUFFLGFBQWEsRUFBRSxDQUFDO0lBQy9CLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFFLENBQUM7SUFFbkMsT0FBTyxDQUFDLEdBQUcsRUFBRTtRQUNYLE1BQU0sRUFBRSxhQUFhLEVBQUUsR0FBRyxLQUFLLENBQUM7UUFFaEMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBRXRCLEtBQUssTUFBTSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsSUFBSSxlQUFlLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQy9ELE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1lBQ2hFLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQ2xDO0lBQ0gsQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUV6QyxTQUFTLENBQ1AsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFO1FBQ1QsTUFBTSxFQUFFLEVBQUUsRUFBRSxHQUFHLEtBQUssQ0FBQztRQUVwQixZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBbUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUNELENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUNkLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsVUFHeEIsT0FHRDtJQUtDLE1BQU0sSUFBSSxHQUFHLGtCQUFrQixDQUFDO1FBQzlCLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSTtRQUNsQixRQUFRLEVBQUUsWUFBWTtLQUN2QixDQUFDLENBQUM7SUFFSCxNQUFNLFVBQVUsR0FBRyxhQUFhLEVBQUUsQ0FBQztJQUVuQyxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBRS9DLE1BQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUU7UUFDaEMsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztRQUMxQixPQUFPLElBQUksWUFBWSxDQUFDO1lBQ3RCLFdBQVcsRUFDVCxJQUFJLFlBQVksS0FBSyxJQUFJLENBQUMsVUFBVTtnQkFDbEMsQ0FBQyxDQUFDLElBQUk7Z0JBQ04sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDO1lBQ2xDLElBQUk7WUFDSixPQUFPO1NBQ1IsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUVyQyxTQUFTLENBQUMsR0FBRyxFQUFFO1FBQ2IsTUFBTSxnQkFBZ0IsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FHL0MsQ0FBQztRQUVGLElBQUksZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUMxQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBNEIsQ0FBQyxHQUFHLENBQ3JFLFlBQVksQ0FDYixDQUFDO1NBQ0g7YUFBTTtZQUNMLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLElBQUksR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xFO1FBRUQsT0FBTyxHQUFHLEVBQUU7WUFDVixNQUFNLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlELElBQUksYUFBYSxFQUFFO2dCQUNqQixhQUFhLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUNuQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRTtvQkFDdkIsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDNUM7YUFDRjtRQUNILENBQUMsQ0FBQztJQUNKLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRXpCLE9BQU8sT0FBTyxDQUNaLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDTCxLQUFLLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFNO1FBQ2pELFlBQVksRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBTTtRQUMvRCxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3BELENBQUM7SUFDRix1REFBdUQ7SUFDdkQsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUMvQixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBbUJGLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxPQUFPLEVBQXlDLENBQUM7QUFDOUU7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsVUFJdEIsT0FBMkM7SUFDM0MsTUFBTSxJQUFJLEdBQUcsa0JBQWtCLENBQUM7UUFDOUIsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO1FBQ2xCLFFBQVEsRUFBRSxVQUFVO0tBQ3JCLENBQUMsQ0FBQztJQUVILE1BQU0sVUFBVSxHQUFHLGFBQWEsRUFBRSxDQUFDO0lBRW5DLE1BQU0sQ0FBQyxFQUFFLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBRXZDLE1BQU0sbUJBQW1CLEdBQUcsTUFBTSxFQUFXLENBQUM7SUFDOUMsbUJBQW1CLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztJQUV2RCxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFOztRQUN6QixNQUFNLElBQUksR0FBRyxVQUFVO1lBQ3JCLENBQUMsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUM7WUFDdEMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFFakIsTUFBTSxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDO1lBQzFDLElBQUksS0FBSyxDQUFZO2dCQUNuQixJQUFJO2dCQUNKLElBQUk7Z0JBQ0osZ0JBQWdCLEVBQUUsbUJBQW1CLENBQUMsT0FBTzthQUM5QyxDQUFDLENBQXFCLENBQUM7UUFFMUIsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQUEsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxtQ0FBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVwRSwwRUFBMEU7UUFDekUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQWdELENBQUMsR0FBRyxDQUNsRSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksRUFDaEIsS0FBSyxDQUNOLENBQUM7UUFFRixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFFckMsTUFBTSxZQUFZLEdBQUcsTUFBTSxFQUd6QixDQUFDO0lBQ0gsWUFBWSxDQUFDLE9BQU8sR0FBRztRQUNyQixLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQ2YsT0FBTyxFQUFFLE1BQU0sRUFBRTtLQUNsQixDQUFDO0lBRUYsTUFBTSxpQkFBaUIsR0FBRyxPQUFPLENBQy9CLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDTCxhQUFhLEVBQ1gsT0FBTyxDQUFDLFlBQVksS0FBSyxTQUFTO1lBQ2hDLENBQUMsQ0FBQyxFQUFFO1lBQ0osQ0FBQyxDQUFDLG9EQUFvRDtnQkFDcEQsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUU7UUFDOUQsSUFBSTtRQUNKLFNBQVMsRUFBRSxZQUFZLENBQUMsT0FBTztLQUNoQyxDQUFDLEVBQ0YsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQzNDLENBQUM7SUFFRixNQUFNLFlBQVksR0FBRyxPQUFPLENBQzFCLEdBQUcsRUFBRSxDQUNILE9BQU8sQ0FBQyxTQUFTLEtBQUssU0FBUztRQUM3QixDQUFDLENBQUMsRUFBRTtRQUNKLENBQUMsQ0FBQywrQ0FBK0M7WUFDL0MsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLENBQUMsU0FBUyxFQUFFLEVBQzNDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsU0FBUyxDQUFDLENBQ2xDLENBQUM7SUFFRixNQUFNLFlBQVksR0FBRyxPQUFPLENBQzFCLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDTCxVQUFVLEVBQUUsWUFBWTtRQUN4QixJQUFJO1FBQ0osU0FBUyxFQUFFLFlBQVksQ0FBQyxPQUFPO1FBQy9CLG1CQUFtQixFQUFFLE9BQU8sQ0FBQyxtQkFBbUI7S0FDakQsQ0FBQyxFQUNGLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxtQkFBbUIsRUFBRSxZQUFZLENBQUMsQ0FDbEQsQ0FBQztJQUVGLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FDekIsR0FBRyxFQUFFLENBQ0gsQ0FBQztRQUNDLE9BQU8sRUFBRSxPQUFPLENBQUMsT0FBTztZQUN0QixDQUFDLENBQUM7Z0JBQ0UsQ0FBQyxPQUFPLENBQUMsSUFBYyxDQUFDLEVBQUUsT0FBTyxDQUFDLE9BQU87YUFDMUM7WUFDSCxDQUFDLENBQUMsRUFBRTtRQUNOLElBQUk7S0FDRyxDQUFBLEVBQ1gsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQ3RDLENBQUM7SUFFRixTQUFTLENBQUMsR0FBRyxFQUFFO1FBQ2IsTUFBTSxnQkFBZ0IsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FHL0MsQ0FBQztRQUVGLE1BQU0sWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDO1lBQ3BDLFdBQVcsRUFBRSxLQUFLO1lBQ2xCLE9BQU87U0FDUixDQUFDLENBQUM7UUFFSCxJQUFJLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDMUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQTRCLENBQUMsR0FBRyxDQUNyRSxZQUFZLENBQ2IsQ0FBQztTQUNIO2FBQU07WUFDTCxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxHQUFHLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakU7UUFFRCxPQUFPLEdBQUcsRUFBRTtZQUNWLE1BQU0sYUFBYSxHQUFHLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUQsSUFBSSxhQUFhLEVBQUU7Z0JBQ2pCLGFBQWEsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFO29CQUN2QixnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUM1QzthQUNGO1lBRUQsTUFBTSxRQUFRLEdBQUksZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBWSxHQUFHLENBQUMsQ0FBQztZQUM3RCxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBRXRDLElBQUksUUFBUSxLQUFLLENBQUMsRUFBRTtnQkFDakIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQWdELENBQUMsTUFBTSxDQUNyRSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FDakIsQ0FBQztnQkFFRixJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRTtvQkFDMUIsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO2lCQUNmO2FBQ0Y7UUFDSCxDQUFDLENBQUM7SUFDSixDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLCtDQUErQztJQUVsRSxvQkFBb0IsQ0FBQyxpQkFBd0IsQ0FBQyxDQUFDO0lBRS9DLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxDQUFDO0lBRWhDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUV4QixPQUFPLEtBQXVCLENBQUM7QUFDakMsQ0FBQyxDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FFeEIsT0FJRCxFQUFRLEVBQUU7SUFDVCxNQUFNLElBQUksR0FBRyxrQkFBa0IsQ0FBQztRQUM5QixJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7UUFDbEIsUUFBUSxFQUFFLFlBQVk7S0FDdkIsQ0FBQyxDQUFDO0lBRUgsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFFLENBQUM7SUFFbkMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBRWhDLE1BQU0sVUFBVSxHQUFHLFdBQVcsQ0FDNUIsQ0FBQyxPQUFnQixFQUFFLEVBQUU7UUFDbkIsTUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQy9DLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSTtZQUNkLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVuQixNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBNkIsQ0FBQztRQUVqRSxNQUFNLFFBQVEsR0FBRyxNQUFNLEVBQUUsQ0FBQztRQUUxQixNQUFNLHFCQUFxQixHQUFHLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBR3RELENBQUM7UUFFVixLQUFLLE1BQU0sV0FBVyxJQUFJLGFBQWEsRUFBRTtZQUN2QyxNQUFNLFNBQVMsR0FDYixXQUFXLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDO1lBRXRFLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1lBRXhFLElBQUksT0FBTyxFQUFFO2dCQUNYLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDdkIsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQWlCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2lCQUMvQztxQkFBTTtvQkFDTCxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDckM7YUFDRjtpQkFBTTtnQkFDTCxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3hCLE1BQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFnQixDQUFDO29CQUN6RCxZQUFZLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUN4QixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRTt3QkFDdEIsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztxQkFDekI7aUJBQ0Y7YUFDRjtZQUNELHFCQUFxQixDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztTQUN2QztRQUVBLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQWdDLENBQzlELFFBQVEsQ0FDVCxDQUFDO0lBQ0osQ0FBQyxFQUNELENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUNyQyxDQUFDO0lBRUYsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUNiLFVBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDOUIsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBRWxDLFNBQVMsQ0FDUCxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUU7UUFDVCxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEIsQ0FBQyxFQUNELENBQUMsVUFBVSxDQUFDLENBQ2IsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUV6QixPQUVELEVBRUMsRUFBRTtJQUNGLE1BQU0sSUFBSSxHQUFHLGtCQUFrQixDQUFDO1FBQzlCLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSTtRQUNsQixRQUFRLEVBQUUsYUFBYTtLQUN4QixDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsUUFBUSxFQUFFLFVBQVUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBRWxELFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWixhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBcUMsQ0FBQyxHQUFHLENBQzlELFVBQVUsQ0FDWCxDQUFDO1FBQ0YsT0FBTyxHQUFHLEVBQUU7WUFDVCxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBcUMsQ0FBQyxNQUFNLENBQ2pFLFVBQVUsQ0FDWCxDQUFDO1FBQ0osQ0FBQyxDQUFDO0lBQ0osQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUVYLE9BQU8sT0FBTyxDQUNaLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDTCxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7UUFDbkMsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO1FBQ3ZDLE1BQU0sRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFO0tBQy9CLENBQUM7SUFDRix1REFBdUQ7SUFDdkQsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQ2pCLENBQUM7QUFDSixDQUFDLENBQUMifQ==","import React, { forwardRef, useCallback } from \"react\";\nimport { KeyboardDatePicker, MuiPickersUtilsProvider, } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { isEqual, isValid } from \"date-fns\";\nimport { useField, useFormContext, } from \"../../useKISSForm/form\";\nconst validDate = (value) => {\n    // Do NOT test 'blank' field i.e. undefined\n    if (value === undefined || isValid(value)) {\n        return;\n    }\n    return new TypeError(\"Invalid Date\");\n};\nexport const DATE_NAME = \"date\";\nexport const DateInput = forwardRef(function DateInput(props, ref) {\n    var _a, _b;\n    const { defaultValue, name: nameProp = DATE_NAME, form, onBlur: onBlurProp, onChange: onChangeProp, disabled, ...rest } = props;\n    const isSubmitting = (_b = (_a = useFormContext(form)) === null || _a === void 0 ? void 0 : _a.isSubmitting) !== null && _b !== void 0 ? _b : false;\n    const { props: { name, value }, state: { isTouched, errors }, setValue, setTouched, } = useField({\n        name: nameProp,\n        defaultValue,\n        isEqual: isEqual,\n        validator: validDate,\n        form,\n    });\n    const handleChange = useCallback((...args) => {\n        var _a;\n        // undefined clears values in KISS form\n        setValue((_a = args[0]) !== null && _a !== void 0 ? _a : undefined);\n        if (onChangeProp) {\n            onChangeProp(...args);\n        }\n    }, [setValue, onChangeProp]);\n    const handleBlur = useCallback((...args) => {\n        setTouched(true);\n        if (onBlurProp) {\n            onBlurProp(...args);\n        }\n    }, [setTouched, onBlurProp]);\n    return (React.createElement(MuiPickersUtilsProvider, { utils: DateFnsUtils },\n        React.createElement(KeyboardDatePicker, { ref: ref, ...rest, ...(isTouched && errors.length\n                ? {\n                    error: true,\n                    helperText: errors[0].message,\n                }\n                : {}), name: name, \n            // Must control value with null\n            value: value !== null && value !== void 0 ? value : null, onChange: handleChange, onBlur: handleBlur, disabled: isSubmitting || disabled })));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0lucHV0cy9EYXRlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBTyxXQUFXLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDNUQsT0FBTyxFQUNMLGtCQUFrQixFQUVsQix1QkFBdUIsR0FDeEIsTUFBTSxzQkFBc0IsQ0FBQztBQUM5QixPQUFPLFlBQVksTUFBTSxtQkFBbUIsQ0FBQztBQUU3QyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUU1QyxPQUFPLEVBQ0wsUUFBUSxFQUNSLGNBQWMsR0FJZixNQUFNLHdCQUF3QixDQUFDO0FBRWhDLE1BQU0sU0FBUyxHQUE0QixDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ25ELDJDQUEyQztJQUMzQyxJQUFJLEtBQUssS0FBSyxTQUFTLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3pDLE9BQU87S0FDUjtJQUNELE9BQU8sSUFBSSxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBUUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUtoQyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDLFNBQVMsU0FBUyxDQUNwRCxLQUFxQixFQUNyQixHQUF3Qjs7SUFFeEIsTUFBTSxFQUNKLFlBQVksRUFDWixJQUFJLEVBQUUsUUFBUSxHQUFHLFNBQVMsRUFDMUIsSUFBSSxFQUNKLE1BQU0sRUFBRSxVQUFVLEVBQ2xCLFFBQVEsRUFBRSxZQUFZLEVBQ3RCLFFBQVEsRUFDUixHQUFHLElBQUksRUFDUixHQUFHLEtBQUssQ0FBQztJQUVWLE1BQU0sWUFBWSxHQUFHLE1BQUEsTUFBQSxjQUFjLENBQUMsSUFBSSxDQUFDLDBDQUFFLFlBQVksbUNBQUksS0FBSyxDQUFDO0lBRWpFLE1BQU0sRUFDSixLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQ3RCLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsRUFDNUIsUUFBUSxFQUNSLFVBQVUsR0FDWCxHQUFHLFFBQVEsQ0FBTztRQUNqQixJQUFJLEVBQUUsUUFBUTtRQUNkLFlBQVk7UUFDWixPQUFPLEVBQUUsT0FBTztRQUNoQixTQUFTLEVBQUUsU0FBUztRQUNwQixJQUFJO0tBQ0wsQ0FBQyxDQUFDO0lBRUgsTUFBTSxZQUFZLEdBQUcsV0FBVyxDQUM5QixDQUFDLEdBQUcsSUFBSSxFQUFFLEVBQUU7O1FBQ1YsdUNBQXVDO1FBQ3ZDLFFBQVEsQ0FBQyxNQUFBLElBQUksQ0FBQyxDQUFDLENBQUMsbUNBQUksU0FBUyxDQUFDLENBQUM7UUFDL0IsSUFBSSxZQUFZLEVBQUU7WUFDaEIsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDdkI7SUFDSCxDQUFDLEVBQ0QsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQ3pCLENBQUM7SUFFRixNQUFNLFVBQVUsR0FBRyxXQUFXLENBRzVCLENBQUMsR0FBRyxJQUFJLEVBQUUsRUFBRTtRQUNWLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVqQixJQUFJLFVBQVUsRUFBRTtZQUNkLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ3JCO0lBQ0gsQ0FBQyxFQUNELENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUN6QixDQUFDO0lBRUYsT0FBTyxDQUNMLG9CQUFDLHVCQUF1QixJQUFDLEtBQUssRUFBRSxZQUFZO1FBQzFDLG9CQUFDLGtCQUFrQixJQUNqQixHQUFHLEVBQUUsR0FBRyxLQUNKLElBQUksS0FDSixDQUFDLFNBQVMsSUFBSSxNQUFNLENBQUMsTUFBTTtnQkFDN0IsQ0FBQyxDQUFDO29CQUNFLEtBQUssRUFBRSxJQUFJO29CQUNYLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTztpQkFDOUI7Z0JBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUNQLElBQUksRUFBRSxJQUFJO1lBQ1YsK0JBQStCO1lBQy9CLEtBQUssRUFBRSxLQUFLLGFBQUwsS0FBSyxjQUFMLEtBQUssR0FBSSxJQUFJLEVBQ3BCLFFBQVEsRUFBRSxZQUFZLEVBQ3RCLE1BQU0sRUFBRSxVQUFVLEVBQ2xCLFFBQVEsRUFBRSxZQUFZLElBQUksUUFBUSxHQUNsQyxDQUNzQixDQUMzQixDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUMifQ==","import React, { useCallback, forwardRef, useMemo, } from \"react\";\nimport { CircularProgress, TextField } from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { mergeInputEndAdornment, defaultInput, BranchNode, } from \"mui-tree-select\";\nimport { useField, useFormContext, } from \"../../useKISSForm/form\";\nconst BLANK_OPTIONS = [];\nexport const LoadingDefaultBlank = forwardRef(function LoadingDefaultBlank({ \n// grab all props effecting appearance and discard rest.\nrenderInput = defaultInput, classes, closeIcon, forcePopupIcon, fullWidth, popupIcon, size, \n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n...discard }, ref) {\n    return (React.createElement(Autocomplete, { ref: ref, classes: classes, closeIcon: closeIcon, forcePopupIcon: forcePopupIcon, fullWidth: fullWidth, popupIcon: popupIcon, size: size, defaultValue: undefined, value: null, inputValue: \"\", disabled: true, options: BLANK_OPTIONS, renderInput: useCallback((params) => renderInput({\n            ...params,\n            InputProps: mergeInputEndAdornment(\"append\", React.createElement(CircularProgress, { size: 20, color: \"inherit\" }), params.InputProps),\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        }), [renderInput]) }));\n});\nexport const LoadingTextFieldBlank = forwardRef(function LoadingTextFieldBlank(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nprops, ref) {\n    const { classes, color, error, FormHelperTextProps, fullWidth, helperText, id, InputLabelProps, inputProps, InputProps, inputRef, label, margin, maxRows, minRows, multiline, name, placeholder, size, \n    // FormControl\n    hiddenLabel, } = props;\n    const variant = (() => {\n        switch (props.variant) {\n            case \"dialog\":\n            case \"inline\":\n            case \"static\":\n                return props.inputVariant;\n            default:\n                return props.variant || props.inputVariant;\n        }\n    })();\n    return (React.createElement(TextField, { classes: classes, color: color, error: error, FormHelperTextProps: FormHelperTextProps, fullWidth: fullWidth, helperText: helperText, id: id, InputLabelProps: InputLabelProps, inputProps: inputProps, inputRef: inputRef, label: label, margin: margin, maxRows: maxRows, minRows: minRows, multiline: multiline, name: name, placeholder: placeholder, size: size, variant: variant, hiddenLabel: hiddenLabel, ref: ref, disabled: true, InputProps: useMemo(() => mergeInputEndAdornment(\"append\", React.createElement(CircularProgress, { size: 20, color: \"inherit\" }), InputProps), [InputProps]) }));\n});\nexport const sortBranchesToTop = (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\na, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nb) => {\n    // Put branches at top of options to encourage, more detailed\n    // labeling for users.\n    const aIsBranch = a instanceof BranchNode;\n    const bIsBranch = b instanceof BranchNode;\n    if (aIsBranch) {\n        return bIsBranch ? 0 : -1;\n    }\n    else if (bIsBranch) {\n        return aIsBranch ? 0 : 1;\n    }\n    else {\n        return 0;\n    }\n};\nexport const TextFieldControlled = forwardRef(function TextFieldControlled(props, ref) {\n    var _a, _b;\n    const { name: nameProp, defaultValue, validator, shouldRunValidation, shouldUnregister, form, onBlur: onBlurProp, onChange: onChangeProp, disabled, children, setValueAs, ...rest } = props;\n    const isSubmitting = (_b = (_a = useFormContext(form)) === null || _a === void 0 ? void 0 : _a.isSubmitting) !== null && _b !== void 0 ? _b : false;\n    const { props: { value, name }, state: { isTouched, errors }, setValue, setTouched, } = useField({\n        name: nameProp,\n        defaultValue,\n        validator,\n        shouldRunValidation,\n        shouldUnregister,\n        form,\n    });\n    return (React.createElement(TextField, { ...rest, name: name, value: value !== null && value !== void 0 ? value : \"\", ref: ref, disabled: disabled || isSubmitting, ...(isTouched && errors.length\n            ? {\n                error: true,\n                helperText: errors[0].message,\n            }\n            : {}), onBlur: useCallback((...args) => {\n            setTouched(true);\n            if (onBlurProp) {\n                onBlurProp(...args);\n            }\n        }, [setTouched, onBlurProp]), onChange: useCallback((...args) => {\n            if (setValueAs) {\n                setValue(setValueAs(...args));\n            }\n            else {\n                setValue(args[0].target.value || undefined);\n            }\n            if (onChangeProp) {\n                onChangeProp(...args);\n            }\n        }, [setValueAs, onChangeProp, setValue]) }, children));\n});\nconst REQUIRED_ERROR = new Error(\"Required\");\nexport const useRequiredValidator = (error\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) => useMemo(() => {\n    const requiredError = error\n        ? typeof error === \"string\"\n            ? new Error(error)\n            : error\n        : REQUIRED_ERROR;\n    return (_, { form, name }) => {\n        const value = form.getFieldValue(name, false);\n        if (value === undefined ||\n            value === null ||\n            (typeof value === \"string\" && value.trim() === \"\")) {\n            return requiredError;\n        }\n    };\n}, [error]);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const requiredValidator = (_, { form, name }) => {\n    const value = form.getFieldValue(name, false);\n    if (value === undefined ||\n        value === null ||\n        (typeof value === \"string\" && value.trim() === \"\")) {\n        return REQUIRED_ERROR;\n    }\n};\nconst GT_ZERO_ERROR = new RangeError(\"Must be greater than zero.\");\nexport const gtZero = (value) => {\n    if (value && value.compare(0) <= 0) {\n        return GT_ZERO_ERROR;\n    }\n};\nexport const useRenderInputWithError = (error, renderInput = defaultInput) => useCallback((params) => renderInput({\n    ...params,\n    ...(error\n        ? {\n            error: true,\n            helperText: typeof error === \"string\" ? error : error.message,\n        }\n        : {}),\n}), [error, renderInput]);\nexport const useRenderInputWithLabel = (label, renderInput = defaultInput) => useCallback((params) => renderInput({\n    label,\n    ...params,\n}), [label, renderInput]);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSW5wdXRzL3NoYXJlZC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFDWixXQUFXLEVBQ1gsVUFBVSxFQUdWLE9BQU8sR0FDUixNQUFNLE9BQU8sQ0FBQztBQUVmLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQWtCLE1BQU0sbUJBQW1CLENBQUM7QUFDaEYsT0FBTyxFQUFFLFlBQVksRUFBcUIsTUFBTSxrQkFBa0IsQ0FBQztBQUNuRSxPQUFPLEVBRUwsc0JBQXNCLEVBQ3RCLFlBQVksRUFDWixVQUFVLEdBQ1gsTUFBTSxpQkFBaUIsQ0FBQztBQUd6QixPQUFPLEVBRUwsUUFBUSxFQUVSLGNBQWMsR0FFZixNQUFNLHdCQUF3QixDQUFDO0FBT2hDLE1BQU0sYUFBYSxHQUFjLEVBQUUsQ0FBQztBQUNwQyxNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxVQUFVLENBQUMsU0FBUyxtQkFBbUIsQ0FDeEU7QUFDRSx3REFBd0Q7QUFDeEQsV0FBVyxHQUFHLFlBQVksRUFDMUIsT0FBTyxFQUNQLFNBQVMsRUFDVCxjQUFjLEVBQ2QsU0FBUyxFQUNULFNBQVMsRUFDVCxJQUFJO0FBQ0osNkRBQTZEO0FBQzdELEdBQUcsT0FBTyxFQU9QLEVBQ0wsR0FBaUI7SUFFakIsT0FBTyxDQUNMLG9CQUFDLFlBQVksSUFDWCxHQUFHLEVBQUUsR0FBRyxFQUNSLE9BQU8sRUFBRSxPQUFPLEVBQ2hCLFNBQVMsRUFBRSxTQUFTLEVBQ3BCLGNBQWMsRUFBRSxjQUFjLEVBQzlCLFNBQVMsRUFBRSxTQUFTLEVBQ3BCLFNBQVMsRUFBRSxTQUFTLEVBQ3BCLElBQUksRUFBRSxJQUFJLEVBQ1YsWUFBWSxFQUFFLFNBQVMsRUFDdkIsS0FBSyxFQUFFLElBQUksRUFDWCxVQUFVLEVBQUMsRUFBRSxFQUNiLFFBQVEsUUFDUixPQUFPLEVBQUUsYUFB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","import React, { forwardRef, useCallback, useMemo, useRef, useState, } from \"react\";\nimport TreeSelect, { ValueNode, BranchNode, FreeSoloNode, defaultInput, } from \"mui-tree-select\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { LoadingDefaultBlank, sortBranchesToTop } from \"./shared\";\nimport { useField, useFormContext, } from \"../../useKISSForm/form\";\nimport { useControlled } from \"@material-ui/core\";\nexport const DEPARTMENT_INPUT_OPT_FRAGMENT = gql `\n  fragment DepartmentInputOpt on Department {\n    __typename\n    id\n    name\n    children {\n      __typename\n      id\n    }\n  }\n`;\nexport const DEPARTMENT_DEFAULT_VALUE_FRAGMENT = gql `\n  fragment DepartmentInputDefaultValue on Department {\n    ...DepartmentInputOpt\n    ancestors(root: $deptRoot) {\n      __typename\n      ... on Department {\n        ...DepartmentInputOpt\n      }\n    }\n  }\n  ${DEPARTMENT_INPUT_OPT_FRAGMENT}\n`;\nexport const DEPARTMENT_DEFAULT_VALUE = gql `\n  query DepartmentInputDefaultValues(\n    $where: DepartmentsWhere!\n    $deptRoot: DepartmentsWhere\n  ) {\n    departments(where: $where) {\n      ...DepartmentInputDefaultValue\n    }\n  }\n`;\nexport const DEPARTMENT_INPUT_OPTS = gql `\n  query DepartmentInputOpts($where: DepartmentsWhere!) {\n    departments(where: $where) {\n      ...DepartmentInputOpt\n    }\n  }\n  ${DEPARTMENT_INPUT_OPT_FRAGMENT}\n`;\nexport const useDepartmentDefaultValue = (defaultValue) => useMemo(() => defaultValue\n    ? new ValueNode(defaultValue, defaultValue.ancestors\n        .reduceRight((path, parent) => {\n        if (parent.__typename !== \"Business\") {\n            path.push(parent);\n        }\n        return path;\n    }, [])\n        .reverse())\n    : undefined, [defaultValue]);\nconst deptIsEqual = (a, b) => {\n    const isEqual = (a, b) => {\n        if (!a || !b) {\n            return a === b;\n        }\n        else if (a instanceof FreeSoloNode || b instanceof FreeSoloNode) {\n            return a.valueOf() === b.valueOf();\n        }\n        else {\n            return a.valueOf().id === b.valueOf().id;\n        }\n    };\n    if (Array.isArray(a) || Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return false;\n        }\n        else {\n            return a.every((a, i) => isEqual(a, b[i]));\n        }\n    }\n    else {\n        return isEqual(a, b);\n    }\n};\nexport const getOptionLabel = (option) => {\n    if (option instanceof FreeSoloNode) {\n        return option.toString();\n    }\n    else {\n        return option.valueOf().name;\n    }\n};\nexport const getOptionSelected = (option, value) => !(option instanceof FreeSoloNode) &&\n    !(value instanceof FreeSoloNode) &&\n    option.valueOf().id === value.valueOf().id;\nexport const DepartmentInputBase = forwardRef(function DepartmentInputBase(props, ref) {\n    var _a, _b;\n    const { root, renderInput: renderInputProp = defaultInput, branch: branchProp, onBranchChange: onBranchChangeProp, loading, ...rest } = props;\n    const [branch, setBranch] = useControlled({\n        controlled: branchProp,\n        default: null,\n        name: \"CategoryInputBaseProps\",\n        state: \"branch\",\n    });\n    const branchRef = useRef(branch);\n    branchRef.current = branch;\n    const rootResult = useQuery(DEPARTMENT_INPUT_OPTS, useMemo(() => ({\n        variables: {\n            where: root,\n        },\n    }), [root]));\n    const queryResult = useQuery(DEPARTMENT_INPUT_OPTS, useMemo(() => {\n        var _a;\n        return ({\n            skip: !branch,\n            variables: {\n                where: {\n                    parent: {\n                        eq: {\n                            type: \"Department\",\n                            id: (_a = branch === null || branch === void 0 ? void 0 : branch.valueOf()) === null || _a === void 0 ? void 0 : _a.id,\n                        },\n                    },\n                },\n            },\n        });\n    }, [branch]));\n    const onBranchChange = useCallback((...args) => {\n        setBranch(args[1]);\n        if (onBranchChangeProp) {\n            onBranchChangeProp(...args);\n        }\n    }, [onBranchChangeProp, setBranch]);\n    const renderInput = useCallback((params) => {\n        var _a, _b;\n        return renderInputProp({\n            name: \"department\",\n            ...params,\n            ...(rootResult.error || queryResult.error\n                ? {\n                    error: true,\n                    helperText: ((_a = rootResult.error) === null || _a === void 0 ? void 0 : _a.message) || ((_b = queryResult.error) === null || _b === void 0 ? void 0 : _b.message),\n                }\n                : {}),\n        });\n    }, [queryResult.error, renderInputProp, rootResult.error]);\n    const options = useMemo(() => {\n        var _a, _b;\n        const options = [];\n        if (rootResult.loading) {\n            return options;\n        }\n        return ((branch ? (_a = queryResult.data) === null || _a === void 0 ? void 0 : _a.departments : (_b = rootResult.data) === null || _b === void 0 ? void 0 : _b.departments) ||\n            [])\n            .reduce((options, category) => {\n            if (category.children.length) {\n                options.push(new BranchNode(category, branch));\n            }\n            options.push(category);\n            return options;\n        }, options)\n            .sort(sortBranchesToTop);\n    }, [\n        rootResult.loading,\n        (_a = rootResult.data) === null || _a === void 0 ? void 0 : _a.departments,\n        branch,\n        (_b = queryResult.data) === null || _b === void 0 ? void 0 : _b.departments,\n    ]);\n    if (rootResult.loading) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return React.createElement(LoadingDefaultBlank, { ...props });\n    }\n    return (React.createElement(TreeSelect, { getOptionLabel: getOptionLabel, getOptionSelected: getOptionSelected, ...rest, ref: ref, loading: queryResult.loading || !!loading, onBranchChange: onBranchChange, branch: branch, renderInput: renderInput, options: options }));\n});\nconst BRANCH_NOT_SET = Symbol();\nexport const DEPARTMENT_NAME = \"department\";\nexport const DepartmentInput = forwardRef(function DepartmentInput(props, ref) {\n    var _a, _b;\n    const { defaultValue, form, renderInput: renderInputProp = defaultInput, disabled, onBlur: onBlurProp, onChange: onChangeProp, onBranchChange: onBranchChangeProp, ...rest } = props;\n    const isSubmitting = (_b = (_a = useFormContext(form)) === null || _a === void 0 ? void 0 : _a.isSubmitting) !== null && _b !== void 0 ? _b : false;\n    const { props: { value: fieldValue, name }, state: { isTouched, errors }, setValue, setTouched, } = useField({\n        name: DEPARTMENT_NAME,\n        form,\n        isEqual: deptIsEqual,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        defaultValue: defaultValue,\n    });\n    const value = useMemo(() => fieldValue || (rest.multiple ? [] : null), [fieldValue, rest.multiple]);\n    const handleBlur = useCallback((...args) => {\n        setTouched(true);\n        if (onBlurProp) {\n            onBlurProp(...args);\n        }\n    }, [setTouched, onBlurProp]);\n    const renderInput = useCallback((params) => renderInputProp({\n        ...params,\n        name,\n        ...(isTouched && errors.length\n            ? {\n                error: true,\n                helperText: errors[0].message,\n            }\n            : {}),\n    }), [renderInputProp, name, isTouched, errors]);\n    const handleChange = useCallback((...args) => {\n        var _a;\n        setValue((_a = args[1]) !== null && _a !== void 0 ? _a : undefined);\n        if (onChangeProp) {\n            onChangeProp(...args);\n        }\n    }, [setValue, onChangeProp]);\n    // The following accommodates async default value lookups.\n    const [branch, setBranch] = useState(() => value instanceof ValueNode ? value.parent : BRANCH_NOT_SET);\n    const handleBranchChange = useCallback((...args) => {\n        setBranch(args[1]);\n        if (onBranchChangeProp) {\n            onBranchChangeProp(...args);\n        }\n    }, [onBranchChangeProp]);\n    return (React.createElement(DepartmentInputBase, { ...rest, value: value, disabled: isSubmitting || disabled, ref: ref, onChange: handleChange, branch: branch === BRANCH_NOT_SET\n            ? value instanceof ValueNode\n                ? value.parent\n                : null\n            : branch, onBranchChange: handleBranchChange, renderInput: renderInput, onBlur: handleBlur }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwYXJ0bWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0lucHV0cy9EZXBhcnRtZW50LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUNaLFVBQVUsRUFFVixXQUFXLEVBQ1gsT0FBTyxFQUNQLE1BQU0sRUFDTixRQUFRLEdBQ1QsTUFBTSxPQUFPLENBQUM7QUFDZixPQUFPLFVBQVUsRUFBRSxFQUNqQixTQUFTLEVBQ1QsVUFBVSxFQUNWLFlBQVksRUFFWixZQUFZLEdBRWIsTUFBTSxpQkFBaUIsQ0FBQztBQUN6QixPQUFPLEVBQUUsR0FBRyxFQUFvQixRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQVVqRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDbEUsT0FBTyxFQUdMLFFBQVEsRUFFUixjQUFjLEdBQ2YsTUFBTSx3QkFBd0IsQ0FBQztBQUNoQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFPbEQsTUFBTSxDQUFDLE1BQU0sNkJBQTZCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7O0NBVS9DLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxpQ0FBaUMsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7SUFVaEQsNkJBQTZCO0NBQ2hDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7OztDQVMxQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7SUFNcEMsNkJBQTZCO0NBQ2hDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxDQUN2QyxZQUFrRCxFQUNhLEVBQUUsQ0FDakUsT0FBTyxDQUNMLEdBQUcsRUFBRSxDQUNILFlBQVk7SUFDVixDQUFDLENBQUMsSUFBSSxTQUFTLENBQ1gsWUFB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","import { gql, useQuery } from \"@apollo/client\";\nimport TreeSelect, { BranchNode, defaultInput, FreeSoloNode, ValueNode, DefaultOption, } from \"mui-tree-select\";\nimport React, { forwardRef, useCallback, useMemo, useState } from \"react\";\nimport { RegexFlags, } from \"../../apollo/graphTypes\";\nimport { getOptionLabel as getOptionLabelDept, DEPARTMENT_INPUT_OPT_FRAGMENT, DEPARTMENT_DEFAULT_VALUE_FRAGMENT, } from \"./Department\";\nimport { useControlled } from \"@material-ui/core\";\nimport { useField, useFormContext, } from \"../../useKISSForm/form\";\nconst entityIsEqual = (a, b) => {\n    const isEqual = (a, b) => {\n        if (!a || !b) {\n            return a === b;\n        }\n        else if (a instanceof FreeSoloNode || b instanceof FreeSoloNode) {\n            return a.valueOf() === b.valueOf();\n        }\n        else {\n            const aVal = a.valueOf();\n            const bVal = b.valueOf();\n            return aVal.id === bVal.id && aVal.__typename === bVal.__typename;\n        }\n    };\n    if (Array.isArray(a) || Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return false;\n        }\n        else {\n            return a.every((a, i) => isEqual(a, b[i]));\n        }\n    }\n    else {\n        return isEqual(a, b);\n    }\n};\nexport const ENTITY_INPUT_OPT_FRAGMENTS = gql `\n  fragment EntityBusinessInputOpt on Business {\n    __typename\n    id\n    name\n    departments(root: true) {\n      __typename\n      id\n    }\n  }\n\n  fragment EntityPersonInputOpt on Person {\n    __typename\n    id\n    personName: name {\n      first\n      last\n    }\n    email\n    phone\n  }\n`;\nexport const ENTITY_INPUT_DEFAULT_VALUE_FRAGMENT = gql `\n  fragment EntityInputDefaultValue on Entity {\n    ...EntityBusinessInputOpt\n    ...EntityPersonInputOpt\n    ...DepartmentInputDefaultValue\n    ... on Department {\n      ancestors(root: $deptRoot) {\n        ...EntityBusinessInputOpt\n        ...DepartmentInputOpt\n      }\n    }\n  }\n  ${ENTITY_INPUT_OPT_FRAGMENTS}\n  ${DEPARTMENT_DEFAULT_VALUE_FRAGMENT}\n  ${DEPARTMENT_INPUT_OPT_FRAGMENT}\n`;\nexport const ENTITY_INPUT_OPTS = gql `\n  query EntityInputOpts($where: EntitiesWhere!) {\n    entities(where: $where) {\n      ...EntityBusinessInputOpt\n      ...DepartmentInputOpt\n      ...EntityPersonInputOpt\n    }\n  }\n  ${DEPARTMENT_INPUT_OPT_FRAGMENT}\n  ${ENTITY_INPUT_OPT_FRAGMENTS}\n`;\nexport const ENTITY_INPUT_DEFAULT_VALUE = gql `\n  query EntityInputDefaultValue(\n    $where: EntitiesWhere!\n    $deptRoot: DepartmentsWhere\n  ) {\n    entities(where: $where) {\n      ...EntityInputDefaultValue\n    }\n  }\n  ${ENTITY_INPUT_DEFAULT_VALUE_FRAGMENT}\n`;\nexport const useEntityDefaultValue = (defaultValue) => useMemo(() => {\n    switch (defaultValue === null || defaultValue === void 0 ? void 0 : defaultValue.__typename) {\n        case undefined:\n            return undefined;\n        case \"Business\":\n            return new ValueNode(defaultValue, businessBranch);\n        case \"Department\":\n            return new ValueNode(defaultValue, defaultValue.ancestors.reduceRight((branch, ancestor) => new BranchNode(ancestor, branch), businessBranch));\n        case \"Person\":\n            return new ValueNode(defaultValue, personBranch);\n    }\n}, [defaultValue]);\nexport const getOptionLabel = (option) => {\n    if (option instanceof FreeSoloNode) {\n        return option.toString();\n    }\n    else {\n        const opt = option.valueOf();\n        if (typeof opt === \"string\") {\n            return opt;\n        }\n        switch (opt.__typename) {\n            case \"Business\":\n                return opt.name;\n            case \"Person\":\n                return `${opt.personName.first} ${opt.personName.last}`;\n            case \"Department\":\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                return getOptionLabelDept(option);\n        }\n    }\n};\nexport const getOptionSelected = (option, value) => {\n    if (option instanceof FreeSoloNode || value instanceof FreeSoloNode) {\n        return false;\n    }\n    const opt = option.valueOf();\n    const val = value.valueOf();\n    if (typeof opt === \"string\") {\n        return opt === val;\n    }\n    else if (typeof val === \"string\") {\n        return false;\n    }\n    else {\n        return opt.id === val.id;\n    }\n};\nconst businessBranch = new BranchNode(\"Business\");\nconst personBranch = new BranchNode(\"Person\");\nconst defaultOptions = [\n    businessBranch,\n    personBranch,\n];\nexport const EntityInputBase = forwardRef(function EntityInputBase(props, ref) {\n    var _a;\n    const { inputValue: inputValueProp, onInputChange: onInputChangeProp, branch: branchProp, onBranchChange: onBranchChangeProp, loading, autoSelect, renderInput: renderInputProp = defaultInput, allowNewBusiness, allowNewPerson, ...rest } = props;\n    const [inputValue, setInputValue] = useControlled({\n        controlled: inputValueProp,\n        default: \"\",\n        name: \"EntityInputBase\",\n        state: \"inputValue\",\n    });\n    const [branch, setBranch] = useControlled({\n        controlled: branchProp,\n        default: null,\n        name: \"EntityInputBase\",\n        state: \"branch\",\n    });\n    const firstLetter = inputValue.trim().slice(0, 1);\n    const queryResult = useQuery(ENTITY_INPUT_OPTS, useMemo(() => {\n        const fetchPolicy = \"cache-and-network\";\n        const curBranch = branch === null || branch === void 0 ? void 0 : branch.valueOf();\n        if (!curBranch) {\n            return {\n                skip: true,\n                variables: {\n                    where: {},\n                },\n            };\n        }\n        else if (curBranch === \"Business\") {\n            return {\n                skip: !firstLetter,\n                variables: {\n                    where: {\n                        businesses: {\n                            name: {\n                                pattern: `^${firstLetter}|[^A-z0-9]+${firstLetter}`,\n                                flags: [RegexFlags.I],\n                            },\n                        },\n                    },\n                },\n                fetchPolicy,\n            };\n        }\n        else if (curBranch === \"Person\") {\n            return {\n                skip: !firstLetter,\n                variables: {\n                    where: {\n                        people: {\n                            or: [\n                                {\n                                    name: {\n                                        first: {\n                                            pattern: `^${firstLetter}|[^A-z0-9]+${firstLetter}`,\n                                            flags: [RegexFlags.I],\n                                        },\n                                    },\n                                },\n                                {\n                                    name: {\n                                        last: {\n                                            pattern: `^${firstLetter}|[^A-z0-9]+${firstLetter}`,\n                                            flags: [RegexFlags.I],\n                                        },\n                                    },\n                                },\n                            ],\n                        },\n                    },\n                },\n                fetchPolicy,\n            };\n        }\n        else if (curBranch.__typename === \"Business\") {\n            return {\n                skip: !curBranch.departments.length,\n                variables: {\n                    where: {\n                        departments: {\n                            parent: {\n                                eq: {\n                                    type: curBranch.__typename,\n                                    id: curBranch.id,\n                                },\n                            },\n                        },\n                    },\n                },\n                fetchPolicy,\n            };\n        }\n        else if (curBranch.__typename === \"Department\") {\n            return {\n                skip: !curBranch.children.length,\n                variables: {\n                    where: {\n                        departments: {\n                            parent: {\n                                eq: {\n                                    type: curBranch.__typename,\n                                    id: curBranch.id,\n                                },\n                            },\n                        },\n                    },\n                },\n                fetchPolicy,\n            };\n        }\n    }, [branch, firstLetter]));\n    const onBranchChange = useCallback((...args) => {\n        setBranch(args[1]);\n        if (onBranchChangeProp) {\n            onBranchChangeProp(...args);\n        }\n    }, [onBranchChangeProp, setBranch]);\n    const onInputChange = useCallback((...args) => {\n        setInputValue(args[1]);\n        if (onInputChangeProp) {\n            onInputChangeProp(...args);\n        }\n    }, [onInputChangeProp, setInputValue]);\n    const renderInput = useCallback((params) => {\n        const curBranch = branch === null || branch === void 0 ? void 0 : branch.valueOf();\n        return renderInputProp({\n            name: \"entity\",\n            ...params,\n            ...(() => {\n                if (curBranch === \"Business\") {\n                    return { placeholder: \"Business Name...\", label: \"Business\" };\n                }\n                else if (curBranch === \"Person\") {\n                    return { placeholder: \"First... Last...\", label: \"Person\" };\n                }\n                else if (curBranch) {\n                    return {\n                        label: \"Department\",\n                    };\n                }\n                return {};\n            })(),\n            ...((queryResult === null || queryResult === void 0 ? void 0 : queryResult.error)\n                ? {\n                    error: true,\n                    helperText: queryResult.error.message,\n                }\n                : {}),\n        });\n    }, [queryResult.error, renderInputProp, branch]);\n    const renderOption = useCallback((props, option, state) => {\n        if (option instanceof ValueNode) {\n            const opt = option.valueOf();\n            if (typeof opt !== \"string\" &&\n                opt.__typename === \"Person\" &&\n                (opt.email || opt.phone)) {\n                return (React.createElement(DefaultOption, { props: props, option: option, state: state, ListItemTextProps: {\n                        secondary: opt.email || opt.phone,\n                    } }));\n            }\n        }\n        return React.createElement(DefaultOption, { props: props, option: option, state: state });\n    }, []);\n    const options = useMemo(() => {\n        var _a;\n        const options = [];\n        if (!branch) {\n            return defaultOptions;\n        }\n        else {\n            return (((_a = queryResult.data) === null || _a === void 0 ? void 0 : _a.entities) || []).reduce((options, entity) => {\n                switch (entity.__typename) {\n                    case \"Business\":\n                        if (entity.departments.length) {\n                            options.push(new BranchNode(entity, branch));\n                        }\n                        options.push(entity);\n                        break;\n                    case \"Department\":\n                        if (entity.children.length) {\n                            options.push(new BranchNode(entity, branch));\n                        }\n                        options.push(entity);\n                        break;\n                    case \"Person\":\n                        options.push(entity);\n                        break;\n                }\n                return options;\n            }, options);\n        }\n    }, [(_a = queryResult.data) === null || _a === void 0 ? void 0 : _a.entities, branch]);\n    const [freeSolo, addFreeSoloText] = useMemo(() => {\n        const curBranch = branch === null || branch === void 0 ? void 0 : branch.valueOf();\n        if (curBranch === \"Person\" && !!allowNewPerson) {\n            return [true, \"Add Person:\"];\n        }\n        else if (curBranch === \"Business\" && !!allowNewBusiness) {\n            return [true, \"Add Business:\"];\n        }\n        else {\n            return [false];\n        }\n    }, [branch, allowNewPerson, allowNewBusiness]);\n    return (React.createElement(TreeSelect, { getOptionSelected: getOptionSelected, getOptionLabel: getOptionLabel, ...rest, ref: ref, onBranchChange: onBranchChange, branch: branch, loading: queryResult.loading || loading, renderInput: renderInput, renderOption: renderOption, inputValue: inputValue, onInputChange: onInputChange, options: options, freeSolo: freeSolo, addFreeSoloText: addFreeSoloText, \n        // !props.value condition keeps the inputValue being taken as a\n        // FreeSoloNode onBlur when a value is selected from the options.\n        autoSelect: (autoSelect !== null && autoSelect !== void 0 ? autoSelect : false) || (freeSolo && !props.value) }));\n});\nexport const ENTITY_NAME = \"entity\";\nconst BRANCH_NOT_SET = Symbol();\nconst validNewEntity = (value) => {\n    if (value &&\n        (Array.isArray(value) ? value : [value]).some((val) => val instanceof FreeSoloNode &&\n            val.valueOf().length < 3)) {\n        return RangeError(\"Too Short\");\n    }\n};\nexport const EntityInput = forwardRef(function EntityInput(props, ref) {\n    var _a, _b;\n    const { name: nameProp = ENTITY_NAME, defaultValue, form, renderInput: renderInputProp = defaultInput, disabled, onBlur: onBlurProp, onChange: onChangeProp, onBranchChange: onBranchChangeProp, ...rest } = props;\n    const isSubmitting = (_b = (_a = useFormContext(form)) === null || _a === void 0 ? void 0 : _a.isSubmitting) !== null && _b !== void 0 ? _b : false;\n    const { props: { value: fieldValue, name }, state: { isTouched, errors }, setValue, setTouched, } = useField({\n        name: nameProp,\n        form,\n        isEqual: entityIsEqual,\n        validator: validNewEntity,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        defaultValue: defaultValue,\n    });\n    const value = useMemo(() => fieldValue || (rest.multiple ? [] : null), [fieldValue, rest.multiple]);\n    const handleBlur = useCallback((...args) => {\n        setTouched(true);\n        if (onBlurProp) {\n            onBlurProp(...args);\n        }\n    }, [setTouched, onBlurProp]);\n    const renderInput = useCallback((params) => renderInputProp({\n        ...params,\n        name,\n        ...(isTouched && errors.length\n            ? {\n                error: true,\n                helperText: errors[0].message,\n            }\n            : {}),\n    }), [renderInputProp, name, isTouched, errors]);\n    const handleChange = useCallback((...args) => {\n        var _a;\n        setValue((_a = args[1]) !== null && _a !== void 0 ? _a : undefined);\n        if (onChangeProp) {\n            onChangeProp(...args);\n        }\n    }, [onChangeProp, setValue]);\n    // The following accommodates async default value lookups.\n    const [branch, setBranch] = useState(() => value instanceof ValueNode ? value.parent : BRANCH_NOT_SET);\n    const handleBranchChange = useCallback((...args) => {\n        setBranch(args[1]);\n        if (onBranchChangeProp) {\n            onBranchChangeProp(...args);\n        }\n    }, [onBranchChangeProp]);\n    return (React.createElement(EntityInputBase, { ...rest, value: value, disabled: isSubmitting || disabled, ref: ref, onChange: handleChange, branch: branch === BRANCH_NOT_SET\n            ? value instanceof ValueNode\n                ? value.parent\n                : null\n            : branch, onBranchChange: handleBranchChange, renderInput: renderInput, onBlur: handleBlur }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW50aXR5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSW5wdXRzL0VudGl0eS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvQyxPQUFPLFVBQVUsRUFBRSxFQUNqQixVQUFVLEVBQ1YsWUFBWSxFQUNaLFlBQVksRUFDWixTQUFTLEVBR1QsYUFBYSxHQUNkLE1BQU0saUJBQWlCLENBQUM7QUFDekIsT0FBTyxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQU8sV0FBVyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFHL0UsT0FBTyxFQU9MLFVBQVUsR0FDWCxNQUFNLHlCQUF5QixDQUFDO0FBQ2pDLE9BQU8sRUFDTCxjQUFjLElBQUksa0JBQWtCLEVBQ3BDLDZCQUE2QixFQUM3QixpQ0FBaUMsR0FDbEMsTUFBTSxjQUFjLENBQUM7QUFDdEIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2xELE9BQU8sRUFHTCxRQUFRLEVBRVIsY0FBYyxHQUVmLE1BQU0sd0JBQXdCLENBQUM7QUF3Q2hDLE1BQU0sYUFBYSxHQUVmLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBR1gsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFXLEVBQUUsQ0FBVyxFQUFFLEVBQUU7UUFDM0MsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRTtZQUNaLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNoQjthQUFNLElBQUksQ0FBQyxZQUFZLFlBQVksSUFBSSxDQUFDLFlBQVksWUFBWSxFQUFFO1lBQ2pFLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNwQzthQUFNO1lBQ0wsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3pCLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN6QixPQUFPLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUM7U0FDbkU7SUFDSCxDQUFDLENBQUM7SUFFRixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUd4QyxJQUFLLENBQVksQ0FBQyxNQUFNLEtBQU0sQ0FBWSxDQUFDLE1BQU0sRUFBRTtZQUNqRCxPQUFPLEtBQUssQ0FBQztTQUNkO2FBQU07WUFDTCxPQUFRLENBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFHLENBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEU7S0FDRjtTQUFNO1FBQ0wsT0FBTyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FxQjVDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxtQ0FBbUMsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7OztJQVlsRCwwQkFBMEI7SUFDMUIsaUNBQWlDO0lBQ2pDLDZCQUE2QjtDQUNoQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7OztJQVFoQyw2QkFBNkI7SUFDN0IsMEJBQTBCO0NBQzdCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7OztJQVN6QyxtQ0FBbUM7Q0FDdEMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFHLENBQ25DLFlBQThDLEVBQ2UsRUFBRSxDQUMvRCxPQUFPLENBQUMsR0FBRyxFQUFFO0lBQ1gsUUFBUSxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsVUFBVSxFQUFFO1FBQ2hDLEtBQUssU0FBUztZQUNaLE9BQU8sU0FBUyxDQUFDO1FBQ25CLEtBQUssVUFBVTtZQUNiLE9BQU8sSUFBSSxTQUFTLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ3JELEtBQUssWUFBWTtZQUNmLE9BQU8sSUFBSSxTQUFTLENBQ2xCLFlBQVksRUFDWixZQUFZLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FDaEMsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FDbkIsSUFBSSxVQUFVLENBQXVCLFFBQVEsRUFBRSxNQUFNLENBQUMsRUFDeEQsY0FBYyxDQUNmLENBQ0YsQ0FBQztRQUNKLEtBQUssUUFBUTtZQUNYLE9BQU8sSUFBSSxTQUFTLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0tBQ3BEO0FBQ0gsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUVyQixNQUFNLENBQUMsTUFBTSxjQUFjLEdBRXZCLENBQUMsTUFBTSxFQUFVLEVBQUU7SUFDckIsSUFBSSxNQUFNLFlBQVksWUFBWSxFQUFFO1FBQ2xDLE9BQU8sTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO0tBQzFCO1NBQU07UUFDTCxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7UUFFN0IsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7WUFDM0IsT0FBTyxHQUFHLENBQUM7U0FDWjtRQUVELFFBQVEsR0FBRyxDQUFDLFVBQVUsRUFBRTtZQUN0QixLQUFLLFVBQVU7Z0JBQ2IsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDO1lBQ2xCLEtBQUssUUFBUTtnQkFDWCxPQUFPLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUMxRCxLQUFLLFlBQVk7Z0JBQ2YsOERBQThEO2dCQUM5RCxPQUFPLGtCQUFrQixDQUFDLE1BQWEsQ0FBQyxDQUFDO1NBQzVDO0tBQ0Y7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FFMUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUU7SUFDcEIsSUFBSSxNQUFNLFlBQVksWUFBWSxJQUFJLEtBQUssWUFBWSxZQUFZLEVBQUU7UUFDbkUsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUVELE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUM3QixNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7SUFFNUIsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7UUFDM0IsT0FBTyxHQUFHLEtBQUssR0FBRyxDQUFDO0tBQ3BCO1NBQU0sSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7UUFDbEMsT0FBTyxLQUFLLENBQUM7S0FDZDtTQUFNO1FBQ0wsT0FBTyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUM7S0FDMUI7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLGNBQWMsR0FBRyxJQUFJLFVBQVUsQ0FBdUIsVUFBVSxDQUFDLENBQUM7QUFDeEUsTUFBTSxZQUFZLEdBQUcsSUFBSSxVQUFVLENBQXVCLFFBQVEsQ0FBQyxDQUFDO0FBRXBFLE1BQU0sY0FBYyxHQUFrRDtJQUNwRSxjQUFjO0lBQ2QsWUFBWTtDQUNiLENBQUM7QUFvQkYsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLFVBQVUsQ0FBQyxTQUFTLGVBQWUsQ0FLaEUsS0FBaUUsRUFDakUsR0FBaUI7O0lBRWpCLE1BQU0sRUFDSixVQUFVLEVBQUUsY0FBYyxFQUMxQixhQUFhLEVBQUUsaUJBQWlCLEVBQ2hDLE1BQU0sRUFBRSxVQUFVLEVBQ2xCLGNBQWMsRUFBRSxrQkFBa0IsRUFDbEMsT0FBTyxFQUNQLFVBQVUsRUFDVixXQUFXLEVBQUUsZUFBZSxHQUFHLFlBQVksRUFDM0MsZ0JBQWdCLEVBQ2hCLGNBQWMsRUFDZCxHQUFHLElBQUksRUFDUixHQUFHLEtBQUssQ0FBQztJQUVWLE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsYUFBYSxDQUFDO1FBQ2hELFVBQVUsRUFBRSxjQUFjO1FBQzFCLE9BQU8sRUFBRSxFQUFFO1FBQ1gsSUFBSSxFQUFFLGlCQUFpQjtRQUN2QixLQUFLLEVBQUUsWUFBWTtLQUNwQixDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLGFBQWEsQ0FBQztRQUN4QyxVQUFVLEVBQUUsVUFBVTtRQUN0QixPQUFPLEVBQUUsSUFBSTtRQUNiLElBQUksRUFBRSxpQkFBaUI7UUFDdkIsS0FBSyxFQUFFLFFBQVE7S0FDaEIsQ0FBQyxDQUFDO0lBRUgsTUFBTSxXQUFXLEdBQUcsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEQsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUMxQixpQkFBaUIsRUFDakIsT0FBTyxDQUFDLEdBQUcsRUFBRTtRQUNYLE1BQU0sV0FBVyxHQUFHLG1CQUFtQixDQUFDO1FBQ3hDLE1BQU0sU0FBUyxHQUFHLE1BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxPQUFPLEVBQUUsQ0FBQztRQUNwQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2QsT0FBTztnQkFDTCxJQUFJLEVBQUUsSUFBSTtnQkFDVixTQUFTLEVBQUU7b0JBQ1QsS0FBSyxFQUFFLEVBQUU7aUJBQ1Y7YUFDRixDQUFDO1NBQ0g7YUFBTSxJQUFJLFNBQVMsS0FBSyxVQUFVLEVBQUU7WUFDbkMsT0FBTztnQkFDTCxJQUFJLEVBQUUsQ0FBQyxXQUFXO2dCQUNsQixTQUFTLEVBQUU7b0JBQ1QsS0FBSyxFQUFFO3dCQUNMLFVBQVUsRUFBRTs0QkFDVixJQUFJLEVBQUU7Z0NBQ0osT0FBTyxFQUFFLElBQUksV0FBVyxjQUFjLFdBQVcsRUFBRTtnQ0FDbkQsS0FBSyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzs2QkFDdEI7eUJBQ0Y7cUJBQ0Y7aUJBQ0Y7Z0JBQ0QsV0FBVzthQUNaLENBQUM7U0FDSDthQUFNLElBQUksU0FBUyxLQUFLLFFBQVEsRUFBRTtZQUNqQyxPQUFPO2dCQUNMLElBQUksRUFBRSxDQUFDLFdBQVc7Z0JBQ2xCLFNBQVMsRUFBRTtvQkFDVCxLQUFLLEVBQUU7d0JBQ0wsTUFBTSxFQUFFOzRCQUNOLEVBQUUsRUFBRTtnQ0FDRjtvQ0FDRSxJQUFJLEVBQUU7d0NBQ0osS0FBSyxFQUFFOzRDQUNMLE9BQU8sRUFBRSxJQUFJLFdBQVcsY0FBYyxXQUFXLEVBQUU7NENBQ25ELEtBQUssRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7eUNBQ3RCO3FDQUNGO2lDQUNGO2dDQUNEO29DQUNFLElBQUksRUFBRTt3Q0FDSixJQUFJLEVBQUU7NENBQ0osT0FBTyxFQUFFLElBQUksV0FBVyxjQUFjLFdBQVcsRUFBRTs0Q0FDbkQsS0FBSyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzt5Q0FDdEI7cUNBQ0Y7aUNBQ0Y7NkJBQ0Y7eUJBQ0Y7cUJBQ0Y7aUJBQ0Y7Z0JBQ0QsV0FBVzthQUNaLENBQUM7U0FDSDthQUFNLElBQUksU0FBUyxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7WUFDOUMsT0FBTztnQkFDTCxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE1BQU07Z0JBQ25DLFNBQVMsRUFBRTtvQkFDVCxLQUFLLEVBQUU7d0JBQ0wsV0FBVyxFQUFFOzRCQUNYLE1BQU0sRUFBRTtnQ0FDTixFQUFFLEVBQUU7b0NBQ0YsSUFBSSxFQUFFLFNBQVMsQ0FBQyxVQUFVO29DQUMxQixFQUFFLEVBQUUsU0FBUyxDQUFDLEVBQUU7aUNBQ2pCOzZCQUNGO3lCQUNGO3FCQUNGO2lCQUNGO2dCQUNELFdBQVc7YUFDWixDQUFDO1NBQ0g7YUFBTSxJQUFJLFNBQVMsQ0FBQyxVQUFVLEtBQUssWUFBWSxFQUFFO1lBQ2hELE9BQU87Z0JBQ0wsSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNO2dCQUNoQyxTQUFTLEVBQUU7b0JBQ1QsS0FBSyxFQUFFO3dCQUNMLFdBQVcsRUFBRTs0QkFDWCxNQUFNLEVBQUU7Z0NBQ04sRUFBRSxFQUFFO29DQUNGLElBQUksRUFBRSxTQUFTLENBQUMsVUFBVTtvQ0FDMUIsRUFBRSxFQUFFLFNBQVMsQ0FBQyxFQUFFO2lDQUNqQjs2QkFDRjt5QkFDRjtxQkFDRjtpQkFDRjtnQkFDRCxXQUFXO2FBQ1osQ0FBQztTQUNIO0lBQ0gsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQzFCLENBQUM7SUFFRixNQUFNLGNBQWMsR0FBRyxXQUFXLENBR2hDLENBQUMsR0FBRyxJQUFJLEVBQUUsRUFBRTtRQUNWLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVuQixJQUFJLGtCQUFrQixFQUFFO1lBQ3RCLGtCQUFrQixDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDN0I7SUFDSCxDQUFDLEVBQ0QsQ0FBQyxrQkFBa0IsRUFBRSxTQUFTLENBQUMsQ0FDaEMsQ0FBQztJQUVGLE1BQU0sYUFBYSxHQUFHLFdBQVcsQ0FHL0IsQ0FBQyxHQUFHLElBQUksRUFBRSxFQUFFO1FBQ1YsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXZCLElBQUksaUJBQWlCLEVBQUU7WUFDckIsaUJBQWlCLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztTQUM1QjtJQUNILENBQUMsRUFDRCxDQUFDLGlCQUFpQixFQUFFLGFBQWEsQ0FBQyxDQUNuQyxDQUFDO0lBRUYsTUFBTSxXQUFXLEdBQUcsV0FBVyxDQUc3QixDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ1QsTUFBTSxTQUFTLEdBQUcsTUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLE9BQU8sRUFBRSxDQUFDO1FBRXBDLE9BQU8sZUFBZSxDQUFDO1lBQ3JCLElBQUksRUFBRSxRQUFRO1lBQ2QsR0FBRyxNQUFNO1lBQ1QsR0FBRyxDQUFDLEdBQUcsRUFBRTtnQkFDUCxJQUFJLFNBQVMsS0FBSyxVQUFVLEVBQUU7b0JBQzVCLE9BQU8sRUFBRSxXQUFXLEVBQUUsa0JBQWtCLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxDQUFDO2lCQUMvRDtxQkFBTSxJQUFJLFNBQVMsS0FBSyxRQUFRLEVBQUU7b0JBQ2pDLE9BQU8sRUFBRSxXQUFXLEVBQUUsa0JBQWtCLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDO2lCQUM3RDtxQkFBTSxJQUFJLFNBQVMsRUFBRTtvQkFDcEIsT0FBTzt3QkFDTCxLQUFLLEVBQUUsWUFBWTtxQkFDcEIsQ0FBQztpQkFDSDtnQkFDRCxPQUFPLEVBQUUsQ0FBQztZQUNaLENBQUMsQ0FBQyxFQUFFO1lBQ0osR0FBRyxDQUFDLENBQUEsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLEtBQUs7Z0JBQ3BCLENBQUMsQ0FBQztvQkFDRSxLQUFLLEVBQUUsSUFBSTtvQkFDWCxVQUFVLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxPQUFPO2lCQUN0QztnQkFDSCxDQUFDLENBQUMsRUFBRSxDQUFDO1NBQ1IsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxFQUNELENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxlQUFlLEVBQUUsTUFBTSxDQUFDLENBQzdDLENBQUM7SUFFRixNQUFNLFlBQVksR0FBRyxXQUFXLENBVTlCLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUN6QixJQUFJLE1BQU0sWUFBWSxTQUFTLEVBQUU7WUFDL0IsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzdCLElBQ0UsT0FBTyxHQUFHLEtBQUssUUFBUTtnQkFDdkIsR0FBRyxDQUFDLFVBQVUsS0FBSyxRQUFRO2dCQUMzQixDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUN4QjtnQkFDQSxPQUFPLENBQ0wsb0JBQUMsYUFBYSxJQUNaLEtBQUssRUFBRSxLQUFLLEVBQ1osTUFBTSxFQUFFLE1BQU0sRUFDZCxLQUFLLEVBQUUsS0FBSyxFQUNaLGlCQUFpQixFQUFFO3dCQUNqQixTQUFTLEVBQUUsR0FBRyxDQUFDLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSztxQkFDbEMsR0FDRCxDQUNILENBQUM7YUFDSDtTQUNGO1FBRUQsT0FBTyxvQkFBQyxhQUFhLElBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEdBQUksQ0FBQztJQUN2RSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFUCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQW1DLEdBQUcsRUFBRTs7UUFDN0QsTUFBTSxPQUFPLEdBQXFDLEVBQUUsQ0FBQztRQUVyRCxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1gsT0FBTyxjQUFjLENBQUM7U0FDdkI7YUFBTTtZQUNMLE9BQU8sQ0FBQyxDQUFBLE1BQUEsV0FBVyxDQUFDLElBQUksMENBQUUsUUFBUSxLQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtnQkFDbkUsUUFBUSxNQUFNLENBQUMsVUFBVSxFQUFFO29CQUN6QixLQUFLLFVBQVU7d0JBQ2IsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRTs0QkFDN0IsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQzt5QkFDOUM7d0JBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDckIsTUFBTTtvQkFDUixLQUFLLFlBQVk7d0JBQ2YsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRTs0QkFDMUIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQzt5QkFDOUM7d0JBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDckIsTUFBTTtvQkFDUixLQUFLLFFBQVE7d0JBQ1gsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDckIsTUFBTTtpQkFDVDtnQkFFRCxPQUFPLE9BQU8sQ0FBQztZQUNqQixDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDYjtJQUNILENBQUMsRUFBRSxDQUFDLE1BQUEsV0FBVyxDQUFDLElBQUksMENBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFFekMsTUFBTSxDQUFDLFFBQVEsRUFBRSxlQUFlLENBQUMsR0FBRyxPQUFPLENBQXNCLEdBQUcsRUFBRTtRQUNwRSxNQUFNLFNBQVMsR0FBRyxNQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsT0FBTyxFQUFFLENBQUM7UUFFcEMsSUFBSSxTQUFTLEtBQUssUUFBUSxJQUFJLENBQUMsQ0FBQyxjQUFjLEVBQUU7WUFDOUMsT0FBTyxDQUFDLElBQWdCLEVBQUUsYUFBYSxDQUFDLENBQUM7U0FDMUM7YUFBTSxJQUFJLFNBQVMsS0FBSyxVQUFVLElBQUksQ0FBQyxDQUFDLGdCQUFnQixFQUFFO1lBQ3pELE9BQU8sQ0FBQyxJQUFnQixFQUFFLGVBQWUsQ0FBQyxDQUFDO1NBQzVDO2FBQU07WUFDTCxPQUFPLENBQUMsS0FBaUIsQ0FBQyxDQUFDO1NBQzVCO0lBQ0gsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7SUFFL0MsT0FBTyxDQUNMLG9CQUFDLFVBQVUsSUFPVCxpQkFBaUIsRUFBRSxpQkFBaUIsRUFDcEMsY0FBYyxFQUFFLGNBQWMsS0FDMUIsSUFBSSxFQUNSLEdBQUcsRUFBRSxHQUFHLEVBQ1IsY0FBYyxFQUFFLGNBQWMsRUFDOUIsTUFBTSxFQUFFLE1BQU0sRUFDZCxPQUFPLEVBQUUsV0FBVyxDQUFDLE9BQU8sSUFBSSxPQUFPLEVBQ3ZDLFdBQVcsRUFBRSxXQUFXLEVBQ3hCLFlBQVksRUFBRSxZQUFZLEVBQzFCLFVBQVUsRUFBRSxVQUFVLEVBQ3RCLGFBQWEsRUFBRSxhQUFhLEVBQzVCLE9BQU8sRUFBRSxPQUFPLEVBQ2hCLFFBQVEsRUFBRSxRQUFRLEVBQ2xCLGVBQWUsRUFBRSxlQUFlO1FBQ2hDLCtEQUErRDtRQUMvRCxpRUFBaUU7UUFDakUsVUFBVSxFQUFFLENBQUMsVUFBVSxhQUFWLFVBQVUsY0FBVixVQUFVLEdBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQy9ELENBQ0gsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBRUgsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQztBQXVCcEMsTUFBTSxjQUFjLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFFaEMsTUFBTSxjQUFjLEdBRWhCLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDWixJQUNFLEtBQUs7UUFDTCxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDM0MsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUNOLEdBQUcsWUFBWSxZQUFZO1lBQzFCLEdBQW9CLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FDN0MsRUFDRDtRQUNBLE9BQU8sVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0tBQ2hDO0FBQ0gsQ0FBQyxDQUFDO0FBaUJGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsU0FBUyxXQUFXLENBS3hELEtBQTZELEVBQzdELEdBQWlCOztJQUVqQixNQUFNLEVBQ0osSUFBSSxFQUFFLFFBQVEsR0FBRyxXQUFXLEVBQzVCLFlBQVksRUFDWixJQUFJLEVBQ0osV0FBVyxFQUFFLGVBQWUsR0FBRyxZQUFZLEVBQzNDLFFBQVEsRUFDUixNQUFNLEVBQUUsVUFBVSxFQUNsQixRQUFRLEVBQUUsWUFBWSxFQUN0QixjQUFjLEVBQUUsa0JBQWtCLEVBQ2xDLEdBQUcsSUFBSSxFQUNSLEdBQUcsS0FBSyxDQUFDO0lBRVYsTUFBTSxZQUFZLEdBQUcsTUFBQSxNQUFBLGNBQWMsQ0FBQyxJQUFJLENBQUMsMENBQUUsWUFBWSxtQ0FBSSxLQUFLLENBQUM7SUFFakUsTUFBTSxFQUNKLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLEVBQ2xDLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsRUFDNUIsUUFBUSxFQUNSLFVBQVUsR0FDWCxHQUFHLFFBQVEsQ0FRVjtRQUNBLElBQUksRUFBRSxRQUFRO1FBQ2QsSUFBSTtRQUNKLE9BQU8sRUFBRSxhQUFhO1FBQ3RCLFNBQVMsRUFBRSxjQUFjO1FBQ3pCLDhEQUE4RDtRQUM5RCxZQUFZLEVBQUUsWUFBbUI7S0FDbEMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUNuQixHQUFHLEVBQUUsQ0FBQyxVQUFVLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUMvQyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBTzVCLENBQUM7SUFFRixNQUFNLFVBQVUsR0FBRyxXQUFXLENBQzVCLENBQUMsR0FBRyxJQUFJLEVBQUUsRUFBRTtRQUNWLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQixJQUFJLFVBQVUsRUFBRTtZQUNkLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ3JCO0lBQ0gsQ0FBQyxFQUNELENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUN6QixDQUFDO0lBRUYsTUFBTSxXQUFXLEdBQUcsV0FBVyxDQUc3QixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQ1QsZUFBZSxDQUFDO1FBQ2QsR0FBRyxNQUFNO1FBQ1QsSUFBSTtRQUNKLEdBQUcsQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDLE1BQU07WUFDNUIsQ0FBQyxDQUFDO2dCQUNFLEtBQUssRUFBRSxJQUFJO2dCQUNYLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTzthQUM5QjtZQUNILENBQUMsQ0FBQyxFQUFFLENBQUM7S0FDUixDQUFDLEVBQ0osQ0FBQyxlQUFlLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FDM0MsQ0FBQztJQUVGLE1BQU0sWUFBWSxHQUFHLFdBQVcsQ0FLOUIsQ0FBQyxHQUFHLElBQUksRUFBRSxFQUFFOztRQUNWLFFBQVEsQ0FBQyxNQUFBLElBQUksQ0FBQyxDQUFDLENBQUMsbUNBQUksU0FBUyxDQUFDLENBQUM7UUFDL0IsSUFBSSxZQUFZLEVBQUU7WUFDaEIsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDdkI7SUFDSCxDQUFDLEVBQ0QsQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDLENBQ3pCLENBQUM7SUFFRiwwREFBMEQ7SUFDMUQsTUFBTSxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQ3hDLEtBQUssWUFBWSxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FDM0QsQ0FBQztJQUVGLE1BQU0sa0JBQWtCLEdBQUcsV0FBVyxDQVNwQyxDQUFDLEdBQUcsSUFBSSxFQUFFLEVBQUU7UUFDVixTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFbkIsSUFBSSxrQkFBa0IsRUFBRTtZQUN0QixrQkFBa0IsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQzdCO0lBQ0gsQ0FBQyxFQUNELENBQUMsa0JBQWtCLENBQUMsQ0FDckIsQ0FBQztJQUVGLE9BQU8sQ0FDTCxvQkFBQyxlQUFlLE9BQ1YsSUFBSSxFQUNSLEtBQUssRUFBRSxLQUFLLEVBQ1osUUFBUSxFQUFFLFlBQVksSUFBSSxRQUFRLEVBQ2xDLEdBQUcsRUFBRSxHQUFHLEVBQ1IsUUFBUSxFQUFFLFlBQVksRUFDdEIsTUFBTSxFQUNKLE1BQU0sS0FBSyxjQUFjO1lBQ3ZCLENBQUMsQ0FBQyxLQUFLLFlBQVksU0FBUztnQkFDMUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNO2dCQUNkLENBQUMsQ0FBQyxJQUFJO1lBQ1IsQ0FBQyxDQUFDLE1BQU0sRUFFWixjQUFjLEVBQUUsa0JBQWtCLEVBQ2xDLFdBQVcsRUFBRSxXQUFXLEVBQ3hCLE1BQU0sRUFBRSxVQUFVLEdBQ2xCLENBQ0gsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDIn0=","import React, { forwardRef, useCallback, useMemo, useState } from \"react\";\nimport TreeSelect, { ValueNode, BranchNode, FreeSoloNode, defaultInput, } from \"mui-tree-select\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { sortBranchesToTop } from \"./shared\";\nimport { useField, useFormContext, } from \"../../useKISSForm/form\";\nimport { useControlled } from \"@material-ui/core\";\nconst CATEGORY_INPUT_OPTS_FRAGMENT = gql `\n  fragment CategoryInputOpt on Category {\n    __typename\n    id\n    name\n    type\n    children {\n      __typename\n      id\n    }\n    parent {\n      __typename\n      id\n    }\n  }\n`;\nexport const CATEGORY_DEFAULT_VALUE_FRAGMENT = gql `\n  fragment CategoryInputDefaultValue on Category {\n    ...CategoryInputOpt\n    ancestors {\n      ...CategoryInputOpt\n    }\n  }\n  ${CATEGORY_INPUT_OPTS_FRAGMENT}\n`;\nexport const CATEGORY_DEFAULT_VALUE = gql `\n  query CategoryInputDefaultValues($where: CategoriesWhere!) {\n    categories(where: $where) {\n      ...CategoryInputDefaultValue\n    }\n  }\n  ${CATEGORY_DEFAULT_VALUE_FRAGMENT}\n`;\nexport const CATEGORY_INPUT_OPTS = gql `\n  query CategoryInputOpts($where: CategoriesWhere!) {\n    categories(where: $where) {\n      ...CategoryInputOpt\n    }\n  }\n  ${CATEGORY_INPUT_OPTS_FRAGMENT}\n`;\nexport const useCategoryDefaultValue = (defaultValue) => useMemo(() => defaultValue\n    ? new ValueNode(defaultValue, [...defaultValue.ancestors].reverse())\n    : undefined, [defaultValue]);\nconst categoryIsEqual = (a, b) => {\n    const isEqual = (a, b) => {\n        if (!a || !b) {\n            return a === b;\n        }\n        else if (a instanceof FreeSoloNode || b instanceof FreeSoloNode) {\n            return a.valueOf() === b.valueOf();\n        }\n        else {\n            return a.valueOf().id === b.valueOf().id;\n        }\n    };\n    if (Array.isArray(a) || Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return false;\n        }\n        else {\n            return a.every((a, i) => isEqual(a, b[i]));\n        }\n    }\n    else {\n        return isEqual(a, b);\n    }\n};\nexport const getOptionLabel = (option) => {\n    if (option instanceof FreeSoloNode) {\n        return option.toString();\n    }\n    else {\n        return option.valueOf().name;\n    }\n};\nexport const getOptionSelected = (option, value) => !(option instanceof FreeSoloNode) &&\n    !(value instanceof FreeSoloNode) &&\n    option.valueOf().id === value.valueOf().id;\nexport const CategoryInputBase = forwardRef(function CategoryInputBase(props, ref) {\n    var _a;\n    const { renderInput: renderInputProp = defaultInput, onBranchChange: onBranchChangeProp, branch: branchProp, loading, ...rest } = props;\n    const [branch, setBranch] = useControlled({\n        controlled: branchProp,\n        default: null,\n        name: \"CategoryInputBaseProps\",\n        state: \"branch\",\n    });\n    const queryResult = useQuery(CATEGORY_INPUT_OPTS, useMemo(() => {\n        if (branch) {\n            return {\n                skip: false,\n                variables: {\n                    where: {\n                        parent: {\n                            eq: branch.valueOf().id,\n                        },\n                        active: true,\n                    },\n                },\n            };\n        }\n        else {\n            return {\n                skip: false,\n                variables: {\n                    where: {\n                        root: true,\n                        active: true,\n                    },\n                },\n            };\n        }\n    }, [branch]));\n    const onBranchChange = useCallback((...args) => {\n        setBranch(args[1]);\n        if (onBranchChangeProp) {\n            onBranchChangeProp(...args);\n        }\n    }, [onBranchChangeProp, setBranch]);\n    const renderInput = useCallback((params) => renderInputProp({\n        name: \"category\",\n        ...params,\n        ...(queryResult.error\n            ? {\n                error: true,\n                helperText: queryResult.error.message,\n            }\n            : {}),\n    }), [queryResult.error, renderInputProp]);\n    const options = useMemo(() => {\n        var _a;\n        return (((_a = queryResult.data) === null || _a === void 0 ? void 0 : _a.categories) || [])\n            .reduce((options, category) => {\n            if (category.children.length) {\n                options.push(new BranchNode(category, branch));\n            }\n            if (category.parent) {\n                options.push(category);\n            }\n            return options;\n        }, [])\n            .sort(sortBranchesToTop);\n    }, [(_a = queryResult.data) === null || _a === void 0 ? void 0 : _a.categories, branch]);\n    return (React.createElement(TreeSelect, { getOptionLabel: getOptionLabel, getOptionSelected: getOptionSelected, ...rest, ref: ref, loading: queryResult.loading || !!loading, onBranchChange: onBranchChange, branch: branch, renderInput: renderInput, options: options }));\n});\nconst BRANCH_NOT_SET = Symbol();\nexport const CATEGORY_NAME = \"category\";\nexport const CategoryInput = forwardRef(function CategoryInputInner(props, ref) {\n    var _a, _b;\n    const { defaultValue, form, renderInput: renderInputProp = defaultInput, disabled, onBlur: onBlurProp, onChange: onChangeProp, onBranchChange: onBranchChangeProp, ...rest } = props;\n    const isSubmitting = (_b = (_a = useFormContext(form)) === null || _a === void 0 ? void 0 : _a.isSubmitting) !== null && _b !== void 0 ? _b : false;\n    const { props: { value: fieldValue, name }, state: { isTouched, errors }, setValue, setTouched, } = useField({\n        name: CATEGORY_NAME,\n        form,\n        isEqual: categoryIsEqual,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        defaultValue: defaultValue,\n    });\n    const value = useMemo(() => fieldValue || (rest.multiple ? [] : null), [fieldValue, rest.multiple]);\n    const handleBlur = useCallback((...args) => {\n        setTouched(true);\n        if (onBlurProp) {\n            onBlurProp(...args);\n        }\n    }, [setTouched, onBlurProp]);\n    const renderInput = useCallback((params) => renderInputProp({\n        ...params,\n        name,\n        ...(isTouched && errors.length\n            ? {\n                error: true,\n                helperText: errors[0].message,\n            }\n            : {}),\n    }), [renderInputProp, name, isTouched, errors]);\n    const handleChange = useCallback((...args) => {\n        var _a;\n        setValue((_a = args[1]) !== null && _a !== void 0 ? _a : undefined);\n        if (onChangeProp) {\n            onChangeProp(...args);\n        }\n    }, [onChangeProp, setValue]);\n    // The following accommodates async default value lookups.\n    const [branch, setBranch] = useState(() => value instanceof ValueNode ? value.parent : BRANCH_NOT_SET);\n    const handleBranchChange = useCallback((...args) => {\n        setBranch(args[1]);\n        if (onBranchChangeProp) {\n            onBranchChangeProp(...args);\n        }\n    }, [onBranchChangeProp]);\n    return (React.createElement(CategoryInputBase, { ...rest, \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        value: value !== null && value !== void 0 ? value : null, disabled: isSubmitting || disabled, ref: ref, onChange: handleChange, branch: branch === BRANCH_NOT_SET\n            ? value instanceof ValueNode\n                ? value.parent\n                : null\n            : branch, onBranchChange: handleBranchChange, renderInput: renderInput, onBlur: handleBlur }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2F0ZWdvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9JbnB1dHMvQ2F0ZWdvcnkudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQU8sUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQy9FLE9BQU8sVUFBVSxFQUFFLEVBQ2pCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsWUFBWSxFQUVaLFlBQVksR0FFYixNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFTL0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQzdDLE9BQU8sRUFHTCxRQUFRLEVBRVIsY0FBYyxHQUNmLE1BQU0sd0JBQXdCLENBQUM7QUFDaEMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBT2xELE1BQU0sNEJBQTRCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Q0FldkMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLCtCQUErQixHQUFHLEdBQUcsQ0FBQTs7Ozs7OztJQU85Qyw0QkFBNEI7Q0FDL0IsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEdBQUcsQ0FBQTs7Ozs7O0lBTXJDLCtCQUErQjtDQUNsQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsR0FBRyxDQUFBOzs7Ozs7SUFNbEMsNEJBQTRCO0NBQy9CLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxDQUNyQyxZQUFnRCxFQUNXLEVBQUUsQ0FDN0QsT0FBTyxDQUNMLEdBQUcsRUFBRSxDQUNILFlBQVk7SUFDVixDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUMsR0FBRyxZQUFZLENB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","import { PaymentCardType } from \"../graphTypes\";\nexport const toString = function (cardType) {\n    switch (cardType) {\n        case PaymentCardType.Visa:\n            return \"VISA\";\n        case PaymentCardType.MasterCard:\n            return \"MC\";\n        case PaymentCardType.AmericanExpress:\n            return \"AMEX\";\n        case PaymentCardType.Discover:\n            return \"DS\";\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bWVudENhcmRUeXBlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Fwb2xsby90eXBlVXRpbHMvcGF5bWVudENhcmRUeXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFaEQsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLFVBQVUsUUFBeUI7SUFDekQsUUFBUSxRQUFRLEVBQUU7UUFDaEIsS0FBSyxlQUFlLENBQUMsSUFBSTtZQUN2QixPQUFPLE1BQU0sQ0FBQztRQUNoQixLQUFLLGVBQWUsQ0FBQyxVQUFVO1lBQzdCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsS0FBSyxlQUFlLENBQUMsZUFBZTtZQUNsQyxPQUFPLE1BQU0sQ0FBQztRQUNoQixLQUFLLGVBQWUsQ0FBQyxRQUFRO1lBQzNCLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7QUFDSCxDQUFDLENBQUMifQ==","import { toString as toStringCardType } from \"./paymentCardType\";\nexport const toString = function (accountCard) {\n    var _a, _b, _c;\n    let str = \"\";\n    if (((_a = accountCard.aliases) === null || _a === void 0 ? void 0 : _a.length) && ((_b = accountCard.aliases[0]) === null || _b === void 0 ? void 0 : _b.name)) {\n        str = (_c = accountCard.aliases[0]) === null || _c === void 0 ? void 0 : _c.name;\n    }\n    if (accountCard.type !== undefined) {\n        str = str\n            ? `${str} ${toStringCardType(accountCard.type)}`\n            : toStringCardType(accountCard.type);\n    }\n    if (accountCard.trailingDigits) {\n        str = str\n            ? `${str}-${accountCard.trailingDigits}`\n            : accountCard.trailingDigits;\n    }\n    return str || JSON.stringify(accountCard);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3VudENhcmQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvYXBvbGxvL3R5cGVVdGlscy9hY2NvdW50Q2FyZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsUUFBUSxJQUFJLGdCQUFnQixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFakUsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLFVBQ3RCLFdBQXFDOztJQUVyQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFFYixJQUFJLENBQUEsTUFBQSxXQUFXLENBQUMsT0FBTywwQ0FBRSxNQUFNLE1BQUksTUFBQSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQywwQ0FBRSxJQUFJLENBQUEsRUFBRTtRQUMvRCxHQUFHLEdBQUcsTUFBQSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQywwQ0FBRSxJQUFJLENBQUM7S0FDcEM7SUFFRCxJQUFJLFdBQVcsQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1FBQ2xDLEdBQUcsR0FBRyxHQUFHO1lBQ1AsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNoRCxDQUFDLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3hDO0lBRUQsSUFBSSxXQUFXLENBQUMsY0FBYyxFQUFFO1FBQzlCLEdBQUcsR0FBRyxHQUFHO1lBQ1AsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxjQUFjLEVBQUU7WUFDeEMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUM7S0FDaEM7SUFFRCxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQzVDLENBQUMsQ0FBQyJ9","import React, { useCallback, useMemo, useState, forwardRef } from \"react\";\nimport TreeSelect, { ValueNode, BranchNode, FreeSoloNode, defaultInput, mergeInputStartAdornment, DefaultOption, } from \"mui-tree-select\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { capitalCase } from \"change-case\";\nimport { PaymentMethodType, PaymentCardType, EntryType, Currency, } from \"../../apollo/graphTypes\";\nimport { LoadingDefaultBlank } from \"./shared\";\nimport { useControlled } from \"@material-ui/core\";\nimport { useField, useFormContext, } from \"../../useKISSForm/form\";\nimport { toString as toStringAccountCard } from \"../../apollo/typeUtils/accountCard\";\nconst NULLISH = Symbol(\"NULLISH\");\nconst ACCOUNT_CARD_PAY_METHOD_INPUT_OPT = gql `\n  fragment AccountCardPayMethodInputOpt on AccountCard {\n    __typename\n    id\n    active\n    type\n    trailingDigits\n    aliases {\n      name\n    }\n  }\n`;\nconst ACCOUNT_OWNER_PAY_METHOD_INPUT_OPT = gql `\n  fragment AccountOwnerPayMethodInputOpt on Entity {\n    __typename\n    ... on Business {\n      id\n      name\n    }\n    ... on Department {\n      id\n      name\n    }\n    ... on Person {\n      id\n      personName: name {\n        first\n        last\n      }\n    }\n  }\n`;\nconst ACCOUNT_CHECKING_PAY_METHOD_INPUT_OPT = gql `\n  fragment AccountCheckingPayMethodInputOpt on AccountChecking {\n    __typename\n    id\n    accountNumber\n    active\n    cards {\n      ...AccountCardPayMethodInputOpt\n    }\n    name\n    owner {\n      ...AccountOwnerPayMethodInputOpt\n    }\n  }\n  ${ACCOUNT_OWNER_PAY_METHOD_INPUT_OPT}\n  ${ACCOUNT_CARD_PAY_METHOD_INPUT_OPT}\n`;\nconst ACCOUNT_CREDIT_CARD_PAY_METHOD_INPUT_OPT = gql `\n  fragment AccountCreditCardPayMethodInputOpt on AccountCreditCard {\n    __typename\n    id\n    active\n    cards {\n      ...AccountCardPayMethodInputOpt\n    }\n    name\n    owner {\n      ...AccountOwnerPayMethodInputOpt\n    }\n  }\n  ${ACCOUNT_OWNER_PAY_METHOD_INPUT_OPT}\n  ${ACCOUNT_CARD_PAY_METHOD_INPUT_OPT}\n`;\nconst PAY_METHOD_INPUT_OPTS = gql `\n  query AccountPayMethodInputOpts($where: AccountsWhere!) {\n    accounts(where: $where) {\n      ...AccountCheckingPayMethodInputOpt\n      ...AccountCreditCardPayMethodInputOpt\n    }\n  }\n  ${ACCOUNT_CHECKING_PAY_METHOD_INPUT_OPT}\n  ${ACCOUNT_CREDIT_CARD_PAY_METHOD_INPUT_OPT}\n`;\nexport const PAY_METHOD_DEFAULT_VALUE_FRAGMENT = gql `\n  fragment PayMethodDefaultValue on PaymentMethodInterface {\n    __typename\n    currency\n    ... on PaymentMethodCard {\n      card {\n        __typename\n        trailingDigits\n        type\n        ...AccountCardPayMethodInputOpt\n      }\n    }\n    ... on PaymentMethodCheck {\n      check {\n        __typename\n        checkNumber\n        ... on AccountCheck {\n          account {\n            ...AccountCheckingPayMethodInputOpt\n          }\n        }\n      }\n    }\n  }\n  ${ACCOUNT_CARD_PAY_METHOD_INPUT_OPT}\n  ${ACCOUNT_CHECKING_PAY_METHOD_INPUT_OPT}\n`;\nexport const PAY_METHOD_DEFAULT_VALUE_FROM_ENTRY = gql `\n  query PayMethodDefaultValueFromEntry($where: EntriesWhere!) {\n    entries(where: $where) {\n      __typename\n      id\n      paymentMethod {\n        ...PayMethodDefaultValue\n      }\n    }\n  }\n  ${PAY_METHOD_DEFAULT_VALUE_FRAGMENT}\n`;\nexport const PAY_METHOD_DEFAULT_VALUE_FROM_REFUND = gql `\n  query PayMethodDefaultValueFromRefund($where: EntryRefundsWhere!) {\n    entryRefunds(where: $where) {\n      __typename\n      id\n      paymentMethod {\n        ...PayMethodDefaultValue\n      }\n    }\n  }\n  ${PAY_METHOD_DEFAULT_VALUE_FRAGMENT}\n`;\nexport const usePaymentMethodDefaultValue = (defaultValue) => useMemo(() => {\n    switch (defaultValue === null || defaultValue === void 0 ? void 0 : defaultValue.__typename) {\n        case undefined:\n            return undefined;\n        case \"PaymentMethodCash\":\n            return new ValueNode(PaymentMethodType.Cash);\n        case \"PaymentMethodCombination\":\n            return new ValueNode(PaymentMethodType.Combination);\n        case \"PaymentMethodOnline\":\n            return new ValueNode(PaymentMethodType.Online);\n        case \"PaymentMethodUnknown\":\n            return new ValueNode(PaymentMethodType.Unknown);\n        case \"PaymentMethodCard\": {\n            const card = defaultValue === null || defaultValue === void 0 ? void 0 : defaultValue.card;\n            if (card.__typename === \"AccountCard\") {\n                return new ValueNode(card, new BranchNode(card.type, cardBranch));\n            }\n            else {\n                return new FreeSoloNode(card.trailingDigits, new BranchNode(card.type, cardBranch));\n            }\n        }\n        case \"PaymentMethodCheck\": {\n            const check = defaultValue === null || defaultValue === void 0 ? void 0 : defaultValue.check;\n            if (check.__typename === \"AccountCheck\") {\n                return new FreeSoloNode(check.checkNumber, new BranchNode(check.account, checkBranch));\n            }\n            else {\n                return new FreeSoloNode(check.checkNumber, checkBranch);\n            }\n        }\n    }\n}, [defaultValue]);\nconst payMethodIsEqual = (a, b) => {\n    const isEqual = (a, b) => {\n        var _a, _b;\n        if (!a || !b) {\n            return a === b;\n        }\n        else {\n            const aVal = a.valueOf();\n            const bVal = b.valueOf();\n            const aParent = (_a = a.parent) === null || _a === void 0 ? void 0 : _a.valueOf();\n            const bParent = (_b = b.parent) === null || _b === void 0 ? void 0 : _b.valueOf();\n            // Validate Parents Equal.\n            if (typeof aParent === \"string\" || typeof bParent === \"string\") {\n                if (aParent !== bParent) {\n                    return false;\n                }\n            }\n            else if ((aParent === null || aParent === void 0 ? void 0 : aParent.__typename) !== (bParent === null || bParent === void 0 ? void 0 : bParent.__typename) ||\n                (aParent === null || aParent === void 0 ? void 0 : aParent.id) !== (bParent === null || bParent === void 0 ? void 0 : bParent.id)) {\n                return false;\n            }\n            if (typeof aVal === \"string\") {\n                return typeof bVal === \"string\" ? aVal.trim() === bVal.trim() : false;\n            }\n            else if (typeof bVal === \"string\") {\n                return false;\n            }\n            else if (aVal.__typename === bVal.__typename && aVal.id === bVal.id) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n    };\n    if (Array.isArray(a) || Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return false;\n        }\n        else {\n            return a.every((a, i) => isEqual(a, b[i]));\n        }\n    }\n    else {\n        return isEqual(a, b);\n    }\n};\nexport const toUpsertPaymentMethod = ({ paymentMethodInput, }) => {\n    var _a;\n    const parent = (_a = paymentMethodInput.parent) === null || _a === void 0 ? void 0 : _a.valueOf();\n    const payMethod = paymentMethodInput.valueOf();\n    if (typeof parent === \"string\") {\n        switch (parent) {\n            case PaymentMethodType.Check:\n                return {\n                    check: {\n                        currency: Currency.Usd,\n                        check: {\n                            checkNumber: payMethod,\n                        },\n                    },\n                };\n            case PaymentCardType.AmericanExpress:\n            case PaymentCardType.Discover:\n            case PaymentCardType.MasterCard:\n            case PaymentCardType.Visa:\n                if (typeof payMethod === \"string\") {\n                    return {\n                        card: {\n                            currency: Currency.Usd,\n                            card: {\n                                type: parent,\n                                trailingDigits: payMethod,\n                            },\n                        },\n                    };\n                }\n                else {\n                    return {\n                        accountCard: {\n                            currency: Currency.Usd,\n                            card: payMethod.id,\n                        },\n                    };\n                }\n        }\n    }\n    else if ((parent === null || parent === void 0 ? void 0 : parent.__typename) === \"AccountChecking\") {\n        // Checking Account\n        return {\n            accountCheck: {\n                currency: Currency.Usd,\n                check: {\n                    account: parent.id,\n                    checkNumber: payMethod,\n                },\n            },\n        };\n    }\n    else {\n        switch (payMethod) {\n            case PaymentMethodType.Cash:\n                return {\n                    cash: {\n                        currency: Currency.Usd,\n                    },\n                };\n            case PaymentMethodType.Combination:\n                return {\n                    combination: {\n                        currency: Currency.Usd,\n                    },\n                };\n            case PaymentMethodType.Online:\n                return {\n                    online: {\n                        currency: Currency.Usd,\n                    },\n                };\n            case PaymentMethodType.Unknown:\n                return {\n                    unknown: {\n                        currency: Currency.Usd,\n                    },\n                };\n        }\n    }\n    return null;\n};\nexport const getOptionLabel = (option) => {\n    var _a;\n    if (option instanceof FreeSoloNode) {\n        return option.toString();\n    }\n    const opt = option.valueOf();\n    if (typeof opt === \"string\") {\n        return capitalCase(opt);\n    }\n    else if (opt.__typename === \"AccountChecking\") {\n        return `Acct# ...${(_a = opt.accountNumber) === null || _a === void 0 ? void 0 : _a.slice(-4)}`;\n    }\n    else {\n        return toStringAccountCard(opt);\n    }\n};\nexport const getOptionLabelWithPrefixes = (option) => {\n    var _a;\n    const optStr = getOptionLabel(option);\n    if (option instanceof FreeSoloNode) {\n        const curBranch = (_a = option.parent) === null || _a === void 0 ? void 0 : _a.valueOf();\n        if (curBranch) {\n            if (typeof curBranch === \"string\") {\n                switch (curBranch) {\n                    case PaymentMethodType.Check:\n                        return `CK-${optStr}`;\n                    case PaymentCardType.Visa:\n                    case PaymentCardType.MasterCard:\n                    case PaymentCardType.AmericanExpress:\n                    case PaymentCardType.Discover:\n                        return `${getCardTypeAbbreviation(curBranch)}-${optStr}`;\n                    default:\n                        break;\n                }\n            }\n            else if (curBranch.__typename === \"AccountChecking\") {\n                return `CK-${optStr}`;\n            }\n        }\n        return optStr;\n    }\n    const opt = option.valueOf();\n    if (typeof opt === \"string\" || opt.__typename === \"AccountChecking\") {\n        return optStr;\n    }\n    else {\n        return optStr;\n    }\n};\nexport const getOptionSelected = (option, value) => {\n    if (option instanceof FreeSoloNode || value instanceof FreeSoloNode) {\n        return false;\n    }\n    const opt = option.valueOf();\n    const val = value.valueOf();\n    if (typeof opt === \"string\" || typeof val === \"string\") {\n        return opt === val;\n    }\n    else {\n        return opt.id === val.id;\n    }\n};\nexport const getCardTypeAbbreviation = (cardType) => {\n    switch (cardType) {\n        case PaymentCardType.Visa:\n            return \"VISA\";\n        case PaymentCardType.MasterCard:\n            return \"MC\";\n        case PaymentCardType.AmericanExpress:\n            return \"AMEX\";\n        case PaymentCardType.Discover:\n            return \"DS\";\n    }\n};\nconst cardBranch = new BranchNode(PaymentMethodType.Card);\nconst checkBranch = new BranchNode(PaymentMethodType.Check);\nconst defaultOptions = [\n    cardBranch,\n    checkBranch,\n    PaymentMethodType.Cash,\n    PaymentMethodType.Combination,\n    PaymentMethodType.Online,\n];\nconst paymentCardBranchOpts = [\n    new BranchNode(PaymentCardType.Visa, cardBranch),\n    new BranchNode(PaymentCardType.MasterCard, cardBranch),\n    new BranchNode(PaymentCardType.AmericanExpress, cardBranch),\n    new BranchNode(PaymentCardType.Discover, cardBranch),\n];\nexport const PaymentMethodInputBase = forwardRef(function PaymentMethodInputBase(props, ref) {\n    const { accounts: accountsWhere, autoSelect, entryType, isRefund, renderInput: renderInputProp = defaultInput, inputValue: inputValueProp, branch: branchProp, onBranchChange: onBranchChangeProp, onInputChange: onInputChangeProp, disabled, ...rest } = props;\n    const entryTypeIsUndefined = (entryType !== null && entryType !== void 0 ? entryType : NULLISH) === NULLISH;\n    const [inputValue, setInputValue] = useControlled({\n        controlled: inputValueProp,\n        default: \"\",\n        name: \"PaymentMethodInputBase\",\n        state: \"inputValue\",\n    });\n    const [branch, setBranch] = useControlled({\n        controlled: branchProp,\n        default: null,\n        name: \"PaymentMethodInputBase\",\n        state: \"branch\",\n    });\n    const [state, setState] = useState({\n        checkingAccountBranchOpts: [],\n        cardBranchOpts: [],\n        cardOpts: new Map(),\n    });\n    const queryResult = useQuery(PAY_METHOD_INPUT_OPTS, useMemo(() => ({\n        variables: {\n            where: accountsWhere,\n        },\n        onCompleted: (data) => {\n            const checkingAccountBranchOpts = [];\n            const cardOpts = new Map();\n            // Create checking account branch opts and account card opts.\n            for (const account of data.accounts) {\n                if (!account.active) {\n                    continue;\n                }\n                if (account.__typename === \"AccountChecking\") {\n                    checkingAccountBranchOpts.push(new BranchNode(account, checkBranch));\n                }\n                for (const card of account.cards) {\n                    if (card.active) {\n                        const cards = cardOpts.get(card.type) || [];\n                        cards.push(card);\n                        cardOpts.set(card.type, cards);\n                    }\n                }\n            }\n            setState((state) => ({\n                ...state,\n                checkingAccountBranchOpts,\n                cardOpts,\n                cardBranchOpts: paymentCardBranchOpts.filter((branchOpt) => cardOpts.has(branchOpt.valueOf())),\n            }));\n        },\n    }), [accountsWhere]));\n    const onBranchChange = useCallback((...args) => {\n        setInputValue(\"\");\n        if (onInputChangeProp) {\n            onInputChangeProp(args[0], \"\", \"reset\");\n        }\n        // Skip single children account card and checking branch opts\n        const newArgs = (() => {\n            const [, newBranch, direction] = args;\n            if ((entryType === EntryType.Credit && !isRefund) || !newBranch) {\n                return args;\n            }\n            else {\n                const newBranchValue = newBranch.valueOf();\n                switch (newBranchValue) {\n                    case PaymentMethodType.Card:\n                        if (state.cardBranchOpts.length === 1) {\n                            const newArgs = [...args];\n                            if (direction === \"up\") {\n                                newArgs[1] = null;\n                                return newArgs;\n                            }\n                            else {\n                                newArgs[1] = state.cardBranchOpts[0];\n                                return newArgs;\n                            }\n                        }\n                        break;\n                    case PaymentMethodType.Check:\n                        if (state.checkingAccountBranchOpts.length === 1) {\n                            const newArgs = [...args];\n                            if (direction === \"up\") {\n                                newArgs[1] = null;\n                                return newArgs;\n                            }\n                            else {\n                                newArgs[1] = state.checkingAccountBranchOpts[0];\n                                return newArgs;\n                            }\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                return args;\n            }\n        })();\n        setBranch(newArgs[1]);\n        if (onBranchChangeProp) {\n            onBranchChangeProp(...newArgs);\n        }\n    }, [\n        setInputValue,\n        onInputChangeProp,\n        setBranch,\n        onBranchChangeProp,\n        entryType,\n        isRefund,\n        state.cardBranchOpts,\n        state.checkingAccountBranchOpts,\n    ]);\n    const onInputChange = useCallback((...args) => {\n        setInputValue(args[1]);\n        if (onInputChangeProp) {\n            onInputChangeProp(...args);\n        }\n    }, [setInputValue, onInputChangeProp]);\n    const renderOption = useCallback((renderOptionProps, option, renderOptionState) => {\n        return (React.createElement(DefaultOption, { props: renderOptionProps, option: option, state: {\n                ...renderOptionState,\n                getOptionLabel: option instanceof BranchNode\n                    ? renderOptionState.getOptionLabel\n                    : getOptionLabelWithPrefixes,\n            } }));\n    }, []);\n    const renderInput = useCallback((params) => renderInputProp((() => {\n        const inputProps = {\n            name: \"paymentMethod\",\n            ...(entryTypeIsUndefined\n                ? {\n                    helperText: \"Category Required\",\n                }\n                : {}),\n            ...params,\n        };\n        const error = queryResult.error\n            ? {\n                error: true,\n                helperText: queryResult.error.message,\n            }\n            : {};\n        const curBranch = branch === null || branch === void 0 ? void 0 : branch.valueOf();\n        if (typeof curBranch === \"string\") {\n            switch (curBranch) {\n                case PaymentMethodType.Check:\n                    if (entryType === EntryType.Credit) {\n                        return {\n                            ...inputProps,\n                            placeholder: \"####\",\n                            InputProps: mergeInputStartAdornment(\"append\", \"CK-\", inputProps.InputProps || {}),\n                            ...error,\n                        };\n                    }\n                    break;\n                case PaymentCardType.AmericanExpress:\n                case PaymentCardType.Discover:\n                case PaymentCardType.MasterCard:\n                case PaymentCardType.Visa:\n                    return {\n                        ...inputProps,\n                        placeholder: entryType === EntryType.Credit && !isRefund\n                            ? \"Last 4 Digits\"\n                            : undefined,\n                        InputProps: (() => {\n                            if (entryType === EntryType.Debit) {\n                                return inputProps.InputProps || {};\n                            }\n                            return mergeInputStartAdornment(\"append\", `${getCardTypeAbbreviation(curBranch)}-`, inputProps.InputProps || {});\n                        })(),\n                        ...error,\n                    };\n            }\n        }\n        else if ((curBranch === null || curBranch === void 0 ? void 0 : curBranch.__typename) === \"AccountChecking\") {\n            return {\n                ...inputProps,\n                placeholder: \"####\",\n                InputProps: mergeInputStartAdornment(\"append\", \"CK-\", inputProps.InputProps || {}),\n                ...error,\n            };\n        }\n        return inputProps;\n    })()), [\n        isRefund,\n        entryType,\n        entryTypeIsUndefined,\n        renderInputProp,\n        queryResult.error,\n        branch,\n    ]);\n    const [options, freeSolo] = useMemo(() => {\n        const curBranch = branch === null || branch === void 0 ? void 0 : branch.valueOf();\n        if (queryResult.loading || entryTypeIsUndefined) {\n            return [[], false];\n        }\n        else if (!curBranch) {\n            return [defaultOptions, false];\n        }\n        else if (typeof curBranch === \"string\") {\n            switch (curBranch) {\n                case PaymentMethodType.Card:\n                    return [\n                        entryType === EntryType.Credit && !isRefund\n                            ? paymentCardBranchOpts\n                            : state.cardBranchOpts,\n                        false,\n                    ];\n                case PaymentMethodType.Check:\n                    if (entryType === EntryType.Credit) {\n                        return [[], true];\n                    }\n                    else {\n                        return [state.checkingAccountBranchOpts, false];\n                    }\n                case PaymentCardType.AmericanExpress:\n                case PaymentCardType.Discover:\n                case PaymentCardType.MasterCard:\n                case PaymentCardType.Visa:\n                    if (entryType === EntryType.Credit && !isRefund) {\n                        return [[], true];\n                    }\n                    else {\n                        return [state.cardOpts.get(curBranch) || [], false];\n                    }\n            }\n        } /* if(curBranch.__typename === \"AccountChecking\") */\n        else {\n            return [[], true];\n        }\n    }, [\n        branch,\n        queryResult.loading,\n        entryTypeIsUndefined,\n        entryType,\n        isRefund,\n        state.cardBranchOpts,\n        state.checkingAccountBranchOpts,\n        state.cardOpts,\n    ]);\n    if (queryResult.loading) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return React.createElement(LoadingDefaultBlank, { ...props });\n    }\n    return (React.createElement(TreeSelect, { getOptionLabel: getOptionLabel, getOptionSelected: getOptionSelected, ...rest, disabled: disabled || entryTypeIsUndefined, autoSelect: (autoSelect !== null && autoSelect !== void 0 ? autoSelect : false) || freeSolo, ref: ref, options: options, onBranchChange: onBranchChange, branch: branch, renderOption: renderOption, renderInput: renderInput, freeSolo: freeSolo, onInputChange: onInputChange, inputValue: inputValue }));\n});\nconst BRANCH_NOT_SET = Symbol();\nexport const PAYMENT_METHOD_NAME = \"paymentMethod\";\nexport const PaymentMethodInput = forwardRef(function PaymentMethodInput(props, ref) {\n    var _a, _b;\n    const { defaultValue, form, renderInput: renderInputProp = defaultInput, disabled, onBlur: onBlurProp, onChange: onChangeProp, onBranchChange: onBranchChangeProp, ...rest } = props;\n    const isSubmitting = (_b = (_a = useFormContext(form)) === null || _a === void 0 ? void 0 : _a.isSubmitting) !== null && _b !== void 0 ? _b : false;\n    const { props: { value: fieldValue, name }, state: { isTouched, errors }, setValue, setTouched, } = useField({\n        name: PAYMENT_METHOD_NAME,\n        form,\n        isEqual: payMethodIsEqual,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        defaultValue: defaultValue,\n    });\n    const value = useMemo(() => fieldValue || (rest.multiple ? [] : null), [fieldValue, rest.multiple]);\n    const handleBlur = useCallback((...args) => {\n        setTouched(true);\n        if (onBlurProp) {\n            onBlurProp(...args);\n        }\n    }, [setTouched, onBlurProp]);\n    const renderInput = useCallback((params) => renderInputProp({\n        ...params,\n        name,\n        ...(isTouched && errors.length\n            ? {\n                error: true,\n                helperText: errors[0].message,\n            }\n            : {}),\n    }), [renderInputProp, name, isTouched, errors]);\n    const handleChange = useCallback((...args) => {\n        var _a;\n        setValue((_a = args[1]) !== null && _a !== void 0 ? _a : undefined);\n        if (onChangeProp) {\n            onChangeProp(...args);\n        }\n    }, [setValue, onChangeProp]);\n    // The following accommodates async default value lookups.\n    const [branch, setBranch] = useState(() => value instanceof ValueNode ? value.parent : BRANCH_NOT_SET);\n    const handleBranchChange = useCallback((...args) => {\n        setBranch(args[1]);\n        if (onBranchChangeProp) {\n            onBranchChangeProp(...args);\n        }\n    }, [onBranchChangeProp]);\n    return (React.createElement(PaymentMethodInputBase, { ...rest, \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        value: value !== null && value !== void 0 ? value : null, disabled: isSubmitting || disabled, ref: ref, onChange: handleChange, branch: branch === BRANCH_NOT_SET\n            ? value instanceof ValueNode\n                ? value.parent\n                : null\n            : branch, onBranchChange: handleBranchChange, renderInput: renderInput, onBlur: handleBlur }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGF5bWVudE1ldGhvZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0lucHV0cy9QYXltZW50TWV0aG9kLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBTyxNQUFNLE9BQU8sQ0FBQztBQUMvRSxPQUFPLFVBQVUsRUFBRSxFQUNqQixTQUFTLEVBQ1QsVUFBVSxFQUNWLFlBQVksRUFFWixZQUFZLEVBQ1osd0JBQXdCLEVBQ3hCLGFBQWEsR0FFZCxNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sRUFBZSxHQUFHLEVBQW9CLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTlFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFMUMsT0FBTyxFQUdMLGlCQUFpQixFQUNqQixlQUFlLEVBS2YsU0FBUyxFQUVULFFBQVEsR0FDVCxNQUFNLHlCQUF5QixDQUFDO0FBQ2pDLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUMvQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbEQsT0FBTyxFQUdMLFFBQVEsRUFFUixjQUFjLEdBQ2YsTUFBTSx3QkFBd0IsQ0FBQztBQUNoQyxPQUFPLEVBQUUsUUFBUSxJQUFJLG1CQUFtQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFFckYsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBdUJsQyxNQUFNLGlDQUFpQyxHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Q0FXNUMsQ0FBQztBQUVGLE1BQU0sa0NBQWtDLEdBQUcsR0FBRyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBbUI3QyxDQUFDO0FBRUYsTUFBTSxxQ0FBcUMsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7O0lBYzdD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","import React, { forwardRef, useMemo } from \"react\";\nimport { TextFieldControlled } from \"./shared\";\nimport { useIsEqual } from \"../../useKISSForm/form\";\nconst descriptionIsEqual = (a, b) => a === b;\nexport const DESCRIPTION_NAME = \"description\";\nexport const DescriptionInput = forwardRef(function DescriptionInput(props, ref) {\n    const { name = DESCRIPTION_NAME, ...rest } = props;\n    useIsEqual({\n        isEqual: useMemo(() => ({\n            [name]: descriptionIsEqual,\n        }), [name]),\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        form: props.form,\n    });\n    return React.createElement(TextFieldControlled, { ...rest, name: name, ref: ref, type: \"text\" });\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVzY3JpcHRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9JbnB1dHMvRGVzY3JpcHRpb24udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUVuRCxPQUFPLEVBQUUsbUJBQW1CLEVBQTRCLE1BQU0sVUFBVSxDQUFDO0FBQ3pFLE9BQU8sRUFBeUIsVUFBVSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFTM0UsTUFBTSxrQkFBa0IsR0FBc0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBRWhFLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLGFBQWEsQ0FBQztBQU05QyxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxVQUFVLENBQUMsU0FBUyxnQkFBZ0IsQ0FDbEUsS0FBNEIsRUFDNUIsR0FBb0M7SUFFcEMsTUFBTSxFQUFFLElBQUksR0FBRyxnQkFBZ0IsRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQztJQUVuRCxVQUFVLENBQW1DO1FBQzNDLE9BQU8sRUFBRSxPQUFPLENBQ2QsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUNMLENBQUMsSUFBSSxDQUFDLEVBQUUsa0JBQWtCO1NBQzNCLENBQUMsRUFDRixDQUFDLElBQUksQ0FBQyxDQUNQO1FBQ0QsOERBQThEO1FBQzlELElBQUksRUFBRSxLQUFLLENBQUMsSUFBVztLQUN4QixDQUFDLENBQUM7SUFFSCxPQUFPLG9CQUFDLG1CQUFtQixPQUFLLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFDLE1BQU0sR0FBRyxDQUFDO0FBQzdFLENBQUMsQ0FBQyxDQUFDIn0=","import React, { useCallback, forwardRef, useMemo, useState, useEffect, } from \"react\";\nimport { TextField, useControlled } from \"@material-ui/core\";\nimport Fraction from \"fraction.js\";\nimport { useField, useFormContext, } from \"../../useKISSForm/form\";\nconst formatDecimals = (input, decimals) => {\n    input = input.trim();\n    if (input && decimals !== undefined) {\n        const [whole, decimal = \"\"] = input.split(\".\");\n        if (decimals === 0) {\n            return whole;\n        }\n        else if (decimal.length > decimals) {\n            return `${whole}.${decimal.slice(0, decimals)}`;\n        }\n    }\n    return input;\n};\nconst rationalToFixed = (rational, decimals) => decimals === undefined\n    ? rational.valueOf().toString()\n    : rational.valueOf().toFixed(decimals);\nexport const RationalInputBase = forwardRef(function RationalInputBase(props, ref) {\n    const { defaultValue, onChange: onChangeProp, decimals, showDecimalZeros = true, onBlur: onBlurProp, value: valueProp, ...rest } = props;\n    const [valueUnformatted, setValue] = useControlled({\n        controlled: valueProp,\n        default: defaultValue,\n        name: \"RationalInputBase\",\n        state: \"value\",\n    });\n    const [inputValue, setInputValue] = useState(() => valueUnformatted ? rationalToFixed(valueUnformatted, decimals) : \"\");\n    // Insure value and inputValue stay synced.\n    useEffect(() => {\n        if (valueUnformatted) {\n            if (!inputValue || !valueUnformatted.equals(inputValue)) {\n                setInputValue(rationalToFixed(valueUnformatted, decimals));\n            }\n        }\n        else if (inputValue) {\n            setInputValue(\"\");\n        }\n    }, [decimals, inputValue, valueUnformatted]);\n    const handleChange = useCallback((event) => {\n        var _a;\n        const value = formatDecimals((_a = event.target.value) !== null && _a !== void 0 ? _a : \"\", decimals);\n        const rational = (() => {\n            try {\n                return value ? new Fraction(value) : null;\n            }\n            catch (_a) {\n                return null;\n            }\n        })();\n        setInputValue(value);\n        setValue(rational);\n        if (onChangeProp) {\n            onChangeProp(event, rational, value);\n        }\n    }, [decimals, onChangeProp, setValue]);\n    const handleBlur = useCallback((...args) => {\n        if (decimals !== undefined && showDecimalZeros) {\n            if (valueUnformatted) {\n                setInputValue(rationalToFixed(valueUnformatted, decimals));\n            }\n        }\n        if (onBlurProp) {\n            onBlurProp(...args);\n        }\n    }, [decimals, onBlurProp, showDecimalZeros, valueUnformatted]);\n    return (React.createElement(TextField, { ...rest, ref: ref, onChange: handleChange, onBlur: handleBlur, type: \"number\", value: inputValue }));\n});\nconst isRationalEqual = (a, b) => a.equals(b);\nexport const RationalInput = forwardRef(function RationalInput(props, ref) {\n    var _a, _b;\n    const { name: nameProp, form, onBlur: onBlurProp, onChange: onChangeProp, disabled, defaultValue, ...rest } = props;\n    const isSubmitting = (_b = (_a = useFormContext(form)) === null || _a === void 0 ? void 0 : _a.isSubmitting) !== null && _b !== void 0 ? _b : false;\n    const { props: { name, value }, state: { isTouched, errors }, setValue, setTouched, } = useField({\n        name: nameProp,\n        isEqual: isRationalEqual,\n        defaultValue: useMemo(() => {\n            if (defaultValue !== undefined) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                return new Fraction(defaultValue);\n            }\n        }, [defaultValue]),\n        form,\n    });\n    const handleBlur = useCallback((...args) => {\n        setTouched(true);\n        if (onBlurProp) {\n            onBlurProp(...args);\n        }\n    }, [setTouched, onBlurProp]);\n    const handleChange = useCallback((...args) => {\n        var _a;\n        setValue((_a = args[1]) !== null && _a !== void 0 ? _a : undefined);\n        if (onChangeProp) {\n            onChangeProp(...args);\n        }\n    }, [setValue, onChangeProp]);\n    return (React.createElement(RationalInputBase, { ...rest, ...(isTouched && errors.length\n            ? {\n                error: true,\n                helperText: errors[0].message,\n            }\n            : {}), ref: ref, name: name, value: value !== null && value !== void 0 ? value : null, disabled: isSubmitting || disabled, onBlur: handleBlur, onChange: handleChange }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmF0aW9uYWxJbnB1dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0lucHV0cy9SYXRpb25hbElucHV0LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUNaLFdBQVcsRUFDWCxVQUFVLEVBRVYsT0FBTyxFQUNQLFFBQVEsRUFDUixTQUFTLEdBQ1YsTUFBTSxPQUFPLENBQUM7QUFDZixPQUFPLEVBQUUsU0FBUyxFQUFrQixhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUM3RSxPQUFPLFFBQVEsTUFBTSxhQUFhLENBQUM7QUFFbkMsT0FBTyxFQUNMLFFBQVEsRUFFUixjQUFjLEdBR2YsTUFBTSx3QkFBd0IsQ0FBQztBQWlCaEMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxLQUFhLEVBQUUsUUFBaUIsRUFBRSxFQUFFO0lBQzFELEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDckIsSUFBSSxLQUFLLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtRQUNuQyxNQUFNLENBQUMsS0FBSyxFQUFFLE9BQU8sR0FBRyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQy9DLElBQUksUUFBUSxLQUFLLENBQUMsRUFBRTtZQUNsQixPQUFPLEtBQUssQ0FBQztTQUNkO2FBQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLFFBQVEsRUFBRTtZQUNwQyxPQUFPLEdBQUcsS0FBSyxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUM7U0FDakQ7S0FDRjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTSxlQUFlLEdBQUcsQ0FBQyxRQUFrQixFQUFFLFFBQWlCLEVBQVUsRUFBRSxDQUN4RSxRQUFRLEtBQUssU0FBUztJQUNwQixDQUFDLENBQUMsUUFBUSxDQUFD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","/* eslint-disable react/prop-types */\nimport React, { forwardRef, useCallback } from \"react\";\nimport { Checkbox, Switch, FormControlLabel, FormControl, FormHelperText, } from \"@material-ui/core\";\nimport { useField, useFormContext, } from \"../../useKISSForm/form\";\nexport const BoolBaseInput = forwardRef(function BoolBaseInput(props, ref) {\n    // eslint-disable-next-line react/prop-types\n    const { boolVariant = \"checkbox\", name, label, helperText, onChange, checked, error, id, color, inputRef, FormHelperTextProps: FormHelperTextPropsProp = {}, FormControlLabelProps: FormControlLabelPropsProp = {}, CheckboxProps: CheckboxPropsProp = {}, SwitchProps: SwitchPropsProp = {}, ...rest } = props;\n    const helperTextId = helperText\n        ? FormHelperTextPropsProp[\"id\"] || (id ? `${id}-helper-text` : undefined)\n        : undefined;\n    const inputLabelId = label\n        ? FormControlLabelPropsProp[\"id\"] || (id ? `${id}-label` : undefined)\n        : undefined;\n    return (React.createElement(FormControl, { ref: ref, error: error, ...rest },\n        React.createElement(FormControlLabel, { htmlFor: id, id: inputLabelId, label: label, control: boolVariant === \"checkbox\" ? (React.createElement(Checkbox, { id: id, \"aria-describedby\": helperTextId, color: color, onChange: onChange, checked: checked, inputRef: inputRef, ...CheckboxPropsProp, inputProps: {\n                    name,\n                    ...(CheckboxPropsProp.inputProps || {}),\n                } })) : (React.createElement(Switch, { id: id, \"aria-describedby\": helperTextId, color: color, onChange: onChange, checked: checked, inputRef: inputRef, ...SwitchPropsProp, inputProps: {\n                    name,\n                    ...(SwitchPropsProp.inputProps || {}),\n                } })), ...FormControlLabelPropsProp }),\n        helperText && (React.createElement(FormHelperText, { id: helperTextId, ...FormHelperTextPropsProp }, helperText))));\n});\nexport const BoolInput = forwardRef(function BoolInput(props, ref) {\n    var _a, _b;\n    const { name: nameProp, defaultValue, form, onBlur: onBlurProp, onChange: onChangeProp, disabled, ...rest } = props;\n    const isSubmitting = (_b = (_a = useFormContext(form)) === null || _a === void 0 ? void 0 : _a.isSubmitting) !== null && _b !== void 0 ? _b : false;\n    const { props: { name, value }, state: { isTouched, errors }, setValue, setTouched, } = useField({\n        name: nameProp,\n        defaultValue,\n        form,\n    });\n    const handleChange = useCallback((...args) => {\n        setValue(args[1]);\n        if (onChangeProp) {\n            onChangeProp(...args);\n        }\n    }, [setValue, onChangeProp]);\n    const handleBlur = useCallback((...args) => {\n        setTouched(true);\n        if (onBlurProp) {\n            onBlurProp(...args);\n        }\n    }, [setTouched, onBlurProp]);\n    return (React.createElement(BoolBaseInput, { ref: ref, ...rest, ...(isTouched && errors.length\n            ? {\n                error: true,\n                helperText: errors[0].message,\n            }\n            : {}), name: name, checked: value !== null && value !== void 0 ? value : false, onChange: handleChange, onBlur: handleBlur, disabled: isSubmitting || disabled }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm9vbElucHV0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSW5wdXRzL0Jvb2xJbnB1dC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUNBQXFDO0FBQ3JDLE9BQU8sS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFPLFdBQVcsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUM1RCxPQUFPLEVBQ0wsUUFBUSxFQUVSLE1BQU0sRUFFTixnQkFBZ0IsRUFFaEIsV0FBVyxFQUVYLGNBQWMsR0FFZixNQUFNLG1CQUFtQixDQUFDO0FBRTNCLE9BQU8sRUFDTCxRQUFRLEVBRVIsY0FBYyxHQUVmLE1BQU0sd0JBQXdCLENBQUM7QUE0QmhDLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUMsU0FBUyxhQUFhLENBRTVELEtBQXNDLEVBQUUsR0FBd0I7SUFDaEUsNENBQTRDO0lBQzVDLE1BQU0sRUFDSixXQUFXLEdBQUcsVUFBVSxFQUN4QixJQUFJLEVBQ0osS0FBSyxFQUNMLFVBQVUsRUFDVixRQUFRLEVBQ1IsT0FBTyxFQUNQLEtBQUssRUFDTCxFQUFFLEVBQ0YsS0FBSyxFQUNMLFFBQVEsRUFDUixtQkFBbUIsRUFBRSx1QkFBdUIsR0FBRyxFQUFFLEVBQ2pELHFCQUFxQixFQUFFLHlCQUF5QixHQUFHLEVBQUUsRUFDckQsYUFBYSxFQUFFLGlCQUFpQixHQUFHLEVBQUUsRUFDckMsV0FBVyxFQUFFLGVBQWUsR0FBRyxFQUFFLEVBQ2pDLEdBQUcsSUFBSSxFQUNSLEdBQUcsS0FBc0UsQ0FBQztJQUUzRSxNQUFNLFlBQVksR0FBRyxVQUFVO1FBQzdCLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1FBQ3pFLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFFZCxNQUFNLFlBQVksR0FBRyxL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","import React, { useMemo } from \"react\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { isFuture, startOfDay, isEqual } from \"date-fns\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { DateInput } from \"../Date\";\nimport { DepartmentInput, DEPARTMENT_NAME, DEPARTMENT_DEFAULT_VALUE_FRAGMENT, useDepartmentDefaultValue, } from \"../Department\";\nimport { EntityInput, useEntityDefaultValue, ENTITY_INPUT_DEFAULT_VALUE_FRAGMENT, } from \"../Entity\";\nimport { CategoryInput, CATEGORY_NAME, CATEGORY_DEFAULT_VALUE_FRAGMENT, useCategoryDefaultValue, } from \"../Category\";\nimport { PaymentMethodInput, PAY_METHOD_DEFAULT_VALUE_FRAGMENT, PAYMENT_METHOD_NAME, usePaymentMethodDefaultValue, } from \"../PaymentMethod\";\nimport { DescriptionInput, DESCRIPTION_NAME, } from \"../Description\";\nimport { RationalInput, } from \"../RationalInput\";\nimport { BoolInput } from \"../BoolInput\";\nimport { NamePrefixProvider, prefixName, useNamePrefix, useValidators, useWatcher, useDefaultValues, FieldValue, useLoading, useIsEqual, } from \"../../../useKISSForm/form\";\nimport { requiredValidator, gtZero, useRenderInputWithError, useRenderInputWithLabel, } from \"../shared\";\nimport { deserializeDate, deserializeRational } from \"../../../apollo/scalars\";\nconst useStyles = makeStyles({\n    adornedStart: {\n        alignItems: \"baseline\",\n    },\n});\nconst notFutureError = new RangeError(\"Transaction cannot be recorded in the future.\");\nconst notFuture = (value) => {\n    if (value && isFuture(value)) {\n        return notFutureError;\n    }\n};\nconst UPDATE_ENTRY_DEFAULT_VALUES = gql `\n  query UpdateEntryDefaultValues($id: ID!, $deptRoot: DepartmentsWhere) {\n    entry(id: $id) {\n      __typename\n      id\n      date\n      dateOfRecord {\n        date\n      }\n      category {\n        ...CategoryInputDefaultValue\n      }\n      description\n      department {\n        ...DepartmentInputDefaultValue\n      }\n      source {\n        ...EntityInputDefaultValue\n      }\n      paymentMethod {\n        ...PayMethodDefaultValue\n      }\n      reconciled\n      total\n    }\n  }\n  ${DEPARTMENT_DEFAULT_VALUE_FRAGMENT}\n  ${CATEGORY_DEFAULT_VALUE_FRAGMENT}\n  ${ENTITY_INPUT_DEFAULT_VALUE_FRAGMENT}\n  ${PAY_METHOD_DEFAULT_VALUE_FRAGMENT}\n`;\nexport const DATE_NAME = \"date\";\nexport const DATE_OF_RECORD_NAME = \"dateOfRecord\";\nexport const SOURCE_NAME = \"source\";\nexport const TOTAL_NAME = \"total\";\nexport const RECONCILED_NAME = \"reconciled\";\nexport const ENTRY_NAME = \"entry\";\nconst dateIsEqual = (a, b) => isEqual(startOfDay(a), startOfDay(b));\nexport const useEntry = (props) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n    const { updateEntryId, required, form, showLabels, insertNamePrefix, date: dateProps, dateOfRecord: dateOfRecordProps, department: departmentProps, description: descriptionProps, source: { allowNewSource, ...sourceProps } = {}, category: categoryProps, paymentMethod: paymentMethodProps, total: totalProps, reconciled: reconciledProps, } = props;\n    const classes = useStyles();\n    const { loading, error, data } = useQuery(UPDATE_ENTRY_DEFAULT_VALUES, {\n        skip: !updateEntryId,\n        variables: {\n            id: updateEntryId,\n            deptRoot: departmentProps.root,\n        },\n    });\n    const entryName = insertNamePrefix\n        ? prefixName(ENTRY_NAME, insertNamePrefix)\n        : ENTRY_NAME;\n    const fullName = useNamePrefix(entryName);\n    const categoryValue = useWatcher({\n        name: prefixName(CATEGORY_NAME, ENTRY_NAME),\n        form,\n    });\n    useValidators(useMemo(() => {\n        if (required) {\n            return {\n                validators: {\n                    entry: {\n                        date: [requiredValidator, notFuture],\n                        department: requiredValidator,\n                        source: requiredValidator,\n                        category: requiredValidator,\n                        paymentMethod: requiredValidator,\n                        total: [requiredValidator, gtZero],\n                    },\n                },\n                form,\n            };\n        }\n        else {\n            return {\n                validators: {\n                    entry: {\n                        date: notFuture,\n                        total: gtZero,\n                    },\n                },\n                form,\n            };\n        }\n    }, [form, required]));\n    useIsEqual(useMemo(() => ({\n        isEqual: {\n            \"entry.date\": dateIsEqual,\n            \"entry.dateOfRecord\": dateIsEqual,\n        },\n        form,\n    }), [form]));\n    // Handle conditions where date of record should take the value of\n    // date.\n    const { value: dateValue, defaultValue: defaultDateValue } = useWatcher({\n        name: prefixName(DATE_NAME, ENTRY_NAME),\n        form,\n    });\n    useDefaultValues(useMemo(() => {\n        var _a, _b;\n        return ({\n            defaultValues: !((_b = (_a = data === null || data === void 0 ? void 0 : data.entry) === null || _a === void 0 ? void 0 : _a.dateOfRecord) === null || _b === void 0 ? void 0 : _b.date) && (dateValue || defaultDateValue)\n                ? {\n                    [prefixName(DATE_OF_RECORD_NAME, ENTRY_NAME)]: new FieldValue((dateValue || defaultDateValue)),\n                }\n                : {},\n            form,\n        });\n    }, [(_b = (_a = data === null || data === void 0 ? void 0 : data.entry) === null || _a === void 0 ? void 0 : _a.dateOfRecord) === null || _b === void 0 ? void 0 : _b.date, dateValue, defaultDateValue, form]));\n    const entryType = (_g = (_f = ((_d = (_c = categoryValue.value) === null || _c === void 0 ? void 0 : _c.valueOf()) !== null && _d !== void 0 ? _d : (_e = categoryValue.defaultValue) === null || _e === void 0 ? void 0 : _e.valueOf())) === null || _f === void 0 ? void 0 : _f.type) !== null && _g !== void 0 ? _g : null;\n    const dateDefaultValue = useMemo(() => { var _a; return (((_a = data === null || data === void 0 ? void 0 : data.entry) === null || _a === void 0 ? void 0 : _a.date) ? deserializeDate(data.entry.date) : undefined); }, [(_h = data === null || data === void 0 ? void 0 : data.entry) === null || _h === void 0 ? void 0 : _h.date]);\n    const dateOfRecordDefaultValue = useMemo(() => {\n        var _a, _b;\n        return ((_b = (_a = data === null || data === void 0 ? void 0 : data.entry) === null || _a === void 0 ? void 0 : _a.dateOfRecord) === null || _b === void 0 ? void 0 : _b.date)\n            ? deserializeDate(data.entry.dateOfRecord.date)\n            : undefined;\n    }, [(_k = (_j = data === null || data === void 0 ? void 0 : data.entry) === null || _j === void 0 ? void 0 : _j.dateOfRecord) === null || _k === void 0 ? void 0 : _k.date]);\n    const deptRenderInput = useRenderInputWithError(error, useRenderInputWithLabel(showLabels ? \"Department\" : undefined, categoryProps === null || categoryProps === void 0 ? void 0 : categoryProps.renderInput));\n    const deptDefaultValue = useDepartmentDefaultValue((_l = data === null || data === void 0 ? void 0 : data.entry) === null || _l === void 0 ? void 0 : _l.department);\n    const categoryRenderInput = useRenderInputWithError(error, useRenderInputWithLabel(showLabels ? \"Category\" : undefined, categoryProps === null || categoryProps === void 0 ? void 0 : categoryProps.renderInput));\n    const categoryDefaultValue = useCategoryDefaultValue((_m = data === null || data === void 0 ? void 0 : data.entry) === null || _m === void 0 ? void 0 : _m.category);\n    const srcRenderInput = useRenderInputWithError(error, useRenderInputWithLabel(showLabels ? \"Source\" : undefined, sourceProps === null || sourceProps === void 0 ? void 0 : sourceProps.renderInput));\n    const srcDefaultValue = useEntityDefaultValue((_o = data === null || data === void 0 ? void 0 : data.entry) === null || _o === void 0 ? void 0 : _o.source);\n    const payMethodRenderInput = useRenderInputWithError(error, useRenderInputWithLabel(showLabels ? \"Payment Method\" : undefined, paymentMethodProps === null || paymentMethodProps === void 0 ? void 0 : paymentMethodProps.renderInput));\n    const payMethodDefaultValue = usePaymentMethodDefaultValue((_p = data === null || data === void 0 ? void 0 : data.entry) === null || _p === void 0 ? void 0 : _p.paymentMethod);\n    const totalDefaultValue = useMemo(() => { var _a; return ((_a = data === null || data === void 0 ? void 0 : data.entry) === null || _a === void 0 ? void 0 : _a.total) ? deserializeRational(data.entry.total) : undefined; }, [(_q = data === null || data === void 0 ? void 0 : data.entry) === null || _q === void 0 ? void 0 : _q.total]);\n    useLoading({\n        loading,\n        name: useMemo(() => [\n            prefixName(DATE_NAME, entryName),\n            prefixName(DATE_OF_RECORD_NAME, entryName),\n            prefixName(DEPARTMENT_NAME, entryName),\n            prefixName(DESCRIPTION_NAME, entryName),\n            prefixName(SOURCE_NAME, entryName),\n            prefixName(CATEGORY_NAME, entryName),\n            prefixName(PAYMENT_METHOD_NAME, entryName),\n            prefixName(TOTAL_NAME, entryName),\n            prefixName(RECONCILED_NAME, entryName),\n        ], [entryName]),\n        form,\n    });\n    return {\n        dateInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n            React.createElement(DateInput, { label: showLabels && \"Date\", disableFuture: true, defaultValue: dateDefaultValue, ...dateProps, disabled: loading || (dateProps === null || dateProps === void 0 ? void 0 : dateProps.disabled), name: DATE_NAME, form: form }))), [dateDefaultValue, dateProps, entryName, form, loading, showLabels]),\n        dateInputName: prefixName(DATE_NAME, fullName),\n        dateOfRecordInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n            React.createElement(DateInput, { label: showLabels && \"Date of Record\", defaultValue: dateOfRecordDefaultValue, ...dateOfRecordProps, disabled: loading || (dateOfRecordProps === null || dateOfRecordProps === void 0 ? void 0 : dateOfRecordProps.disabled), name: DATE_OF_RECORD_NAME, form: form }))), [\n            dateOfRecordDefaultValue,\n            dateOfRecordProps,\n            entryName,\n            form,\n            loading,\n            showLabels,\n        ]),\n        dateOfRecordInputName: prefixName(DATE_OF_RECORD_NAME, fullName),\n        departmentInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n            React.createElement(DepartmentInput, { defaultValue: deptDefaultValue, ...departmentProps, disabled: loading || departmentProps.loading, renderInput: deptRenderInput, multiple: false, form: form }))), [\n            departmentProps,\n            deptDefaultValue,\n            deptRenderInput,\n            entryName,\n            form,\n            loading,\n        ]),\n        departmentInputName: prefixName(DEPARTMENT_NAME, fullName),\n        sourceInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n            React.createElement(EntityInput, { allowNewBusiness: allowNewSource, allowNewPerson: allowNewSource, defaultValue: srcDefaultValue, ...sourceProps, disabled: loading || sourceProps.disabled, renderInput: srcRenderInput, multiple: false, name: SOURCE_NAME, form: form }))), [\n            allowNewSource,\n            entryName,\n            form,\n            loading,\n            sourceProps,\n            srcDefaultValue,\n            srcRenderInput,\n        ]),\n        sourceInputName: prefixName(SOURCE_NAME, fullName),\n        categoryInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n            React.createElement(CategoryInput, { defaultValue: categoryDefaultValue, ...categoryProps, disabled: loading || (categoryProps === null || categoryProps === void 0 ? void 0 : categoryProps.disabled), renderInput: categoryRenderInput, multiple: false, form: form }))), [\n            categoryDefaultValue,\n            categoryProps,\n            categoryRenderInput,\n            entryName,\n            form,\n            loading,\n        ]),\n        categoryInputName: prefixName(CATEGORY_NAME, fullName),\n        paymentMethodInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n            React.createElement(PaymentMethodInput, { defaultValue: payMethodDefaultValue, ...paymentMethodProps, disabled: loading || paymentMethodProps.disabled, isRefund: false, renderInput: payMethodRenderInput, entryType: entryType, multiple: false, form: form }))), [\n            entryName,\n            entryType,\n            form,\n            loading,\n            payMethodDefaultValue,\n            payMethodRenderInput,\n            paymentMethodProps,\n        ]),\n        paymentMethodInputName: prefixName(PAYMENT_METHOD_NAME, fullName),\n        descriptionInput: useMemo(() => {\n            var _a, _b;\n            return (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n                React.createElement(DescriptionInput, { label: showLabels && \"Description\", defaultValue: (_b = (_a = data === null || data === void 0 ? void 0 : data.entry) === null || _a === void 0 ? void 0 : _a.description) !== null && _b !== void 0 ? _b : undefined, ...descriptionProps, name: DESCRIPTION_NAME, form: form })));\n        }, [(_r = data === null || data === void 0 ? void 0 : data.entry) === null || _r === void 0 ? void 0 : _r.description, descriptionProps, entryName, form, showLabels]),\n        descriptionInputName: prefixName(DESCRIPTION_NAME, fullName),\n        totalInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n            React.createElement(RationalInput, { label: showLabels && \"Total\", decimals: 2, defaultValue: totalDefaultValue, ...totalProps, InputProps: {\n                    startAdornment: \"$\",\n                    classes: {\n                        adornedStart: classes.adornedStart,\n                    },\n                    ...totalProps === null || totalProps === void 0 ? void 0 : totalProps.InputProps,\n                }, disabled: loading || (totalProps === null || totalProps === void 0 ? void 0 : totalProps.disabled), name: TOTAL_NAME, form: form }))), [\n            classes.adornedStart,\n            entryName,\n            form,\n            loading,\n            showLabels,\n            totalDefaultValue,\n            totalProps,\n        ]),\n        totalInputName: prefixName(TOTAL_NAME, fullName),\n        reconciledInput: useMemo(() => {\n            var _a, _b;\n            return (React.createElement(NamePrefixProvider, { namePrefix: entryName },\n                React.createElement(BoolInput, { label: showLabels && \"Reconciled\", defaultValue: (_b = (_a = data === null || data === void 0 ? void 0 : data.entry) === null || _a === void 0 ? void 0 : _a.reconciled) !== null && _b !== void 0 ? _b : undefined, ...reconciledProps, disabled: loading || (reconciledProps === null || reconciledProps === void 0 ? void 0 : reconciledProps.disabled), name: RECONCILED_NAME, form: form })));\n        }, [\n            (_s = data === null || data === void 0 ? void 0 : data.entry) === null || _s === void 0 ? void 0 : _s.reconciled,\n            entryName,\n            form,\n            loading,\n            reconciledProps,\n            showLabels,\n        ]),\n        reconciledInputName: prefixName(RECONCILED_NAME, fullName),\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlRW50cnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9JbnB1dHMvZmllbGRTZXRzL3VzZUVudHJ5LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUV2QyxPQUFPLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN6RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFakQsT0FBTyxFQUFFLFNBQVMsRUFBZ0MsTUFBTSxTQUFTLENBQUM7QUFDbEUsT0FBTyxFQUNMLGVBQWUsRUFHZixlQUFlLEVBQ2YsaUNBQWlDLEVBQ2pDLHlCQUF5QixHQUMxQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQ0wsV0FBVyxFQUdYLHFCQUFxQixFQUNyQixtQ0FBbUMsR0FDcEMsTUFBTSxXQUFXLENBQUM7QUFDbkIsT0FBTyxFQUVMLGFBQWEsRUFHYixhQUFhLEVBQ2IsK0JBQStCLEVBQy9CLHVCQUF1QixHQUN4QixNQUFNLGFBQWEsQ0FBQztBQUNyQixPQUFPLEVBQ0wsa0JBQWtCLEVBR2xCLGlDQUFpQyxFQUNqQyxtQkFBbUIsRUFDbkIsNEJBQTRCLEdBQzdCLE1BQU0sa0JBQWtCLENBQUM7QUFDMUIsT0FBTyxFQUNMLGdCQUFnQixFQUVoQixnQkFBZ0IsR0FFakIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQ0wsYUFBYSxHQUdkLE1BQU0sa0JBQWtCLENBQUM7QUFDMUIsT0FBTyxFQUFFLFNBQVMsRUFBZ0MsTUFBTSxjQUFjLENBQUM7QUFDdkUsT0FBTyxFQUNMLGtCQUFrQixFQUNsQixVQUFVLEVBRVYsYUFBYSxFQUNiLGFBQWEsRUFDYixVQUFVLEVB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","import { TextField, } from \"@material-ui/core\";\nimport { defaultInput } from \"mui-tree-select\";\nimport React, { useCallback, forwardRef } from \"react\";\nimport { useController, } from \"react-hook-form\";\nexport const dialogProps = {\n    keepMounted: false,\n    maxWidth: \"lg\",\n    fullWidth: true,\n};\nexport const preventDefault = (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nevent) => {\n    if (event && !event.defaultPrevented) {\n        event.preventDefault();\n    }\n};\nexport const stopPropagation = (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nevent) => {\n    if (event && !event.isPropagationStopped()) {\n        event.stopPropagation();\n    }\n};\nexport const preventDefaultEnter = (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nevent) => {\n    if (event && event.key === \"Enter\") {\n        preventDefault(event);\n    }\n};\nconst NULLISH = Symbol();\nexport const usePreventEnterOnNullish = function (value\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    return useCallback((\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    event) => {\n        if ((value !== null && value !== void 0 ? value : NULLISH) === NULLISH) {\n            preventDefaultEnter(event);\n        }\n    }, [value]);\n};\nexport const removeNullishProperties = (obj) => Object.keys(obj).reduce((newObj, key) => {\n    var _a;\n    if (((_a = obj[key]) !== null && _a !== void 0 ? _a : NULLISH) !== NULLISH) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        newObj[key] = obj[key];\n    }\n    return newObj;\n}, {});\nexport const inputGridItemProps = {\n    item: true,\n    lg: 4,\n    sm: 6,\n    xs: 12,\n};\nexport const TextFieldControlled = forwardRef(function TextFieldControlled(props, ref) {\n    const { name, control, defaultValue, rules, shouldUnregister, onBlur: onBlurProp, onChange: onChangeProp, disabled, children, setValueAs, ...rest } = props;\n    const { field: { onBlur: onBlurControlled, onChange: onChangeControlled, ref: inputRef, ...field }, fieldState: { isTouched, error }, formState: { isSubmitting }, } = useController({\n        name,\n        control,\n        defaultValue,\n        rules,\n        shouldUnregister,\n    });\n    return (React.createElement(TextField, { ...rest, ...field, ref: ref, disabled: disabled || isSubmitting, innerRef: inputRef, ...(isTouched && error\n            ? {\n                error: true,\n                helperText: error.message,\n            }\n            : {}), onBlur: useCallback((...args) => {\n            onBlurControlled();\n            if (onBlurProp) {\n                onBlurProp(...args);\n            }\n        }, [onBlurControlled, onBlurProp]), onChange: useCallback((...args) => {\n            if (setValueAs) {\n                onChangeControlled(setValueAs(...args));\n            }\n            else {\n                onChangeControlled(...args);\n            }\n            if (onChangeProp) {\n                onChangeProp(...args);\n            }\n        }, [onChangeControlled, onChangeProp, setValueAs]) }, children));\n});\nexport const DATE_INLINE_INPUT_PROPS = {\n    autoOk: true,\n    disableToolbar: true,\n    format: \"MM/dd/yyyy\",\n    placeholder: \"mm/dd/yyyy\",\n    variant: \"inline\",\n};\nconst DIALOG_INPUT_PROPS = {\n    TextFieldProps: {\n        variant: \"filled\",\n        fullWidth: true,\n    },\n    TreeSelectProps: {\n        fullWidth: true,\n        renderInput: (params) => defaultInput({\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            variant: \"filled\",\n            fullWidth: true,\n            ...params,\n        }),\n    },\n    DateInputProps: {\n        inputVariant: \"filled\",\n        fullWidth: true,\n        ...DATE_INLINE_INPUT_PROPS,\n    },\n};\nexport const useSharedDialogInputProps = () => DIALOG_INPUT_PROPS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9mb3Jtcy9zaGFyZWQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFHTCxTQUFTLEdBRVYsTUFBTSxtQkFBbUIsQ0FBQztBQUUzQixPQUFPLEVBQUUsWUFBWSxFQUFtQixNQUFNLGlCQUFpQixDQUFDO0FBQ2hFLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBMEIsTUFBTSxPQUFPLENBQUM7QUFDL0UsT0FBTyxFQUNMLGFBQWEsR0FJZCxNQUFNLGlCQUFpQixDQUFDO0FBSXpCLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBNkM7SUFDbkUsV0FBVyxFQUFFLEtBQUs7SUFDbEIsUUFBUSxFQUFFLElBQUk7SUFDZCxTQUFTLEVBQUUsSUFBSTtDQUNoQixDQUFDO0FBVUYsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHO0FBQzVCLDhEQUE4RDtBQUM5RCxLQUF3QyxFQUNsQyxFQUFFO0lBQ1IsSUFBSSxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUU7UUFDcEMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0tBQ3hCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHO0FBQzdCLDhEQUE4RDtBQUM5RCxLQUF3QyxFQUNsQyxFQUFFO0lBQ1IsSUFBSSxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsb0JBQW9CLEVBQUUsRUFBRTtRQUMxQyxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7S0FDekI7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRztBQUNqQyw4REFBOEQ7QUFDOUQsS0FBZ0MsRUFDMUIsRUFBRTtJQUNSLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxHQUFHLEtBQUssT0FBTyxFQUFFO1FBQ2xDLGNBQWMsQ0FB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","import React, { useMemo } from \"react\";\nimport { TextFieldControlled, requiredValidator, } from \"../shared\";\nimport { useNamePrefix, prefixName, useIsEqual, } from \"../../../useKISSForm/form\";\nconst validName = (_, { form, name }) => {\n    // Validate default values too\n    const value = form.getFieldValue(name, false);\n    if (value === undefined) {\n        return;\n    }\n    else if (!/^[.A-Za-z\\s]+$/i.test(value)) {\n        return new RangeError(\"Letters Only\");\n    }\n    else if (value.length < 3) {\n        return RangeError(\"Too Short\");\n    }\n};\nconst nameIsEqual = (a, b) => (a === null || a === void 0 ? void 0 : a.trim()) === (b === null || b === void 0 ? void 0 : b.trim());\nexport const NAME_NAME = \"name\";\nexport const useName = (props) => {\n    const { showLabels, insertNamePrefix, required, firstName: firstNameProps, lastName: lastNameProps, ...globalProps } = props;\n    const name = insertNamePrefix\n        ? prefixName(NAME_NAME, insertNamePrefix)\n        : NAME_NAME;\n    const fullName = useNamePrefix(name);\n    const validator = useMemo(() => (required ? [requiredValidator, validName] : validName), [required]);\n    useIsEqual({\n        isEqual: useMemo(() => ({\n            [prefixName(\"first\", name)]: nameIsEqual,\n            [prefixName(\"last\", name)]: nameIsEqual,\n        }), [name]),\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        form: props.form,\n    });\n    return {\n        firstNameInput: (React.createElement(TextFieldControlled, { label: showLabels && \"First Name\", ...globalProps, ...firstNameProps, validator: validator, name: prefixName(\"first\", name), type: \"text\" })),\n        firstNameInputName: prefixName(\"first\", fullName),\n        lastNameInput: (React.createElement(TextFieldControlled, { label: showLabels && \"Last Name\", ...globalProps, required: required, ...lastNameProps, validator: validator, name: prefixName(\"last\", name), type: \"text\" })),\n        lastNameInputName: prefixName(\"last\", fullName),\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlTmFtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0lucHV0cy9maWVsZFNldHMvdXNlTmFtZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFFdkMsT0FBTyxFQUNMLG1CQUFtQixFQUVuQixpQkFBaUIsR0FDbEIsTUFBTSxXQUFXLENBQUM7QUFDbkIsT0FBTyxFQUdMLGFBQWEsRUFDYixVQUFVLEVBQ1YsVUFBVSxHQUVYLE1BQU0sMkJBQTJCLENBQUM7QUFzQm5DLE1BQU0sU0FBUyxHQUFrQyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFO0lBQ3JFLDhCQUE4QjtJQUM5QixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxLQUFLLENBQXVCLENBQUM7SUFDcEUsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQ3ZCLE9BQU87S0FDUjtTQUFNLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDekMsT0FBTyxJQUFJLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQztLQUN2QztTQUFNLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDM0IsT0FBTyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7S0FDaEM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLFdBQVcsR0FBc0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBLENBQUMsYUFBRCxDQUFDLHVCQUFELENBQUMsQ0FBRSxJQUFJLEVBQUUsT0FBSyxDQUFDLGFBQUQsQ0FBQyx1QkFBRCxDQUFDLENBQUUsSUFBSSxFQUFFLENBQUEsQ0FBQztBQVF6RSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQXVCLE1BQU0sQ0FBQztBQUVwRCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FDckIsS0FBZ0IsRUFNZCxFQUFFO0lBQ0osTUFBTSxFQUNKLFVBQVUsRUFDVixnQkFBZ0IsRUFDaEIsUUFBUSxFQUNSLFNBQVMsRUFBRSxjQUFjLEVBQ3pCLFFBQVEsRUFBRSxhQUFhLEVBQ3ZCLEdBQUcsV0FBVyxFQUNmLEdBQUcsS0FBSyxDQUFDO0lBRVYsTUFBTSxJQUFJLEdBQUcsZ0JBQWdCO1FBQzNCLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUFFLGdCQUFnQixDQUFDO1FBQ3pDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFFZCxNQUFNLFFBQVEsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFckMsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUN2QixHQUFHLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQzdELENBQUMsUUFBUSxDQUFDLENBQ1gsQ0FBQztJQUVGLFVBQVUsQ0FBZTtRQUN2QixPQUFPLEVBQUUsT0FBTyxDQUNkLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDTCxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxXQUFXO1lBQ3hDLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLFdBQVc7U0FDeEMsQ0FBQyxFQUNGLENBQUMsSUFBSSxDQUFDLENBQ1A7UUFDRCw4REFBOEQ7UUFDOUQsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFXO0tBQ3hCLENBQUMsQ0FBQztJQUVILE9BQU87UUFDTCxjQUFjLEVBQUUsQ0FDZCxvQkFBQyxtQkFBbUIsSUFDbEIsS0FBSyxFQUFFLFVBQVUsSUFBSSxZQUFZLEtBQzdCLFdBQVcsS0FDWCxjQUFjLEVBQ2xCLFNBQVMsRUFBRSxTQUFTLEVBQ3BCLElBQUksRUFBRSxVQUFVLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUMvQixJQUFJLEVBQUMsTUFBTSxHQUNYLENBQ0g7UUFDRCxrQkFBa0IsRUFBRSxVQUFVLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQztRQUNqRCxhQUFhLEVBQUUsQ0FDYixvQkFBQyxtQkFBbUIsSUFDbEIsS0FBSyxFQUFFLFVBQVUsSUFBSSxXQUFXLEtBQzVCLFdBQVcsRUFDZixRQUFRLEVBQUUsUUFBUSxLQUNkLGFBQWEsRUFDakIsU0FBUyxFQUFFLFNBQVMsRUFDcEIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQzlCLElBQUksRUFBQyxNQUFNLEdBQ1gsQ0FDSDtRQUNELGlCQUFpQixFQUFFLFVBQVUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDO0tBQ2hELENBQUM7QUFDSixDQUFDLENBQUMifQ==","import React, { forwardRef, useMemo } from \"react\";\nimport isEmail from \"validator/lib/isEmail\";\nimport normalizeEmail from \"validator/lib/normalizeEmail\";\nimport { TextFieldControlled } from \"./shared\";\nimport { useIsEqual, } from \"../../useKISSForm/form\";\nconst emailIsEqual = (a, b) => (a === null || a === void 0 ? void 0 : a.trim().toLowerCase()) === (b === null || b === void 0 ? void 0 : b.trim().toLowerCase());\nconst validEmail = (email) => {\n    if (email && !isEmail(email)) {\n        return new TypeError(\"Invalid Email\");\n    }\n};\nconst emailNormOpts = {\n    gmail_remove_dots: false,\n};\nconst setEmailAs = (event) => {\n    const email = event.target.value.trim();\n    return ((isEmail(email) ? normalizeEmail(email, emailNormOpts) : email) || undefined);\n};\nexport const EMAIL_NAME = \"email\";\nexport const Email = forwardRef(function Email(props, ref) {\n    const { name = EMAIL_NAME, ...rest } = props;\n    useIsEqual({\n        isEqual: useMemo(() => ({\n            [name]: emailIsEqual,\n        }), [name]),\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        form: props.form,\n    });\n    return (React.createElement(TextFieldControlled, { setValueAs: setEmailAs, ...rest, name: name, validator: validEmail, ref: ref, type: \"email\" }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW1haWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9JbnB1dHMvRW1haWwudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNuRCxPQUFPLE9BQU8sTUFBTSx1QkFBdUIsQ0FBQztBQUM1QyxPQUFPLGNBRU4sTUFBTSw4QkFBOEIsQ0FBQztBQUV0QyxPQUFPLEVBQUUsbUJBQW1CLEVBQTRCLE1BQU0sVUFBVSxDQUFDO0FBQ3pFLE9BQU8sRUFJTCxVQUFVLEdBQ1gsTUFBTSx3QkFBd0IsQ0FBQztBQU1oQyxNQUFNLFlBQVksR0FBc0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FDL0MsQ0FBQSxDQUFDLGFBQUQsQ0FBQyx1QkFBRCxDQUFDLENBQUUsSUFBSSxHQUFHLFdBQVcsRUFBRSxPQUFLLENBQUMsYUFBRCxDQUFDLHVCQUFELENBQUMsQ0FBRSxJQUFJLEdBQUcsV0FBVyxFQUFFLENBQUEsQ0FBQztBQUV0RCxNQUFNLFVBQVUsR0FBc0IsQ0FBQyxLQUFjLEVBQUUsRUFBRTtJQUN2RCxJQUFJLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUM1QixPQUFPLElBQUksU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0tBQ3ZDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxhQUFhLEdBQTBCO0lBQzNDLGlCQUFpQixFQUFFLEtBQUs7Q0FDekIsQ0FBQztBQUVGLE1BQU0sVUFBVSxHQUF3RCxDQUN0RSxLQUFLLEVBQ0wsRUFBRTtJQUNGLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3hDLE9BQU8sQ0FDTCxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksU0FBUyxDQUM3RSxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQztBQUlsQyxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLFNBQVMsS0FBSyxDQUM1QyxLQUFpQixFQUNqQixHQUFvQztJQUVwQyxNQUFNLEVBQUUsSUFBSSxHQUFHLFVBQVUsRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQztJQUU3QyxVQUFVLENBQTZCO1FBQ3JDLE9BQU8sRUFBRSxPQUFPLENBQ2QsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUNMLENBQUMsSUFBSSxDQUFDLEVBQUUsWUFBWTtTQUNyQixDQUFDLEVBQ0YsQ0FBQyxJQUFJLENBQUMsQ0FDUDtRQUNELDhEQUE4RDtRQUM5RCxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQVc7S0FDeEIsQ0FBQyxDQUFDO0lBRUgsT0FBTyxDQUNMLG9CQUFDLG1CQUFtQixJQUNsQixVQUFVLEVBQUUsVUFBVSxLQUNsQixJQUFJLEVBQ1IsSUFBSSxFQUFFLElBQUksRUFDVixTQUFTLEVBQUUsVUFBVSxFQUNyQixHQUFHLEVBQUUsR0FBRyxFQUNSLElBQUksRUFBQyxPQUFPLEdBQ1osQ0FDSCxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUMifQ==","import React, { forwardRef, useMemo } from \"react\";\nimport { isPossiblePhoneNumber, parsePhoneNumberFromString, } from \"libphonenumber-js\";\nimport { TextFieldControlled } from \"./shared\";\nimport { useIsEqual, } from \"../../useKISSForm/form\";\nconst phoneIsEqual = (a, b) => (a === null || a === void 0 ? void 0 : a.trim().toLowerCase()) === (b === null || b === void 0 ? void 0 : b.trim().toLowerCase());\nconst validPhone = (phone) => {\n    if (phone && !isPossiblePhoneNumber(phone, \"US\")) {\n        return new TypeError(\"Invalid Phone Number\");\n    }\n};\nconst setPhoneAs = (event) => {\n    var _a;\n    const phone = event.target.value.trim();\n    return phone\n        ? ((_a = parsePhoneNumberFromString(phone, \"US\")) === null || _a === void 0 ? void 0 : _a.format(\"NATIONAL\")) || phone\n        : undefined;\n};\nexport const PHONE_NAME = \"phone\";\nexport const Phone = forwardRef(function Phone(props, ref) {\n    const { name = PHONE_NAME, ...rest } = props;\n    useIsEqual({\n        isEqual: useMemo(() => ({\n            [name]: phoneIsEqual,\n        }), [name]),\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        form: props.form,\n    });\n    return (React.createElement(TextFieldControlled, { setValueAs: setPhoneAs, ...rest, name: name, validator: validPhone, ref: ref, type: \"tel\" }));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGhvbmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9JbnB1dHMvUGhvbmUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNuRCxPQUFPLEVBQ0wscUJBQXFCLEVBQ3JCLDBCQUEwQixHQUMzQixNQUFNLG1CQUFtQixDQUFDO0FBRzNCLE9BQU8sRUFBRSxtQkFBbUIsRUFBNEIsTUFBTSxVQUFVLENBQUM7QUFDekUsT0FBTyxFQUlMLFVBQVUsR0FDWCxNQUFNLHdCQUF3QixDQUFDO0FBT2hDLE1BQU0sWUFBWSxHQUFzQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUMvQyxDQUFBLENBQUMsYUFBRCxDQUFDLHVCQUFELENBQUMsQ0FBRSxJQUFJLEdBQUcsV0FBVyxFQUFFLE9BQUssQ0FBQyxhQUFELENBQUMsdUJBQUQsQ0FBQyxDQUFFLElBQUksR0FBRyxXQUFXLEVBQUUsQ0FBQSxDQUFDO0FBRXRELE1BQU0sVUFBVSxHQUFzQixDQUFDLEtBQWMsRUFBRSxFQUFFO0lBQ3ZELElBQUksS0FBSyxJQUFJLENBQUMscUJBQXFCLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFO1FBQ2hELE9BQU8sSUFBSSxTQUFTLENBQUMsc0JBQXNCLENBQUMsQ0FBQztLQUM5QztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxHQUF3RCxDQUN0RSxLQUFLLEVBQ0wsRUFBRTs7SUFDRixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN4QyxPQUFPLEtBQUs7UUFDVixDQUFDLENBQUMsQ0FBQSxNQUFBLDBCQUEwQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsMENBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFJLEtBQUs7UUFDdEUsQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUNoQixDQUFDLENBQUM7QUFDRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDO0FBSWxDLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsU0FBUyxLQUFLLENBQzVDLEtBQWlCLEVBQ2pCLEdBQW9DO0lBRXBDLE1BQU0sRUFBRSxJQUFJLEdBQUcsVUFBVSxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRTdDLFVBQVUsQ0FBNkI7UUFDckMsT0FBTyxFQUFFLE9BQU8sQ0FDZCxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBQ0wsQ0FBQyxJQUFJLENBQUMsRUFBRSxZQUFZO1NBQ3JCLENBQUMsRUFDRixDQUFDLElBQUksQ0FBQyxDQUNQO1FBQ0QsOERBQThEO1FBQzlELElBQUksRUFBRSxLQUFLLENBQUMsSUFBVztLQUN4QixDQUFDLENBQUM7SUFFSCxPQUFPLENBQ0wsb0JBQUMsbUJBQW1CLElBQ2xCLFVBQVUsRUFBRSxVQUFVLEtBQ2xCLElBQUksRUFDUixJQUFJLEVBQUUsSUFBSSxFQUNWLFNBQVMsRUFBRSxVQUFVLEVBQ3JCLEdBQUcsRUFBRSxHQUFHLEVBQ1IsSUFBSSxFQUFDLEtBQUssR0FDVixDQUNILENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQyJ9","import React from \"react\";\nimport { useName } from \"./useName\";\nimport { Email, EMAIL_NAME } from \"../Email\";\nimport { Phone, PHONE_NAME } from \"../Phone\";\nimport { NamePrefixProvider, prefixName, useNamePrefix, } from \"../../../useKISSForm/form\";\nexport const PERSON_NAME_PREFIX = \"person\";\nexport const usePerson = (props) => {\n    const { showLabels, insertNamePrefix, required, form, name: nameProps, email: emailProps, phone: phoneProps, ...rest } = props;\n    const personNamePrefix = insertNamePrefix\n        ? prefixName(PERSON_NAME_PREFIX, insertNamePrefix)\n        : PERSON_NAME_PREFIX;\n    const fullName = useNamePrefix(personNamePrefix);\n    const name = useName({\n        showLabels,\n        insertNamePrefix: personNamePrefix,\n        required,\n        form,\n        ...rest,\n        ...nameProps,\n    });\n    const emailInputName = prefixName(EMAIL_NAME, fullName);\n    const phoneInputName = prefixName(PHONE_NAME, fullName);\n    /* Keep the following code for future use\n    useValidators(\n      useMemo(() => {\n        if (required) {\n          const emailRequiredError = new Error(\"Email or Phone Required\");\n          const phoneRequiredError = new Error(\"Phone or Email Required\");\n  \n          return {\n            validators: {\n              [prefixName(EMAIL_NAME, personNamePrefix)]: ((\n                _,\n                { form, name }\n              ) => {\n                const email = (\n                  form.getFieldValue(name, false) as string | undefined\n                )?.trim();\n  \n                const phone = (\n                  form.getFieldValue(phoneInputName, false) as string | undefined\n                )?.trim();\n  \n                if (!phone && !email) {\n                  return emailRequiredError;\n                } else if (!form.isFieldValid(phoneInputName) && !phone) {\n                  form.validateField(phoneInputName);\n                }\n              }) as Validator<string>,\n              [prefixName(PHONE_NAME, personNamePrefix)]: ((\n                _,\n                { form, name }\n              ) => {\n                const phone = (\n                  form.getFieldValue(name, false) as string | undefined\n                )?.trim();\n  \n                const email = (\n                  form.getFieldValue(emailInputName, false) as string | undefined\n                )?.trim();\n  \n                if (!phone && !email) {\n                  return phoneRequiredError;\n                } else if (!form.isFieldValid(emailInputName) && !email) {\n                  form.validateField(emailInputName);\n                }\n              }) as Validator<string>,\n  \n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            } as any,\n            form,\n          };\n        }\n        \n        return {\n          validators: {},\n          form,\n        };\n      }, [emailInputName, form, personNamePrefix, phoneInputName, required])\n      );\n      */\n    return {\n        name,\n        emailInput: (React.createElement(NamePrefixProvider, { namePrefix: personNamePrefix },\n            React.createElement(Email, { label: showLabels && \"Email\", ...rest, ...(emailProps || {}), form: form }))),\n        emailInputName,\n        phoneInput: (React.createElement(NamePrefixProvider, { namePrefix: personNamePrefix },\n            React.createElement(Phone, { label: showLabels && \"Phone\", ...rest, ...(phoneProps || {}), form: form }))),\n        phoneInputName,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlUGVyc29uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSW5wdXRzL2ZpZWxkU2V0cy91c2VQZXJzb24udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUcxQixPQUFPLEVBQUUsT0FBTyxFQUEyQixNQUFNLFdBQVcsQ0FBQztBQUM3RCxPQUFPLEVBQUUsS0FBSyxFQUFjLFVBQVUsRUFBaUIsTUFBTSxVQUFVLENBQUM7QUFDeEUsT0FBTyxFQUFFLEtBQUssRUFBYyxVQUFVLEVBQWlCLE1BQU0sVUFBVSxDQUFDO0FBQ3hFLE9BQU8sRUFDTCxrQkFBa0IsRUFDbEIsVUFBVSxFQUVWLGFBQWEsR0FDZCxNQUFNLDJCQUEyQixDQUFDO0FBNkJuQyxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBeUIsUUFBUSxDQUFDO0FBRWpFLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUN2QixLQUFrQixFQWFsQixFQUFFO0lBQ0YsTUFBTSxFQUNKLFVBQVUsRUFDVixnQkFBZ0IsRUFDaEIsUUFBUSxFQUNSLElBQUksRUFDSixJQUFJLEVBQUUsU0FBUyxFQUNmLEtBQUssRUFBRSxVQUFVLEVBQ2pCLEtBQUssRUFBRSxVQUFVLEVBQ2pCLEdBQUcsSUFBSSxFQUNSLEdBQUcsS0FBSyxDQUFDO0lBRVYsTUFBTSxnQkFBZ0IsR0FBRyxnQkFBZ0I7UUFDdkMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsQ0FBQztRQUNsRCxDQUFDLENBQUMsa0JBQWtCLENBQUM7SUFFdkIsTUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFFakQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDO1FBQ25CLFVBQVU7UUFDVixnQkFBZ0IsRUFBRSxnQkFBZ0I7UUFDbEMsUUFBUTtRQUNSLElBQUk7UUFDSixHQUFHLElBQUk7UUFDUCxHQUFHLFNBQVM7S0FDYixDQUFDLENBQUM7SUFFSCxNQUFNLGNBQWMsR0FBRyxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3hELE1BQU0sY0FBYyxHQUFHLFVBQVUsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFFeEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUEwREk7SUFFSixPQUFPO1FBQ0wsSUFBSTtRQUNKLFVBQVUsRUFBRSxDQUNWLG9CQUFDLGtCQUFrQixJQUFDLFVBQVUsRUFBRSxnQkFBZ0I7WUFDOUMsb0JBQUMsS0FBSyxJQUNKLEtBQUssRUFBRSxVQUFVLElBQUksT0FBTyxLQUN4QixJQUFJLEtBQ0osQ0FBQyxVQUFVLElBQUksRUFBRSxDQUFDLEVBQ3RCLElBQUksRUFBRSxJQUFJLEdBQ1YsQ0FDaUIsQ0FDdEI7UUFDRCxjQUFjO1FBQ2QsVUFBVSxFQUFFLENBQ1Ysb0JBQUMsa0JBQWtCLElBQUMsVUFBVSxFQUFFLGdCQUFnQjtZQUM5QyxvQkFBQyxLQUFLLElBQ0osS0FBSyxFQUFFLFVBQVUsSUFBSSxPQUFPLEtBQ3hCLElBQUksS0FDSixDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsRUFDdEIsSUFBSSxFQUFFLElBQUksR0FDVixDQUNpQixDQUN0QjtRQUNELGNBQWM7S0FDZixDQUFDO0FBQ0osQ0FBQyxDQUFDIn0=","import React, { useMemo } from \"react\";\nimport { makeStyles, createStyles, Button, IconButton, CircularProgress, Box, } from \"@material-ui/core\";\nconst useStyles = makeStyles(() => createStyles({\n    asyncButton: {\n        position: \"relative\",\n    },\n}));\nexport const AsyncButton = React.forwardRef(function AsyncButton(props, ref) {\n    const classes = useStyles();\n    const { showProgress = false, progressColor = \"inherit\", className = \"\", children, size, disabled, ...buttonProps } = props;\n    const progressSize = useMemo(() => {\n        switch (size) {\n            case \"medium\":\n                return 20;\n            case \"small\":\n                return 16;\n            case \"large\":\n                return 24;\n            default:\n                return 20;\n        }\n    }, [size]);\n    return (React.createElement(Button, { ...buttonProps, ref: ref, className: `${className} ${classes.asyncButton}`, size: size, disabled: disabled || showProgress },\n        showProgress && (React.createElement(Box, { position: \"absolute\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", top: 0, bottom: 0, left: 0, right: 0 },\n            React.createElement(CircularProgress, { color: progressColor, size: progressSize }))),\n        children));\n});\nexport const AsyncIconButton = React.forwardRef(function AsyncIconButton(props, ref) {\n    const classes = useStyles();\n    const { showProgress = false, progressColor = \"inherit\", className = \"\", children, disabled, size, ...iconButtonProps } = props;\n    return (React.createElement(IconButton, { ...iconButtonProps, ref: ref, className: `${className} ${classes.asyncButton}`, size: size, disabled: disabled || showProgress },\n        showProgress && (React.createElement(Box, { position: \"absolute\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", top: 0, bottom: 0, left: 0, right: 0 },\n            React.createElement(CircularProgress, { color: progressColor, size: size === \"small\" ? 24 : 40 }))),\n        children));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXN5bmNCdXR0b24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy91dGlscy9Bc3luY0J1dHRvbi50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDdkMsT0FBTyxFQUNMLFVBQVUsRUFDVixZQUFZLEVBQ1osTUFBTSxFQUVOLFVBQVUsRUFFVixnQkFBZ0IsRUFFaEIsR0FBRyxHQUNKLE1BQU0sbUJBQW1CLENBQUM7QUFFM0IsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUNoQyxZQUFZLENBQUM7SUFDWCxXQUFXLEVBQUU7UUFDWCxRQUFRLEVBQUUsVUFBVTtLQUNyQjtDQUNGLENBQUMsQ0FDSCxDQUFDO0FBU0YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsU0FBUyxXQUFXLENBQzlELEtBQXVCLEVBQ3ZCLEdBQWlDO0lBRWpDLE1BQU0sT0FBTyxHQUFHLFNBQVMsRUFBRSxDQUFDO0lBRTVCLE1BQU0sRUFDSixZQUFZLEdBQUcsS0FBSyxFQUNwQixhQUFhLEdBQUcsU0FBUyxFQUN6QixTQUFTLEdBQUcsRUFBRSxFQUNkLFFBQVEsRUFDUixJQUFJLEVBQ0osUUFBUSxFQUNSLEdBQUcsV0FBVyxFQUNmLEdBQUcsS0FBSyxDQUFDO0lBRVYsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRTtRQUNoQyxRQUFRLElBQUksRUFBRTtZQUNaLEtBQUssUUFBUTtnQkFDWCxPQUFPLEVBQUUsQ0FBQztZQUNaLEtBQUssT0FBTztnQkFDVixPQUFPLEVBQUUsQ0FBQztZQUNaLEtBQUssT0FBTztnQkFDVixPQUFPLEVBQUUsQ0FBQztZQUNaO2dCQUNFLE9BQU8sRUFBRSxDQUFDO1NBQ2I7SUFDSCxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRVgsT0FBTyxDQUNMLG9CQUFDLE1BQU0sT0FDRCxXQUFXLEVBQ2YsR0FBRyxFQUFFLEdBQUcsRUFDUixTQUFTLEVBQUUsR0FBRyxTQUFTLElBQUksT0FBTyxDQUFDLFdBQVcsRUFBRSxFQUNoRCxJQUFJLEVBQUUsSUFBSSxFQUNWLFFBQVEsRUFBRSxRQUFRLElBQUksWUFBWTtRQUVqQyxZQUFZLElBQUksQ0FDZixvQkFBQyxHQUFHLElBQ0YsUUFBUSxFQUFDLFVBQVUsRUFDbkIsT0FBTyxFQUFDLE1BQU0sRUFDZCxjQUFjLEVBQUMsUUFBUSxFQUN2QixVQUFVLEVBQUMsUUFBUSxFQUNuQixHQUFHLEVBQUUsQ0FBQyxFQUNOLE1BQU0sRUFBRSxDQUFDLEVBQ1QsSUFBSSxFQUFFLENBQUMsRUFDUCxLQUFLLEVBQUUsQ0FBQztZQUVSLG9CQUFDLGdCQUFnQixJQUFDLEtBQUssRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLFlBQVksR0FBSSxDQUMxRCxDQUNQO1FBQ0EsUUFBUSxDQUNGLENBQ1YsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDO0FBSUgsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsU0FBUyxlQUFlLENBQ3RFLEtBQTJCLEVBQzNCLEdBQWlDO0lBRWpDLE1BQU0sT0FBTyxHQUFHLFNBQVMsRUFBRSxDQUFDO0lBRTVCLE1BQU0sRUFDSixZQUFZLEdBQUcsS0FBSyxFQUNwQixhQUFhLEdBQUcsU0FBUyxFQUN6QixTQUFTLEdBQUcsRUFBRSxFQUNkLFFBQVEsRUFDUixRQUFRLEVBQ1IsSUFBSSxFQUNKLEdBQUcsZUFBZSxFQUNuQixHQUFHLEtBQUssQ0FBQztJQUVWLE9BQU8sQ0FDTCxvQkFBQyxVQUFVLE9BQ0wsZUFBZSxFQUNuQixHQUFHLEVBQUUsR0FBRyxFQUNSLFNBQVMsRUFBRSxHQUFHLFNBQVMsSUFBSSxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQ2hELElBQUksRUFBRSxJQUFJLEVBQ1YsUUFBUSxFQUFFLFFBQVEsSUFBSSxZQUFZO1FBRWpDLFlBQVksSUFBSSxDQUNmLG9CQUFDLEdBQUcsSUFDRixRQUFRLEVBQUMsVUFBVSxFQUNuQixPQUFPLEVBQUMsTUFBTSxFQUNkLGNBQWMsRUFBQyxRQUFRLEVBQ3ZCLFVBQVUsRUFBQyxRQUFRLEVBQ25CLEdBQUcsRUFBRSxDQUFDLEVBQ04sTUFBTSxFQUFFLENBQUMsRUFDVCxJQUFJLEVBQUUsQ0FBQyxFQUNQLEtBQUssRUFBRSxDQUFDO1lBRVIsb0JBQUMsZ0JBQWdCLElBQ2YsS0FBSyxFQUFFLGFBQWEsRUFDcEIsSUFBSSxFQUFFLElBQUksS0FBSyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUNoQyxDQUNFLENBQ1A7UUFDQSxRQUFRLENBQ0UsQ0FDZCxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUMifQ==","import React, { forwardRef, useMemo, useRef, useState, useCallback, useEffect, } from \"react\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, DialogContentText, Grid, Box, Typography, makeStyles, } from \"@material-ui/core\";\nimport { FreeSoloNode } from \"mui-tree-select\";\nimport { parseName } from \"humanparser\";\nimport { Add as AddIcon, Queue as QueueIcon } from \"@material-ui/icons\";\nimport { gql, useMutation } from \"@apollo/client\";\nimport { useEntry, } from \"../../../Inputs/fieldSets/useEntry\";\nimport { inputGridItemProps, useSharedDialogInputProps, } from \"./shared\";\nimport { usePerson } from \"../../../Inputs/fieldSets/usePerson\";\nimport { FieldValue, FormProvider, useDefaultValues, useForm, useWatcher, } from \"../../../../useKISSForm/form\";\nimport { AsyncButton } from \"../../../utils/AsyncButton\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport { ENTRY } from \"../Grid.gql\";\nimport { EntityType, } from \"../../../../apollo/graphTypes\";\nimport { serializeDate, serializeRational } from \"../../../../apollo/scalars\";\nimport { toUpsertPaymentMethod } from \"../../../Inputs/PaymentMethod\";\nexport const NEW_ENTRY = gql `\n  mutation NewEntry($newEntry: NewEntry!) {\n    addNewEntry(input: $newEntry) {\n      newEntry {\n        ...GridEntry\n      }\n    }\n  }\n  ${ENTRY}\n`;\nexport const UPDATE_ENTRY = gql `\n  mutation UpdateEntry($updateEntry: UpdateEntry!) {\n    updateEntry(input: $updateEntry) {\n      updatedEntry {\n        ...GridEntry\n      }\n    }\n  }\n  ${ENTRY}\n`;\nconst Person = (props) => {\n    const sharedInputProps = useSharedDialogInputProps();\n    const { form, sourceValue } = props;\n    const personInputs = usePerson({\n        form,\n        required: true,\n        showLabels: true,\n        shouldUnregister: true,\n        ...sharedInputProps.TextFieldProps,\n    });\n    const newSrcPerson = sourceValue.valueOf().trim();\n    useDefaultValues(useMemo(() => {\n        if (!newSrcPerson) {\n            return {\n                defaultValues: {},\n                form,\n            };\n        }\n        const { firstName, lastName } = parseName(newSrcPerson);\n        return {\n            defaultValues: {\n                [personInputs.name.firstNameInputName]: new FieldValue(firstName),\n                [personInputs.name.lastNameInputName]: new FieldValue(lastName),\n            },\n            form,\n        };\n    }, [\n        form,\n        newSrcPerson,\n        personInputs.name.firstNameInputName,\n        personInputs.name.lastNameInputName,\n    ]));\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Box, { marginTop: 2.5, clone: true },\n            React.createElement(DialogContentText, { component: \"h2\", variant: \"h6\" }, \"Add New Person\")),\n        React.createElement(Grid, { spacing: 3, container: true },\n            React.createElement(Grid, { ...inputGridItemProps }, personInputs.name.firstNameInput),\n            React.createElement(Grid, { ...inputGridItemProps }, personInputs.name.lastNameInput),\n            React.createElement(Grid, { ...inputGridItemProps }, personInputs.phoneInput),\n            React.createElement(Grid, { ...inputGridItemProps }, personInputs.emailInput))));\n};\nconst useStyles = makeStyles({\n    dialogContent: {\n        position: \"relative\",\n    },\n});\nconst InnerDialog = (props) => {\n    var _a;\n    const { entryProps, dialogProps: { onClose }, formRef, refetchQueries, } = props;\n    const classes = useStyles();\n    const updateEntryId = useRef(entryProps.updateEntryId).current;\n    const isUpdate = !!updateEntryId;\n    const addRef = useRef(null);\n    const addAndNewRef = useRef(null);\n    const [submitButton, setSubmitButton] = useState(null);\n    const submitButtonRef = useRef(null);\n    submitButtonRef.current = submitButton;\n    const [addNewEntry] = useMutation(NEW_ENTRY, useMemo(() => (refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onNewEntry)\n        ? {\n            refetchQueries: refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onNewEntry,\n        }\n        : undefined, [refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onNewEntry]));\n    const [updateEntry] = useMutation(UPDATE_ENTRY, useMemo(() => (refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onUpdateEntry)\n        ? {\n            refetchQueries: refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onUpdateEntry,\n        }\n        : undefined, [refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onUpdateEntry]));\n    const form = useForm({\n        onSubmit: {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onSubmit: useCallback(async (submitState) => {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n                const { dirtyValues: { entry }, values: { person }, } = submitState;\n                // Nothing to update\n                if (!entry && !person) {\n                    return;\n                }\n                const source = (entry === null || entry === void 0 ? void 0 : entry.source) || person\n                    ? (() => {\n                        var _a, _b, _c;\n                        if (person) {\n                            return {\n                                person: {\n                                    name: {\n                                        first: ((_a = person === null || person === void 0 ? void 0 : person.name) === null || _a === void 0 ? void 0 : _a.first) || \"\",\n                                        last: ((_b = person === null || person === void 0 ? void 0 : person.name) === null || _b === void 0 ? void 0 : _b.last) || \"\",\n                                    },\n                                    email: person.email || null,\n                                    phone: person.phone || null,\n                                },\n                            };\n                        }\n                        else if (!(entry === null || entry === void 0 ? void 0 : entry.source)) {\n                            return null;\n                        }\n                        else if (entry.source instanceof FreeSoloNode) {\n                            return ((_c = entry.source.parent) === null || _c === void 0 ? void 0 : _c.valueOf()) === \"Business\"\n                                ? {\n                                    business: {\n                                        name: entry.source.valueOf(),\n                                    },\n                                }\n                                : null;\n                        }\n                        else {\n                            const source = entry.source.valueOf();\n                            switch (source.__typename) {\n                                case \"Business\":\n                                    return {\n                                        source: {\n                                            type: EntityType.Business,\n                                            id: source.id,\n                                        },\n                                    };\n                                case \"Department\":\n                                    return {\n                                        source: {\n                                            type: EntityType.Department,\n                                            id: source.id,\n                                        },\n                                    };\n                                case \"Person\":\n                                    return {\n                                        source: {\n                                            type: EntityType.Person,\n                                            id: source.id,\n                                        },\n                                    };\n                            }\n                        }\n                    })()\n                    : null;\n                if (entryProps.updateEntryId) {\n                    // compose UpdateEntry\n                    const entryUpdate = {\n                        id: entryProps.updateEntryId,\n                        date: (entry === null || entry === void 0 ? void 0 : entry.date) ? serializeDate(entry.date) : null,\n                        dateOfRecord: (entry === null || entry === void 0 ? void 0 : entry.dateOfRecord)\n                            ? {\n                                date: serializeDate(entry.dateOfRecord),\n                                overrideFiscalYear: true,\n                            }\n                            : null,\n                        department: ((_a = entry === null || entry === void 0 ? void 0 : entry.department) === null || _a === void 0 ? void 0 : _a.valueOf().id) || null,\n                        category: ((_b = entry === null || entry === void 0 ? void 0 : entry.category) === null || _b === void 0 ? void 0 : _b.valueOf().id) || null,\n                        paymentMethod: (entry === null || entry === void 0 ? void 0 : entry.paymentMethod)\n                            ? toUpsertPaymentMethod({\n                                paymentMethodInput: entry.paymentMethod,\n                            })\n                            : null,\n                        description: (_d = (_c = entry === null || entry === void 0 ? void 0 : entry.description) === null || _c === void 0 ? void 0 : _c.trim()) !== null && _d !== void 0 ? _d : null,\n                        total: (entry === null || entry === void 0 ? void 0 : entry.total) ? serializeRational(entry.total) : null,\n                        source,\n                        reconciled: (_e = entry === null || entry === void 0 ? void 0 : entry.reconciled) !== null && _e !== void 0 ? _e : null,\n                    };\n                    const { errors } = await updateEntry({\n                        variables: {\n                            updateEntry: entryUpdate,\n                        },\n                    });\n                    if (errors === null || errors === void 0 ? void 0 : errors.length) {\n                        throw new Error(errors.map(({ message }) => message).join(\".\\n\"));\n                    }\n                }\n                else {\n                    const newEntry = {\n                        date: serializeDate(entry === null || entry === void 0 ? void 0 : entry.date),\n                        dateOfRecord: (entry === null || entry === void 0 ? void 0 : entry.dateOfRecord)\n                            ? {\n                                date: serializeDate(entry.dateOfRecord),\n                                overrideFiscalYear: true,\n                            }\n                            : null,\n                        department: (_f = entry === null || entry === void 0 ? void 0 : entry.department) === null || _f === void 0 ? void 0 : _f.valueOf().id,\n                        category: (_g = entry === null || entry === void 0 ? void 0 : entry.category) === null || _g === void 0 ? void 0 : _g.valueOf().id,\n                        paymentMethod: toUpsertPaymentMethod({\n                            paymentMethodInput: entry === null || entry === void 0 ? void 0 : entry.paymentMethod,\n                        }),\n                        description: ((_h = entry === null || entry === void 0 ? void 0 : entry.description) === null || _h === void 0 ? void 0 : _h.trim()) || null,\n                        total: serializeRational(entry === null || entry === void 0 ? void 0 : entry.total),\n                        source: source,\n                        reconciled: (_j = entry === null || entry === void 0 ? void 0 : entry.reconciled) !== null && _j !== void 0 ? _j : null,\n                    };\n                    const { errors } = await addNewEntry({\n                        variables: {\n                            newEntry,\n                        },\n                    });\n                    if (errors === null || errors === void 0 ? void 0 : errors.length) {\n                        throw new Error(errors.map(({ message }) => message).join(\".\\n\"));\n                    }\n                }\n            }, [addNewEntry, entryProps.updateEntryId, updateEntry]),\n            onSuccess: useCallback(({ event, form }) => {\n                if (addRef.current === submitButtonRef.current) {\n                    if (onClose) {\n                        onClose(event, \"success\");\n                    }\n                }\n                else if (addAndNewRef.current === submitButtonRef.current) {\n                    form.reset({ exclude: { submitCount: true, submitted: true } });\n                }\n            }, [onClose]),\n            finally: useCallback(() => setSubmitButton(null), []),\n        },\n        validateOn: \"submit\",\n    });\n    formRef.current = form;\n    useEffect(() => () => {\n        formRef.current = null;\n    }, [formRef]);\n    const sharedInputProps = useSharedDialogInputProps();\n    const entryInputs = useEntry(useMemo(() => ({\n        form: form,\n        showLabels: true,\n        ...entryProps,\n        updateEntryId: updateEntryId,\n        required: true,\n        date: {\n            ...sharedInputProps.DateInputProps,\n            ...entryProps.date,\n        },\n        dateOfRecord: {\n            ...sharedInputProps.DateInputProps,\n            ...entryProps.dateOfRecord,\n        },\n        department: {\n            ...sharedInputProps.TreeSelectProps,\n            ...entryProps.department,\n        },\n        description: {\n            ...sharedInputProps.TextFieldProps,\n            ...entryProps.description,\n        },\n        source: {\n            ...sharedInputProps.TreeSelectProps,\n            ...entryProps.source,\n            allowNewSource: true,\n        },\n        category: {\n            ...sharedInputProps.TreeSelectProps,\n            ...entryProps.category,\n        },\n        paymentMethod: {\n            ...sharedInputProps.TreeSelectProps,\n            ...entryProps.paymentMethod,\n            isRefund: false,\n        },\n        total: {\n            ...sharedInputProps.TextFieldProps,\n            ...entryProps.total,\n        },\n        reconciled: {\n            ...sharedInputProps.TextFieldProps,\n            ...entryProps.reconciled,\n        },\n    }), [\n        entryProps,\n        form,\n        sharedInputProps.DateInputProps,\n        sharedInputProps.TextFieldProps,\n        sharedInputProps.TreeSelectProps,\n        updateEntryId,\n    ]));\n    const { value: sourceValue } = useWatcher({\n        name: entryInputs.sourceInputName,\n        form,\n    });\n    const handleClose = useCallback((...args) => {\n        if (form.isSubmitting) {\n            return;\n        }\n        if (onClose) {\n            onClose(...args);\n        }\n    }, [form.isSubmitting, onClose]);\n    const addAndNewHandleClick = useCallback(() => {\n        setSubmitButton(addAndNewRef.current);\n    }, []);\n    const submissionError = form.submissionError;\n    return (React.createElement(FormProvider, { form: form },\n        React.createElement(DialogTitle, null, (() => {\n            if (isUpdate) {\n                return form.isSubmitting ? \"Updating Entry...\" : \"Update Entry\";\n            }\n            else {\n                return (() => {\n                    if (form.isSubmitting) {\n                        return \"Adding Entry...\";\n                    }\n                    else {\n                        return form.submitCount > 0 && form.submit\n                            ? \"Add Another Entry\"\n                            : \"Add Entry\";\n                    }\n                })();\n            }\n        })()),\n        submissionError ? (React.createElement(DialogContent, { dividers: true },\n            React.createElement(Typography, { color: \"error\" }, \"Submission Error:\"),\n            React.createElement(Typography, { color: \"error\" }, submissionError.message))) : (React.createElement(DialogContent, { dividers: true, className: classes.dialogContent },\n            form.loading && React.createElement(OverlayLoading, { zIndex: \"modal\" }),\n            React.createElement(Grid, { spacing: 3, container: true },\n                React.createElement(Grid, { ...inputGridItemProps }, entryInputs.dateInput),\n                React.createElement(Grid, { ...inputGridItemProps }, entryInputs.dateOfRecordInput),\n                React.createElement(Grid, { ...inputGridItemProps }, entryInputs.departmentInput),\n                React.createElement(Grid, { ...inputGridItemProps }, entryInputs.sourceInput),\n                React.createElement(Grid, { ...inputGridItemProps }, entryInputs.categoryInput),\n                React.createElement(Grid, { ...inputGridItemProps }, entryInputs.paymentMethodInput),\n                React.createElement(Grid, { ...inputGridItemProps }, entryInputs.descriptionInput),\n                React.createElement(Grid, { ...inputGridItemProps }, entryInputs.totalInput),\n                isUpdate && (React.createElement(Grid, { ...inputGridItemProps }, entryInputs.reconciledInput))),\n            sourceValue instanceof FreeSoloNode &&\n                ((_a = sourceValue.parent) === null || _a === void 0 ? void 0 : _a.valueOf()) === \"Person\" && (React.createElement(Person, { form: form, sourceValue: sourceValue })))),\n        React.createElement(DialogActions, null,\n            React.createElement(AsyncButton, { color: \"primary\", showProgress: form.isSubmitting &&\n                    !!submitButton &&\n                    submitButton === addRef.current, disabled: form.isSubmitting || form.loading || !!submissionError, type: \"submit\", variant: \"contained\", startIcon: React.createElement(AddIcon, null), ref: addRef, onClick: useCallback(() => {\n                    setSubmitButton(addRef.current);\n                }, []) }, isUpdate ? \"Update\" : \"Add\"),\n            !isUpdate && (React.createElement(AsyncButton, { color: \"primary\", showProgress: form.isSubmitting &&\n                    !!submitButton &&\n                    submitButton === addAndNewRef.current, disabled: form.isSubmitting || form.loading || !!submissionError, type: \"submit\", variant: \"outlined\", startIcon: React.createElement(QueueIcon, null), ref: addAndNewRef, onClick: addAndNewHandleClick }, \"Add & New\")),\n            React.createElement(Button, { type: \"reset\", disabled: form.isSubmitting, variant: \"text\", onClick: useCallback((event) => {\n                    handleClose(event, \"cancel\");\n                }, [handleClose]) }, submissionError ? \"Ok\" : \"Cancel\"))));\n};\nexport const UpsertEntry = forwardRef(function UpsertEntry(props, ref) {\n    var _a;\n    const formRef = useRef(null);\n    const onClose = props.dialogProps.onClose;\n    const handleClose = useCallback((...args) => {\n        var _a;\n        if ((_a = formRef.current) === null || _a === void 0 ? void 0 : _a.isSubmitting) {\n            return;\n        }\n        if (onClose) {\n            onClose(...args);\n        }\n    }, [onClose]);\n    return (React.createElement(Dialog, { ...props.dialogProps, onClose: handleClose, PaperProps: useMemo(() => ({\n            component: \"form\",\n            onSubmit: (e) => {\n                var _a, _b;\n                e.preventDefault();\n                if (!((_a = formRef.current) === null || _a === void 0 ? void 0 : _a.isSubmitting)) {\n                    (_b = formRef.current) === null || _b === void 0 ? void 0 : _b.handleSubmit(e);\n                }\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        }), []), ref: ref, disableEscapeKeyDown: (_a = formRef.current) === null || _a === void 0 ? void 0 : _a.isSubmitting },\n        React.createElement(InnerDialog, { ...props, formRef: formRef })));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXBzZXJ0RW50cnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL0RhdGFHcmlkL2Zvcm1zL1Vwc2VydEVudHJ5LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUNaLFVBQVUsRUFFVixPQUFPLEVBQ1AsTUFBTSxFQUNOLFFBQVEsRUFDUixXQUFXLEVBRVgsU0FBUyxHQUNWLE1BQU0sT0FBTyxDQUFDO0FBQ2YsT0FBTyxFQUNMLE1BQU0sRUFDTixNQUFNLEVBQ04sYUFBYSxFQUNiLGFBQWEsRUFFYixXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLElBQUksRUFDSixHQUFHLEVBRUgsVUFBVSxFQUNWLFVBQVUsR0FDWCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxHQUFHLElBQUksT0FBTyxFQUFFLEtBQUssSUFBSSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsR0FBRyxFQUF1QixXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV2RSxPQUFPLEVBRUwsUUFBUSxHQUVULE1BQU0sb0NBQW9DLENBQUM7QUFDNUMsT0FBTyxFQUVMLGtCQUFrQixFQUNsQix5QkFBeUIsR0FDMUIsTUFBTSxVQUFVLENBQUM7QUFDbEIsT0FBTyxFQUFFLFNBQVMsRUFBa0IsTUFBTSxxQ0FBcUMsQ0FBQztBQUVoRixPQUFPLEVBQ0wsVUFBVSxFQUNWLFlBQVksRUFFWixnQkFBZ0IsRUFDaEIsT0FBTyxFQUVQLFVBQVUsR0FFWCxNQUFNLDhCQUE4QixDQUFDO0FBQ3RDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUN6RCxPQUFPLGNBQWMsTUFBTSwrQkFBK0IsQ0FBQztB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","import React, { useMemo } from \"react\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport Fraction from \"fraction.js\";\nimport { isBefore, isFuture } from \"date-fns\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { BoolInput } from \"../BoolInput\";\nimport { DateInput } from \"../Date\";\nimport { DescriptionInput, DESCRIPTION_NAME, } from \"../Description\";\nimport { PaymentMethodInput, PAYMENT_METHOD_NAME, PAY_METHOD_DEFAULT_VALUE_FRAGMENT, usePaymentMethodDefaultValue, } from \"../PaymentMethod\";\nimport { RationalInput, } from \"../RationalInput\";\nimport { NamePrefixProvider, prefixName, useLoading, useNamePrefix, useValidators, } from \"../../../useKISSForm/form\";\nimport { gtZero, requiredValidator, useRenderInputWithError, useRenderInputWithLabel, } from \"../shared\";\nimport { deserializeDate, deserializeRational } from \"../../../apollo/scalars\";\nimport { startOfDay } from \"date-fns/esm\";\nconst useStyles = makeStyles({\n    adornedStart: {\n        alignItems: \"baseline\",\n    },\n});\nexport const DATE_NAME = \"date\";\nexport const TOTAL_NAME = \"total\";\nexport const RECONCILED_NAME = \"reconciled\";\nexport const REFUND_NAME = \"refund\";\nconst REFUND_ENTRY_STATE = gql `\n  fragment UpdateRefundDefaultValues on EntryRefund {\n    __typename\n    id\n    date\n    deleted\n    description\n    paymentMethod {\n      ...PayMethodDefaultValue\n    }\n    reconciled\n    total\n  }\n\n  query RefundEntryState($where: EntriesWhere!) {\n    entries(where: $where) {\n      __typename\n      id\n      date\n      category {\n        __typename\n        id\n        type\n      }\n      paymentMethod {\n        ...PayMethodDefaultValue\n      }\n      total\n      refunds {\n        ...UpdateRefundDefaultValues\n      }\n    }\n  }\n  ${PAY_METHOD_DEFAULT_VALUE_FRAGMENT}\n`;\nexport const useRefund = (props) => {\n    var _a, _b;\n    const { form, required, showLabels, insertNamePrefix, date: dateProps = {}, paymentMethod: paymentMethodProps, description: descriptionProps, total: totalProps = {}, reconciled: reconciledProps = {}, } = props;\n    const classes = useStyles();\n    const [entryId, updateRefundId] = \"entryId\" in props ? [props.entryId, null] : [null, props.updateRefundId];\n    const refundName = insertNamePrefix\n        ? prefixName(REFUND_NAME, insertNamePrefix)\n        : REFUND_NAME;\n    const fullName = useNamePrefix(refundName);\n    const { loading, error, data } = useQuery(REFUND_ENTRY_STATE, useMemo(() => {\n        if (entryId) {\n            return {\n                variables: {\n                    where: {\n                        id: { eq: entryId },\n                    },\n                },\n            };\n        }\n        else if (updateRefundId) {\n            return {\n                variables: {\n                    where: {\n                        refunds: {\n                            id: {\n                                eq: updateRefundId,\n                            },\n                        },\n                    },\n                },\n            };\n        }\n        else {\n            return {\n                skip: true,\n            };\n        }\n    }, [entryId, updateRefundId]));\n    useLoading({\n        loading,\n        name: useMemo(() => [\n            prefixName(DATE_NAME, refundName),\n            prefixName(PAYMENT_METHOD_NAME, refundName),\n            prefixName(TOTAL_NAME, refundName),\n            prefixName(RECONCILED_NAME, refundName),\n        ], [refundName]),\n        form,\n    });\n    const [entry] = (data === null || data === void 0 ? void 0 : data.entries) || [];\n    const entryType = (_b = (_a = entry === null || entry === void 0 ? void 0 : entry.category) === null || _a === void 0 ? void 0 : _a.type) !== null && _b !== void 0 ? _b : null;\n    const [maxRefund, updateRefund] = useMemo(() => {\n        let updateRefund;\n        const maxRefund = ((entry === null || entry === void 0 ? void 0 : entry.refunds) || []).reduce((maxRefund, refund) => {\n            if (refund.id === updateRefundId) {\n                updateRefund = refund;\n                return maxRefund;\n            }\n            return refund.deleted\n                ? maxRefund\n                : maxRefund.sub(deserializeRational(refund.total));\n        }, (entry === null || entry === void 0 ? void 0 : entry.total) ? deserializeRational(entry === null || entry === void 0 ? void 0 : entry.total) : new Fraction(0));\n        return [maxRefund, updateRefund];\n    }, [entry === null || entry === void 0 ? void 0 : entry.refunds, entry === null || entry === void 0 ? void 0 : entry.total, updateRefundId]);\n    const minDate = useMemo(() => (entry ? deserializeDate(entry.date) : new Date(\"1900-01-01\")), [entry]);\n    useValidators(useMemo(() => {\n        const lteMaxTotalError = new RangeError(`Refund cannot exceed $${maxRefund.toString(2)}`);\n        const lteMaxTotal = (value) => {\n            if (value && value.compare(maxRefund) > 0) {\n                return lteMaxTotalError;\n            }\n        };\n        const beforeMinDateError = new RangeError(`Refund cannot be given before originating transaction.`);\n        const afterMaxDateError = new RangeError(`Refund cannot recorded in the future.`);\n        const validDateRange = (value) => {\n            if (!value) {\n                return;\n            }\n            else if (isFuture(value)) {\n                return afterMaxDateError;\n            }\n            else if (isBefore(value, startOfDay(minDate))) {\n                return beforeMinDateError;\n            }\n        };\n        if (required) {\n            return {\n                validators: {\n                    refund: {\n                        date: [requiredValidator, validDateRange],\n                        paymentMethod: requiredValidator,\n                        total: [requiredValidator, gtZero, lteMaxTotal],\n                    },\n                },\n                form,\n            };\n        }\n        else {\n            return {\n                validators: {\n                    refund: {\n                        date: validDateRange,\n                        total: [gtZero, lteMaxTotal],\n                    },\n                },\n                form,\n            };\n        }\n    }, [form, maxRefund, minDate, required]));\n    const dateDefaultValue = useMemo(() => ((updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.date) ? deserializeDate(updateRefund.date) : undefined), [updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.date]);\n    const payMethodRenderInput = useRenderInputWithError(error, useRenderInputWithLabel(showLabels ? \"Payment Method\" : undefined, paymentMethodProps === null || paymentMethodProps === void 0 ? void 0 : paymentMethodProps.renderInput));\n    const payMethodDefaultValue = usePaymentMethodDefaultValue((() => {\n        var _a;\n        if (updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.paymentMethod) {\n            return updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.paymentMethod;\n        }\n        else if (((_a = entry === null || entry === void 0 ? void 0 : entry.paymentMethod) === null || _a === void 0 ? void 0 : _a.__typename) === \"PaymentMethodCard\") {\n            return entry === null || entry === void 0 ? void 0 : entry.paymentMethod;\n        }\n    })());\n    const totalDefaultValue = useMemo(() => (updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.total) ? deserializeRational(updateRefund.total) : undefined, [updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.total]);\n    return {\n        error,\n        dateInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: refundName },\n            React.createElement(DateInput, { label: showLabels && \"Date\", defaultValue: dateDefaultValue, minDate: minDate, ...dateProps, name: DATE_NAME, form: form }))), [dateDefaultValue, dateProps, form, minDate, refundName, showLabels]),\n        dateInputName: prefixName(DATE_NAME, fullName),\n        paymentMethodInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: refundName },\n            React.createElement(PaymentMethodInput, { defaultValue: payMethodDefaultValue, ...paymentMethodProps, isRefund: true, renderInput: payMethodRenderInput, entryType: entryType, multiple: false, form: form }))), [\n            entryType,\n            form,\n            payMethodDefaultValue,\n            payMethodRenderInput,\n            paymentMethodProps,\n            refundName,\n        ]),\n        paymentMethodInputName: prefixName(PAYMENT_METHOD_NAME, fullName),\n        descriptionInput: useMemo(() => {\n            var _a;\n            return (React.createElement(NamePrefixProvider, { namePrefix: refundName },\n                React.createElement(DescriptionInput, { label: showLabels && \"Description\", defaultValue: (_a = updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.description) !== null && _a !== void 0 ? _a : undefined, ...descriptionProps, name: DESCRIPTION_NAME, form: form })));\n        }, [\n            refundName,\n            showLabels,\n            updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.description,\n            descriptionProps,\n            form,\n        ]),\n        descriptionInputName: prefixName(DESCRIPTION_NAME, fullName),\n        totalInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: refundName },\n            React.createElement(RationalInput, { label: showLabels && \"Total\", decimals: 2, helperText: `Max $${maxRefund.toString(2)}`, defaultValue: totalDefaultValue, ...totalProps, InputProps: {\n                    startAdornment: \"$\",\n                    classes: {\n                        adornedStart: classes.adornedStart,\n                    },\n                    ...totalProps === null || totalProps === void 0 ? void 0 : totalProps.InputProps,\n                }, name: TOTAL_NAME, form: form }))), [\n            classes.adornedStart,\n            form,\n            maxRefund,\n            refundName,\n            showLabels,\n            totalDefaultValue,\n            totalProps,\n        ]),\n        totalInputName: prefixName(TOTAL_NAME, fullName),\n        reconciledInput: useMemo(() => (React.createElement(NamePrefixProvider, { namePrefix: refundName },\n            React.createElement(BoolInput, { label: showLabels && \"Reconciled\", defaultValue: !!(updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.reconciled), ...reconciledProps, name: RECONCILED_NAME, form: form }))), [form, reconciledProps, refundName, showLabels, updateRefund === null || updateRefund === void 0 ? void 0 : updateRefund.reconciled]),\n        reconciledInputName: prefixName(RECONCILED_NAME, fullName),\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlUmVmdW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSW5wdXRzL2ZpZWxkU2V0cy91c2VSZWZ1bmQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3ZDLE9BQU8sRUFBZSxHQUFHLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUQsT0FBTyxRQUFRLE1BQU0sYUFBYSxDQUFDO0FBQ25DLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQzlDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUUvQyxPQUFPLEVBQWdCLFNBQVMsRUFBa0IsTUFBTSxjQUFjLENBQUM7QUFDdkUsT0FBTyxFQUFnQixTQUFTLEVBQWtCLE1BQU0sU0FBUyxDQUFDO0FBQ2xFLE9BQU8sRUFDTCxnQkFBZ0IsRUFFaEIsZ0JBQWdCLEdBRWpCLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUVMLGtCQUFrQixFQUVsQixtQkFBbUIsRUFDbkIsaUNBQWlDLEVBQ2pDLDRCQUE0QixHQUM3QixNQUFNLGtCQUFrQixDQUFDO0FBQzFCLE9BQU8sRUFFTCxhQUFhLEdBRWQsTUFBTSxrQkFBa0IsQ0FBQztBQUMxQixPQUFPLEVBQ0wsa0JBQWtCLEVBQ2xCLFVBQVUsRUFFVixVQUFVLEVBQ1YsYUFBYSxFQUViLGFBQWEsR0FFZCxNQUFNLDJCQUEyQixDQUFDO0FBQ25DLE9BQU8sRUFDTCxNQUFNLEVBQ04saUJBQWlCLEVBQ2pCLHVCQUF1QixFQUN2Qix1QkFBdUIsR0FDeEIsTUFBTSxXQUFXLENBQUM7QUFPbkIsT0FBTyxFQUFFLGVBQWUsRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQy9FLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxjQUFjLENBQUM7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","import React, { forwardRef, useCallback, useEffect, useMemo, useRef, useState, } from \"react\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, makeStyles, Typography, } from \"@material-ui/core\";\nimport { Add as AddIcon } from \"@material-ui/icons\";\nimport { gql } from \"@apollo/client\";\nimport { useMutation } from \"@apollo/client/react\";\nimport { FormProvider, useForm, } from \"../../../../useKISSForm/form\";\nimport { useRefund, } from \"../../../Inputs/fieldSets/useRefund\";\nimport { inputGridItemProps, useSharedDialogInputProps, } from \"./shared\";\nimport { AsyncButton } from \"../../../utils/AsyncButton\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport { REFUND, ENTRY } from \"../Grid.gql\";\nimport { serializeDate, serializeRational } from \"../../../../apollo/scalars\";\nimport { toUpsertPaymentMethod } from \"../../../Inputs/PaymentMethod\";\nexport const NEW_ENTRY_REFUND = gql `\n  mutation NewEntryRefund($newEntryRefund: NewEntryRefund!) {\n    addNewEntryRefund(input: $newEntryRefund) {\n      newEntryRefund {\n        __typename\n        id\n        entry {\n          ...GridEntry\n        }\n      }\n    }\n  }\n  ${ENTRY}\n`;\nexport const UPDATE_ENTRY_REFUND = gql `\n  mutation UpdateEntryRefund($updateEntryRefund: UpdateEntryRefund!) {\n    updateEntryRefund(input: $updateEntryRefund) {\n      updatedEntryRefund {\n        ...GridRefund\n      }\n    }\n  }\n  ${REFUND}\n`;\nconst useStyles = makeStyles({\n    dialogContent: {\n        position: \"relative\",\n    },\n});\nconst InnerDialog = (props) => {\n    const { refundProps, formRef, dialogProps: { onClose }, refetchQueries, } = props;\n    const classes = useStyles();\n    const [entryId, updateRefundId] = \"updateRefundId\" in refundProps\n        ? [undefined, refundProps.updateRefundId]\n        : [refundProps.entryId, undefined];\n    const isUpdate = useRef(!!updateRefundId).current;\n    const addRef = useRef(null);\n    const [submitButton, setSubmitButton] = useState(null);\n    const submitButtonRef = useRef(null);\n    submitButtonRef.current = submitButton;\n    const [addNewEntryRefund] = useMutation(NEW_ENTRY_REFUND, useMemo(() => (refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onNewEntryRefund)\n        ? {\n            refetchQueries: refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onNewEntryRefund,\n        }\n        : undefined, [refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onNewEntryRefund]));\n    const [updateEntryRefund] = useMutation(UPDATE_ENTRY_REFUND, useMemo(() => (refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onUpdateEntryRefund)\n        ? {\n            refetchQueries: refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onUpdateEntryRefund,\n        }\n        : undefined, [refetchQueries === null || refetchQueries === void 0 ? void 0 : refetchQueries.onUpdateEntryRefund]));\n    const form = useForm({\n        onSubmit: {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onSubmit: useCallback(async (submitState) => {\n                var _a, _b, _c, _d, _e;\n                if (updateRefundId) {\n                    const { dirtyValues: { refund }, } = submitState;\n                    // Nothing to update\n                    if (!refund) {\n                        return;\n                    }\n                    // compose RefundUpdate\n                    const entryRefundUpdate = {\n                        id: updateRefundId,\n                        date: (refund === null || refund === void 0 ? void 0 : refund.date) ? serializeDate(refund.date) : null,\n                        dateOfRecord: (refund === null || refund === void 0 ? void 0 : refund.dateOfRecord)\n                            ? {\n                                date: serializeDate(refund.dateOfRecord),\n                                overrideFiscalYear: true,\n                            }\n                            : null,\n                        paymentMethod: (refund === null || refund === void 0 ? void 0 : refund.paymentMethod)\n                            ? toUpsertPaymentMethod({\n                                paymentMethodInput: refund.paymentMethod,\n                            })\n                            : null,\n                        description: (_b = (_a = refund === null || refund === void 0 ? void 0 : refund.description) === null || _a === void 0 ? void 0 : _a.trim()) !== null && _b !== void 0 ? _b : null,\n                        total: (refund === null || refund === void 0 ? void 0 : refund.total) ? serializeRational(refund.total) : null,\n                        // source,\n                        reconciled: (_c = refund === null || refund === void 0 ? void 0 : refund.reconciled) !== null && _c !== void 0 ? _c : null,\n                    };\n                    const { errors } = await updateEntryRefund({\n                        variables: {\n                            updateEntryRefund: entryRefundUpdate,\n                        },\n                    });\n                    if (errors === null || errors === void 0 ? void 0 : errors.length) {\n                        throw new Error(errors.map(({ message }) => message).join(\".\\n\"));\n                    }\n                }\n                else {\n                    const { values: { refund }, } = submitState;\n                    // Nothing to submit\n                    if (!refund) {\n                        return;\n                    }\n                    const newEntryRefund = {\n                        entry: entryId,\n                        date: serializeDate(refund === null || refund === void 0 ? void 0 : refund.date),\n                        dateOfRecord: (refund === null || refund === void 0 ? void 0 : refund.dateOfRecord)\n                            ? {\n                                date: serializeDate(refund.dateOfRecord),\n                                overrideFiscalYear: true,\n                            }\n                            : null,\n                        paymentMethod: toUpsertPaymentMethod({\n                            paymentMethodInput: refund === null || refund === void 0 ? void 0 : refund.paymentMethod,\n                        }),\n                        description: ((_d = refund === null || refund === void 0 ? void 0 : refund.description) === null || _d === void 0 ? void 0 : _d.trim()) || null,\n                        total: serializeRational(refund === null || refund === void 0 ? void 0 : refund.total),\n                        reconciled: (_e = refund === null || refund === void 0 ? void 0 : refund.reconciled) !== null && _e !== void 0 ? _e : null,\n                    };\n                    const { errors } = await addNewEntryRefund({\n                        variables: {\n                            newEntryRefund,\n                        },\n                    });\n                    if (errors === null || errors === void 0 ? void 0 : errors.length) {\n                        throw new Error(errors.map(({ message }) => message).join(\".\\n\"));\n                    }\n                }\n            }, [addNewEntryRefund, entryId, updateEntryRefund, updateRefundId]),\n            onSuccess: useCallback(({ event }) => {\n                if (addRef.current === submitButtonRef.current) {\n                    if (onClose) {\n                        onClose(event, \"success\");\n                    }\n                } /* else if (addRef.current === addAndNewRef.current) {\n                  form.reset();\n                } */\n            }, [onClose]),\n        },\n        validateOn: \"submit\",\n    });\n    formRef.current = form;\n    useEffect(() => () => {\n        formRef.current = null;\n    }, [formRef]);\n    const sharedInputProps = useSharedDialogInputProps();\n    const refundInputs = useRefund(useMemo(() => ({\n        ...refundProps,\n        showLabels: true,\n        required: true,\n        form,\n        date: {\n            ...sharedInputProps.DateInputProps,\n            ...refundProps.date,\n        },\n        dateOfRecord: {\n            ...sharedInputProps.DateInputProps,\n            ...refundProps.date,\n        },\n        paymentMethod: {\n            ...sharedInputProps.TreeSelectProps,\n            ...refundProps.paymentMethod,\n        },\n        description: {\n            ...sharedInputProps.TextFieldProps,\n            ...refundProps.description,\n        },\n        total: {\n            ...sharedInputProps.TextFieldProps,\n            ...refundProps.total,\n        },\n        reconciled: {\n            ...sharedInputProps.TextFieldProps,\n            ...refundProps.reconciled,\n        },\n    }), [\n        form,\n        refundProps,\n        sharedInputProps.DateInputProps,\n        sharedInputProps.TextFieldProps,\n        sharedInputProps.TreeSelectProps,\n    ]));\n    const handleClose = useCallback((...args) => {\n        if (form.isSubmitting) {\n            return;\n        }\n        if (onClose) {\n            onClose(...args);\n        }\n    }, [form.isSubmitting, onClose]);\n    const submissionError = form.submissionError;\n    return (React.createElement(FormProvider, { form: form },\n        React.createElement(DialogTitle, null, (() => {\n            if (isUpdate) {\n                return form.isSubmitting ? \"Updating Refund...\" : \"Update Refund\";\n            }\n            else {\n                return form.isSubmitting ? \"Adding Refund...\" : \"Add Refund\";\n            }\n        })()),\n        submissionError ? (React.createElement(DialogContent, { dividers: true },\n            React.createElement(Typography, { color: \"error\" }, \"Submission Error:\"),\n            React.createElement(Typography, { color: \"error\" }, submissionError.message))) : (React.createElement(DialogContent, { dividers: true, className: classes.dialogContent },\n            form.loading && React.createElement(OverlayLoading, { zIndex: \"modal\" }),\n            React.createElement(Grid, { spacing: 3, container: true },\n                React.createElement(Grid, { ...inputGridItemProps }, refundInputs.dateInput),\n                React.createElement(Grid, { ...inputGridItemProps }, refundInputs.paymentMethodInput),\n                React.createElement(Grid, { ...inputGridItemProps }, refundInputs.descriptionInput),\n                React.createElement(Grid, { ...inputGridItemProps }, refundInputs.totalInput),\n                isUpdate && (React.createElement(Grid, { ...inputGridItemProps }, refundInputs.reconciledInput))))),\n        React.createElement(DialogActions, null,\n            React.createElement(AsyncButton, { color: \"primary\", showProgress: form.isSubmitting &&\n                    !!submitButton &&\n                    submitButton === addRef.current, disabled: form.isSubmitting || form.loading || !!submissionError, type: \"submit\", variant: \"contained\", startIcon: React.createElement(AddIcon, null), ref: addRef, onClick: useCallback(() => {\n                    setSubmitButton(addRef.current);\n                }, []) }, isUpdate ? \"Update\" : \"Add\"),\n            React.createElement(Button, { type: \"reset\", disabled: form.isSubmitting, variant: \"text\", onClick: useCallback((event) => {\n                    handleClose(event, \"cancel\");\n                }, [handleClose]) }, form.submissionError ? \"Ok\" : \"Cancel\"))));\n};\nexport const UpsertRefund = forwardRef(function UpsertRefund(props, ref) {\n    var _a;\n    const formRef = useRef(null);\n    const onClose = props.dialogProps.onClose;\n    const handleClose = useCallback((...args) => {\n        var _a;\n        if ((_a = formRef.current) === null || _a === void 0 ? void 0 : _a.isSubmitting) {\n            return;\n        }\n        if (onClose) {\n            onClose(...args);\n        }\n    }, [onClose]);\n    return (React.createElement(Dialog, { ...props.dialogProps, onClose: handleClose, PaperProps: useMemo(() => ({\n            component: \"form\",\n            onSubmit: (e) => {\n                var _a, _b;\n                e.preventDefault();\n                if (!((_a = formRef.current) === null || _a === void 0 ? void 0 : _a.isSubmitting)) {\n                    (_b = formRef.current) === null || _b === void 0 ? void 0 : _b.handleSubmit(e);\n                }\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        }), []), disableEscapeKeyDown: (_a = formRef.current) === null || _a === void 0 ? void 0 : _a.isSubmitting, ref: ref },\n        React.createElement(InnerDialog, { ...props, formRef: formRef })));\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXBzZXJ0UmVmdW5kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9mb3Jtcy9VcHNlcnRSZWZ1bmQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQ1osVUFBVSxFQUdWLFdBQVcsRUFDWCxTQUFTLEVBQ1QsT0FBTyxFQUNQLE1BQU0sRUFDTixRQUFRLEdBQ1QsTUFBTSxPQUFPLENBQUM7QUFDZixPQUFPLEVBQ0wsTUFBTSxFQUVOLE1BQU0sRUFDTixhQUFhLEVBQ2IsYUFBYSxFQUViLFdBQVcsRUFDWCxJQUFJLEVBQ0osVUFBVSxFQUNWLFVBQVUsR0FDWCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxHQUFHLElBQUksT0FBTyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDcEQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JDLE9BQU8sRUFBdUIsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHeEUsT0FBTyxFQUNMLFlBQVksRUFHWixPQUFPLEdBQ1IsTUFBTSw4QkFBOEIsQ0FBQztBQUN0QyxPQUFPLEVBR0wsU0FBUyxHQUNWLE1BQU0scUNBQXFDLENBQUM7QUFDN0MsT0FBTyxFQUVMLGtCQUFrQixFQUNsQix5QkFBeUIsR0FDMUIsTUFBTSxVQUFVLENBQUM7QUFDbEIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3pELE9BQU8sY0FBYyxNQUFNLCtCQUErQixDQUFDO0FBQzNELE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBUzVDLE9BQU8sRUFBRSxhQUFhLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUM5RSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUV0RSxNQUFNLENBQUMsTUFB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","import React, { useCallback, useMemo, useRef } from \"react\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, makeStyles, Typography, } from \"@material-ui/core\";\nimport { Delete as DeleteIcon } from \"@material-ui/icons\";\nimport { gql, useMutation, useQuery } from \"@apollo/client\";\nimport { AsyncButton } from \"../../../utils/AsyncButton\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport { deserializeRational } from \"../../../../apollo/scalars\";\nimport { ENTRY, REFUND } from \"../Grid.gql\";\nconst DELETE_ENTRY_STATE = gql `\n  query DeleteEntryState($id: ID!) {\n    entry(id: $id) {\n      __typename\n      id\n      total\n    }\n  }\n`;\nconst DELETE_REFUND_STATE = gql `\n  query DeleteRefundState($id: ID!) {\n    entryRefund(id: $id) {\n      __typename\n      id\n      total\n    }\n  }\n`;\nconst DELETE_ENTRY = gql `\n  mutation DeleteEntry($id: ID!) {\n    deleteEntry(id: $id) {\n      deletedEntry {\n        ...GridEntry\n      }\n    }\n  }\n  ${ENTRY}\n`;\nconst DELETE_ENTRY_REFUND = gql `\n  mutation DeleteEntryRefund($id: ID!) {\n    deleteEntryRefund(id: $id) {\n      deletedEntryRefund {\n        ...GridRefund\n      }\n    }\n  }\n  ${REFUND}\n`;\nconst useStyles = makeStyles({\n    dialogContent: {\n        position: \"relative\",\n    },\n});\nconst InnerDialog = (props) => {\n    var _a, _b, _c, _d;\n    const classes = useStyles();\n    const [deleteEntryId, deleteRefundId, dialogProps] = (() => {\n        if (\"deleteEntryId\" in props) {\n            const { deleteEntryId, ...rest } = props;\n            return [deleteEntryId, undefined, rest];\n        }\n        else if (\"deleteRefundId\" in props) {\n            const { deleteRefundId, ...rest } = props;\n            return [undefined, deleteRefundId, rest];\n        }\n        else {\n            return [undefined, undefined, props];\n        }\n    })();\n    const deleteEntryState = useQuery(DELETE_ENTRY_STATE, useMemo(() => ({\n        skip: !deleteEntryId,\n        variables: {\n            id: deleteEntryId,\n        },\n    }), [deleteEntryId]));\n    const deleteRefundState = useQuery(DELETE_REFUND_STATE, useMemo(() => ({\n        skip: !deleteRefundId,\n        variables: {\n            id: deleteRefundId,\n        },\n    }), [deleteRefundId]));\n    const [deleteEntry, deleteEntryResult] = useMutation(DELETE_ENTRY);\n    const [deleteEntryRefund, deleteEntryRefundResult] = useMutation(DELETE_ENTRY_REFUND);\n    const loading = deleteEntryState.loading ||\n        deleteRefundState.loading ||\n        deleteEntryResult.loading ||\n        deleteEntryRefundResult.loading;\n    const error = deleteEntryState.error ||\n        deleteRefundState.error ||\n        deleteEntryResult.error ||\n        deleteEntryRefundResult.error;\n    const { onClose: onCloseProp } = dialogProps;\n    const handleClose = useCallback((...args) => {\n        if (loading && args[1] !== \"success\") {\n            return;\n        }\n        if (onCloseProp) {\n            onCloseProp(...args);\n        }\n    }, [loading, onCloseProp]);\n    props.handleCloseRef.current = handleClose;\n    const deleteRef = useRef(null);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(DialogTitle, null, (() => {\n            if (deleteEntryResult.loading || deleteEntryRefundResult.loading) {\n                return deleteRefundId ? \"Deleting refund...\" : \"Deleting entry...\";\n            }\n            else {\n                return deleteRefundId ? \"Delete refund\" : \"Delete entry\";\n            }\n        })()),\n        React.createElement(DialogContent, { className: classes.dialogContent },\n            useMemo(() => {\n                var _a, _b, _c, _d;\n                const currencyFormat = new Intl.NumberFormat(\"en-US\", {\n                    style: \"currency\",\n                    currency: \"USD\",\n                });\n                const total = ((_b = (_a = deleteEntryState === null || deleteEntryState === void 0 ? void 0 : deleteEntryState.data) === null || _a === void 0 ? void 0 : _a.entry) === null || _b === void 0 ? void 0 : _b.total) ||\n                    ((_d = (_c = deleteRefundState === null || deleteRefundState === void 0 ? void 0 : deleteRefundState.data) === null || _c === void 0 ? void 0 : _c.entryRefund) === null || _d === void 0 ? void 0 : _d.total);\n                const msg = `Delete ${deleteRefundId ? \"Refund\" : \"Entry\"}`;\n                if (error) {\n                    return React.createElement(Typography, { color: \"error\" }, error.message);\n                }\n                else if (total) {\n                    return `${msg} in the amount of ${currencyFormat.format(deserializeRational(total).valueOf())}`;\n                }\n                else {\n                    return msg;\n                }\n            }, [\n                (_b = (_a = deleteEntryState === null || deleteEntryState === void 0 ? void 0 : deleteEntryState.data) === null || _a === void 0 ? void 0 : _a.entry) === null || _b === void 0 ? void 0 : _b.total,\n                deleteRefundId,\n                (_d = (_c = deleteRefundState === null || deleteRefundState === void 0 ? void 0 : deleteRefundState.data) === null || _c === void 0 ? void 0 : _c.entryRefund) === null || _d === void 0 ? void 0 : _d.total,\n                error,\n            ]),\n            (deleteEntryState.loading || deleteRefundState.loading || loading) && (React.createElement(OverlayLoading, { zIndex: \"modal\" }))),\n        React.createElement(DialogActions, null,\n            React.createElement(AsyncButton, { color: \"primary\", showProgress: loading, disabled: (!deleteEntryId && !deleteRefundId) || loading || !!error, type: \"submit\", variant: \"contained\", startIcon: React.createElement(DeleteIcon, null), ref: deleteRef, onClick: useCallback(async (e) => {\n                    let errors;\n                    if (deleteEntryId) {\n                        ({ errors } = await deleteEntry({\n                            variables: {\n                                id: deleteEntryId,\n                            },\n                        }));\n                    }\n                    else if (deleteRefundId) {\n                        ({ errors } = await deleteEntryRefund({\n                            variables: {\n                                id: deleteRefundId,\n                            },\n                        }));\n                    }\n                    if (!(errors === null || errors === void 0 ? void 0 : errors.length)) {\n                        handleClose(e, \"success\");\n                    }\n                }, [\n                    deleteEntry,\n                    deleteEntryId,\n                    deleteEntryRefund,\n                    deleteRefundId,\n                    handleClose,\n                ]) }, \"Delete\"),\n            React.createElement(Button, { type: \"reset\", disabled: loading, variant: \"text\", onClick: useCallback((event) => {\n                    handleClose(event, \"cancel\");\n                }, [handleClose]) }, error ? \"Ok\" : \"Cancel\"))));\n};\nexport const DeleteEntry = (props) => {\n    const handleCloseRef = useRef();\n    return (React.createElement(Dialog, { ...props, onClose: useCallback((...args) => {\n            if (handleCloseRef.current) {\n                handleCloseRef.current(...args);\n            }\n        }, []) },\n        React.createElement(InnerDialog, { ...props, handleCloseRef: handleCloseRef })));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVsZXRlRW50cnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL0RhdGFHcmlkL2Zvcm1zL0RlbGV0ZUVudHJ5LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFvQixXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUM5RSxPQUFPLEVBQ0wsTUFBTSxFQUVOLE1BQU0sRUFDTixhQUFhLEVBQ2IsYUFBYSxFQUViLFdBQVcsRUFDWCxVQUFVLEVBQ1YsVUFBVSxHQUNYLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLE1BQU0sSUFBSSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUU1RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFXekQsT0FBTyxjQUFjLE1BQU0sK0JBQStCLENBQUM7QUFDM0QsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDakUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFJNUMsTUFBTSxrQkFBa0IsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7O0NBUTdCLENBQUM7QUFFRixNQUFNLG1CQUFtQixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Q0FROUIsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7SUFRcEIsS0FBSztDQUNSLENBQUM7QUFFRixNQUFNLG1CQUFtQixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7SUFRM0IsTUFBTTtDQUNULENBQUM7QUFFRixNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUM7SUFDM0IsYUFBYSxFQUFFO1FBQ2IsUUFBUSxFQUFFLFVBQVU7S0FDckI7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","import React, { useCallback, useMemo, useRef } from \"react\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, makeStyles, Typography, } from \"@material-ui/core\";\nimport { DoneAll as ReconcileIcon } from \"@material-ui/icons\";\nimport { gql, useMutation } from \"@apollo/client\";\nimport { AsyncButton } from \"../../../utils/AsyncButton\";\nimport OverlayLoading from \"../../../utils/OverlayLoading\";\nimport { ENTRY, REFUND } from \"../Grid.gql\";\nconst useStyles = makeStyles({\n    dialogContent: {\n        position: \"relative\",\n    },\n});\nconst RECONCILE_ENTRIES = gql `\n  mutation ReconcileEntries($input: ReconcileEntries!) {\n    reconcileEntries(input: $input) {\n      reconciledEntries {\n        ...GridEntry\n      }\n      reconciledRefunds {\n        ...GridRefund\n      }\n    }\n  }\n  ${ENTRY}\n  ${REFUND}\n`;\nconst InnerDialog = (props) => {\n    const classes = useStyles();\n    const { entryIds, refundIds, dialogProps } = props;\n    const { onClose: onCloseProp } = dialogProps;\n    const [reconcileEntries, { loading, error }] = useMutation(RECONCILE_ENTRIES, useMemo(() => ({\n        variables: {\n            input: {\n                entries: entryIds,\n                refunds: refundIds,\n            },\n        },\n    }), [entryIds, refundIds]));\n    const handleClose = useCallback((...args) => {\n        if (loading && args[1] !== \"success\") {\n            return;\n        }\n        if (onCloseProp) {\n            onCloseProp(...args);\n        }\n    }, [loading, onCloseProp]);\n    props.handleCloseRef.current = handleClose;\n    const deleteRef = useRef(null);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(DialogTitle, null, \"Reconcile\"),\n        React.createElement(DialogContent, { className: classes.dialogContent },\n            useMemo(() => {\n                if (error) {\n                    return React.createElement(Typography, { color: \"error\" }, error.message);\n                }\n                let msg = \"\";\n                if (entryIds === null || entryIds === void 0 ? void 0 : entryIds.length) {\n                    msg = `${entryIds.length} ${entryIds.length === 1 ? \"entry\" : \"entries\"}`;\n                }\n                if (refundIds === null || refundIds === void 0 ? void 0 : refundIds.length) {\n                    msg += `${msg ? \" and \" : \"\"}${refundIds.length} ${refundIds.length === 1 ? \"refund\" : \"refunds\"}`;\n                }\n                return `${msg}.`;\n            }, [entryIds === null || entryIds === void 0 ? void 0 : entryIds.length, error, refundIds === null || refundIds === void 0 ? void 0 : refundIds.length]),\n            loading && React.createElement(OverlayLoading, { zIndex: \"modal\" })),\n        React.createElement(DialogActions, null,\n            React.createElement(AsyncButton, { color: \"primary\", showProgress: loading, disabled: (!(entryIds === null || entryIds === void 0 ? void 0 : entryIds.length) && !(refundIds === null || refundIds === void 0 ? void 0 : refundIds.length)) || loading || !!error, type: \"submit\", variant: \"contained\", startIcon: React.createElement(ReconcileIcon, null), ref: deleteRef, onClick: useCallback(async (e) => {\n                    const { errors } = await reconcileEntries();\n                    if (!(errors === null || errors === void 0 ? void 0 : errors.length)) {\n                        handleClose(e, \"success\");\n                    }\n                }, [handleClose, reconcileEntries]) }, \"Reconcile\"),\n            React.createElement(Button, { type: \"reset\", disabled: loading, variant: \"text\", onClick: useCallback((event) => {\n                    handleClose(event, \"cancel\");\n                }, [handleClose]) }, error ? \"Ok\" : \"Cancel\"))));\n};\nexport const ReconcileEntries = (props) => {\n    const handleCloseRef = useRef();\n    return (React.createElement(Dialog, { ...props.dialogProps, onClose: useCallback((...args) => {\n            if (handleCloseRef.current) {\n                handleCloseRef.current(...args);\n            }\n        }, []) },\n        React.createElement(InnerDialog, { ...props, handleCloseRef: handleCloseRef })));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVjb25jaWxlRW50cmllcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvRGF0YUdyaWQvZm9ybXMvUmVjb25jaWxlRW50cmllcy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBb0IsV0FBVyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUUsT0FBTyxFQUNMLE1BQU0sRUFFTixNQUFNLEVBQ04sYUFBYSxFQUNiLGFBQWEsRUFFYixXQUFXLEVBQ1gsVUFBVSxFQUNWLFVBQVUsR0FDWCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxPQUFPLElBQUksYUFBYSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDOUQsT0FBTyxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVsRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDekQsT0FBTyxjQUFjLE1BQU0sK0JBQStCLENBQUM7QUFDM0QsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFPNUMsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDO0lBQzNCLGFBQWEsRUFBRTtRQUNiLFFBQVEsRUFBRSxVQUFVO0tBQ3JCO0NBQ0YsQ0FBQyxDQUFDO0FBRUgsTUFBTSxpQkFBaUIsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7O0lBV3pCLEtBQUs7SUFDTCxNQUFNO0NBQ1QsQ0FBQztBQVNGLE1BQU0sV0FBVyxHQUFHLENBQ2xCLEtBSUMsRUFDWSxFQUFFO0lBQ2YsTUFBTSxPQUFPLEdBQUcsU0FBUyxFQUFFLENBQUM7SUFFNUIsTUFBTSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRW5ELE1BQU0sRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLEdB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","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useCallback, useMemo, useRef, useState, } from \"react\";\nimport { Action, Getter, Plugin, Template, TemplateConnector, TemplatePlaceholder, } from \"@devexpress/dx-react-core\";\nimport { EditingState, IntegratedSelection, SelectionState, TableFilterRow, } from \"@devexpress/dx-react-grid\";\nimport { Table, TableHeaderRow, TableEditColumn, TableSelection, TableFixedColumns, } from \"@devexpress/dx-react-grid-material-ui\";\nimport { Tooltip, IconButton, ListItemIcon, ListItemText, Menu, MenuItem, SvgIcon, TableCell, Dialog, DialogTitle, DialogContent, TextField, DialogActions, Button, Typography, Divider, List, ListItem, ListItemSecondaryAction, } from \"@material-ui/core\";\nimport { MoreVert as MoreVertIcon, AddCircle as AddCircleIcon, Delete as DeleteIcon, DoneAll as ReconcileIcon, Save as SaveIcon, FilterList as FilterListIcon, Clear as ClearIcon, Edit as EditIcon, } from \"@material-ui/icons\";\nimport { UpsertEntry } from \"../forms/UpsertEntry\";\nimport { UpsertRefund } from \"../forms/UpsertRefund\";\nimport { DeleteEntry } from \"../forms/DeleteEntry\";\nimport { EntryType } from \"../../../../apollo/graphTypes\";\nimport { ReconcileEntries, } from \"../forms/ReconcileEntries\";\nconst AddRefund = (props) => {\n    return (React.createElement(SvgIcon, { ...props },\n        React.createElement(\"path\", { d: \"M2,15V12H5V10L9,13.5L5,17V15H2M22,8.7V10H10V8.7L16,5L22,8.7M10,17H22V19H10V17M15,11H17V16H15V11M11,11H13V16H11V11M19,11H21V16H19V11Z\" })));\n};\nconst GiveRefund = (props) => {\n    return (React.createElement(SvgIcon, { ...props },\n        React.createElement(\"path\", { d: \"M15,15V12H18V10L22,13.5L18,17V15H15M14,8.7V10H2V8.7L8,5L14,8.7M2,17H14V19H2V17M7,11H9V16H7V11M3,11H5V16H3V11M11,11H13V16H11V11Z\" })));\n};\nconst onCommitChanges = () => undefined;\nexport const EntryActionState = ({ reconcileMode: reconcileModeProp, upsertEntryProps, upsertRefundProps, deleteEntryProps, reconcileEntriesProps, }) => {\n    const [reconcileMode, setReconcileMode] = useState(!!reconcileModeProp);\n    const [confirmReconcile, setConfirmReconcile] = useState(false);\n    return (React.createElement(Plugin, { name: \"EntryActionState\" },\n        React.createElement(SelectionState, null),\n        React.createElement(Getter, { name: \"reconcileMode\", value: reconcileMode }),\n        React.createElement(Getter, { name: \"confirmReconcile\", value: confirmReconcile }),\n        React.createElement(Action, { name: \"toggleConfirmReconcile\", action: useCallback((showConfirmReconcile, { selection, reconcileMode }) => {\n                if (reconcileMode && showConfirmReconcile && !selection.length) {\n                    return;\n                }\n                setConfirmReconcile(showConfirmReconcile);\n            }, []) }),\n        React.createElement(Getter, { name: \"selection\", computed: useCallback(({ selection, reconcileMode }) => (reconcileMode ? selection : []), []) }),\n        React.createElement(IntegratedSelection, null),\n        React.createElement(Action, { name: \"changeReconcileMode\", action: useCallback((reconcileMode, { selection }, { toggleSelectAll }) => {\n                setReconcileMode(reconcileMode);\n                if (selection.length) {\n                    toggleSelectAll(false);\n                }\n            }, []) }),\n        React.createElement(Getter, { name: \"rows\", computed: useCallback(({ rows, reconcileMode }) => reconcileMode\n                ? rows.filter(({ reconciled }) => !reconciled)\n                : rows, []) }),\n        React.createElement(EditingState, { onCommitChanges: onCommitChanges }),\n        React.createElement(Getter, { name: \"upsertEntryProps\", value: upsertEntryProps }),\n        React.createElement(Getter, { name: \"upsertRefundProps\", value: upsertRefundProps }),\n        React.createElement(Getter, { name: \"deleteEntryProps\", value: deleteEntryProps }),\n        React.createElement(Getter, { name: \"reconcileEntriesProps\", value: reconcileEntriesProps })));\n};\nconst SelectHeaderCell = React.memo(function SelectHeaderCell(props) {\n    const { \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    allSelected, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    tableColumn, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    tableRow, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    disabled, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    onToggle, someSelected, toggleConfirmReconcile, ...rest } = props;\n    return (React.createElement(TableCell, { ...rest, align: \"center\", padding: \"checkbox\", variant: \"head\" },\n        React.createElement(IconButton, { onClick: useCallback(() => toggleConfirmReconcile(true), [toggleConfirmReconcile]), disabled: !someSelected, size: \"small\", color: \"secondary\" },\n            React.createElement(ReconcileIcon, null))));\n});\nconst EditColumnCell = React.memo(function EditColumnCell(props) {\n    const { addedRows, addRow, startEditRows, changeAddedRow, deleteRows, ...rest } = props;\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const row = props.row;\n    const handelClickEdit = useCallback(() => {\n        setAnchorEl(null);\n        startEditRows({ rowIds: [row.id] });\n    }, [row.id, startEditRows]);\n    const handleClickRefund = useCallback(() => {\n        setAnchorEl(null);\n        addRow();\n        changeAddedRow({\n            rowId: addedRows.length,\n            change: {\n                __typename: \"EntryRefund\",\n                // Make the id the entry id to associate with the refund.\n                id: row.id,\n            },\n        });\n    }, [addRow, addedRows.length, changeAddedRow, row.id]);\n    const handleClickDelete = useCallback(() => {\n        setAnchorEl(null);\n        deleteRows({ rowIds: [row.id] });\n    }, [deleteRows, row.id]);\n    return (React.createElement(TableEditColumn.Cell, { ...rest },\n        React.createElement(IconButton, { onClick: handleClick },\n            React.createElement(MoreVertIcon, null)),\n        React.createElement(Menu, { anchorEl: anchorEl, keepMounted: true, open: open, onClose: handleClose },\n            React.createElement(MenuItem, { onClick: handelClickEdit },\n                React.createElement(ListItemIcon, null,\n                    React.createElement(EditIcon, { fontSize: \"small\" })),\n                React.createElement(ListItemText, { primary: \"Edit\" })),\n            row.__typename === \"Entry\" &&\n                (row.category.type === EntryType.Credit ? (React.createElement(MenuItem, { onClick: handleClickRefund },\n                    React.createElement(ListItemIcon, null,\n                        React.createElement(GiveRefund, { fontSize: \"small\" })),\n                    React.createElement(ListItemText, { primary: \"Give Refund\" }))) : (React.createElement(MenuItem, { onClick: handleClickRefund },\n                    React.createElement(ListItemIcon, null,\n                        React.createElement(AddRefund, { fontSize: \"small\" })),\n                    React.createElement(ListItemText, { primary: \"Add Refund\" })))),\n            React.createElement(MenuItem, { onClick: handleClickDelete },\n                React.createElement(ListItemIcon, null,\n                    React.createElement(DeleteIcon, { fontSize: \"small\" })),\n                React.createElement(ListItemText, { primary: \"Delete\" })))));\n});\nconst EditColumnHeaderCell = React.memo(function EditColumnHeaderCell(props) {\n    const { addRow, ...rest } = props;\n    const handelClick = useCallback(() => addRow(), [addRow]);\n    return (React.createElement(TableEditColumn.HeaderCell, { ...rest },\n        React.createElement(IconButton, { onClick: handelClick, color: \"secondary\", size: \"medium\" },\n            React.createElement(AddCircleIcon, null))));\n});\nconst dialogPaperProps = {\n    component: \"form\",\n    onSubmit: (event) => void event.preventDefault(),\n};\nconst EditColumnFilterHeaderCellInternal = (props) => {\n    const { filters, hasNamedFilters, hasColumnFilters, namedFilters, namedFilterChanges, loadedNamedFilter, addedNamedFilters, deletedNamedFilters, clearColumnFilters, addNamedFilters, cancelAddedNamedFilters, commitAddedNamedFilters, changeAddedNamedFilter, changeNamedFilter, cancelChangedNamedFilters, commitChangedNamedFilters, loadNamedFilter, deleteNamedFilters, cancelDeletedNamedFilters, commitDeletedNamedFilters, ...rest } = props;\n    // Save named filter\n    const [addedNamedFilter] = addedNamedFilters;\n    const handleAddNamedFilter = useCallback(() => void addNamedFilters([\n        {\n            name: \"\",\n            filters,\n        },\n    ]), [addNamedFilters, filters]);\n    const handleFilterNameChange = useCallback((event) => void changeAddedNamedFilter({\n        name: addedNamedFilter.name,\n        change: {\n            name: event.target.value || \"\",\n        },\n    }), [addedNamedFilter === null || addedNamedFilter === void 0 ? void 0 : addedNamedFilter.name, changeAddedNamedFilter]);\n    const handleCancelNamedFilters = useCallback(() => void cancelAddedNamedFilters(addedNamedFilters.map(({ name }) => name)), [addedNamedFilters, cancelAddedNamedFilters]);\n    // Modify named filters\n    const [editingNamedFilterNames, setEditingNameFilterNames] = useState(new Set());\n    const handleChangeNamedFilter = useCallback(() => {\n        changeNamedFilter();\n        setOpen(false);\n    }, [changeNamedFilter]);\n    const handleCancelNamedFiltersChanges = useCallback(() => {\n        cancelChangedNamedFilters();\n        cancelDeletedNamedFilters();\n    }, [cancelChangedNamedFilters, cancelDeletedNamedFilters]);\n    const handleCommitNamedFiltersChanges = useCallback(() => {\n        commitChangedNamedFilters();\n        commitDeletedNamedFilters();\n    }, [commitChangedNamedFilters, commitDeletedNamedFilters]);\n    // Named filters\n    const [open, setOpen] = useState(false);\n    const handleOpen = useCallback(() => void setOpen(true), []);\n    const handleClose = useCallback(() => void setOpen(false), []);\n    const anchorElRef = useRef(null);\n    // Cleanup\n    const transitionProps = useMemo(() => ({\n        onExited: () => {\n            setEditingNameFilterNames(new Set());\n        },\n    }), []);\n    return (React.createElement(TableEditColumn.HeaderCell, { ...rest }, hasColumnFilters ? (React.createElement(React.Fragment, null,\n        React.createElement(Tooltip, { title: \"Clear Filters\" },\n            React.createElement(IconButton, { size: \"medium\", onClick: clearColumnFilters },\n                React.createElement(ClearIcon, null))),\n        !loadedNamedFilter && (React.createElement(Tooltip, { title: \"Save Filter\" },\n            React.createElement(IconButton, { size: \"medium\", onClick: handleAddNamedFilter },\n                React.createElement(SaveIcon, null)))),\n        React.createElement(Dialog, { open: !!addedNamedFilter, maxWidth: \"xs\", fullWidth: true, keepMounted: false, PaperProps: dialogPaperProps },\n            React.createElement(DialogTitle, null, \"Save Filter\"),\n            React.createElement(DialogContent, null,\n                React.createElement(TextField, { variant: \"filled\", autoFocus: true, margin: \"dense\", id: \"name\", label: \"Filter Name\", type: \"text\", fullWidth: true, value: (addedNamedFilter === null || addedNamedFilter === void 0 ? void 0 : addedNamedFilter.name) || \"\", onChange: handleFilterNameChange })),\n            React.createElement(DialogActions, null,\n                React.createElement(Button, { type: \"submit\", variant: \"contained\", disabled: !(addedNamedFilter === null || addedNamedFilter === void 0 ? void 0 : addedNamedFilter.name), onClick: () => void commitAddedNamedFilters({\n                        load: addedNamedFilter.name,\n                    }), color: \"primary\" }, \"Save\"),\n                React.createElement(Button, { onClick: handleCancelNamedFilters }, \"Cancel\"))))) : hasNamedFilters ? (React.createElement(React.Fragment, null,\n        React.createElement(Tooltip, { title: \"Saved Filters\" },\n            React.createElement(IconButton, { ref: anchorElRef, size: \"medium\", onClick: handleOpen },\n                React.createElement(FilterListIcon, null))),\n        React.createElement(Menu, { anchorEl: anchorElRef.current, keepMounted: false, open: open && Boolean(anchorElRef.current), onClose: handleClose }, (() => {\n            const menuItems = Object.keys(namedFilters || {}).map((namedFilter) => (React.createElement(MenuItem, { key: namedFilter, selected: namedFilter === loadedNamedFilter, onClick: () => {\n                    setOpen(false);\n                    void loadNamedFilter(namedFilter);\n                } }, namedFilter)));\n            menuItems.push(React.createElement(Divider, { key: \"_divider\" }), React.createElement(MenuItem, { key: \"_edit\", onClick: handleChangeNamedFilter },\n                React.createElement(ListItemIcon, null,\n                    React.createElement(EditIcon, { fontSize: \"small\" })),\n                React.createElement(Typography, { variant: \"inherit\" }, \"Edit\")));\n            return menuItems;\n        })()),\n        React.createElement(Dialog, { open: !!namedFilterChanges, maxWidth: \"xs\", fullWidth: true, keepMounted: false, TransitionProps: transitionProps, PaperProps: dialogPaperProps },\n            React.createElement(DialogContent, null,\n                React.createElement(DialogTitle, null, \"Edit Filters\"),\n                React.createElement(List, null, (() => {\n                    const namedFiltersSet = new Set([\n                        ...Object.keys(namedFilters || {}),\n                    ]);\n                    Object.keys(namedFilterChanges || {}).forEach((namedFilter) => namedFiltersSet.add(namedFilter));\n                    return [...namedFiltersSet].reduce((items, namedFilter) => {\n                        var _a, _b;\n                        if (deletedNamedFilters.includes(namedFilter)) {\n                            return items;\n                        }\n                        const name = (_b = (_a = (namedFilterChanges || {})[namedFilter]) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : namedFilter;\n                        items.push(React.createElement(ListItem, { button: true, key: namedFilter, onClick: () => setEditingNameFilterNames((state) => new Set([...state, namedFilter])) }, editingNamedFilterNames.has(namedFilter) ? (React.createElement(TextField, { variant: \"standard\", margin: \"none\", size: \"small\", fullWidth: true, autoFocus: true, value: name, onBlur: () => setEditingNameFilterNames((state) => {\n                                const newState = new Set([...state]);\n                                newState.delete(namedFilter);\n                                return newState;\n                            }), onChange: (event) => changeNamedFilter({\n                                name: namedFilter,\n                                change: {\n                                    name: event.target.value || \"\",\n                                },\n                            }) })) : (React.createElement(React.Fragment, null,\n                            React.createElement(ListItemText, { primary: name }),\n                            React.createElement(ListItemSecondaryAction, { onClick: (event) => {\n                                    event.stopPropagation();\n                                    void deleteNamedFilters([namedFilter]);\n                                } },\n                                React.createElement(IconButton, { edge: \"end\" },\n                                    React.createElement(DeleteIcon, null)))))));\n                        return items;\n                    }, []);\n                })())),\n            React.createElement(DialogActions, null,\n                React.createElement(Button, { type: \"submit\", disabled: !(Object.keys(namedFilterChanges || {}).length ||\n                        deletedNamedFilters.length), variant: \"contained\", color: \"primary\", onClick: handleCommitNamedFiltersChanges }, \"Save\"),\n                React.createElement(Button, { onClick: handleCancelNamedFiltersChanges }, \"Cancel\"))))) : null));\n};\n/**\n * Add to TableProps.stubHeaderCellComponent\n */\nexport const EditColumnFilterHeaderCell = React.memo(function EditColumnFilterCell(props) {\n    if (isEditColumnFilterCell(props)) {\n        return React.createElement(EditColumnFilterHeaderCellInternal, { ...props });\n    }\n    return React.createElement(Table.StubHeaderCell, { ...props });\n});\nconst deps = [\n    {\n        name: \"EntryActionState\",\n        optional: false,\n    },\n];\nconst isTableBodyRow = ({ tableRow }) => tableRow.type === Table.ROW_TYPE;\nconst isEditColumnBodyCell = ({ tableRow, tableColumn, }) => tableRow.type === Table.ROW_TYPE &&\n    tableColumn.type === TableEditColumn.COLUMN_TYPE;\nconst isEditColumnHeaderCell = ({ tableRow, tableColumn, }) => tableRow.type === TableHeaderRow.ROW_TYPE &&\n    tableColumn.type === TableEditColumn.COLUMN_TYPE;\nconst isEditColumnFilterCell = ({ tableRow, tableColumn, }) => tableRow.type === TableFilterRow.ROW_TYPE &&\n    tableColumn.type === TableEditColumn.COLUMN_TYPE;\nconst isSelectColumnHeaderCell = ({ tableRow, tableColumn, }) => tableRow.type === TableHeaderRow.ROW_TYPE &&\n    tableColumn.type === TableSelection.COLUMN_TYPE;\nexport const EntryAction = () => (React.createElement(Plugin, { name: \"EntryActionDialog\", dependencies: deps },\n    React.createElement(TableSelection, { showSelectAll: true, selectByRowClick: true, highlightRow: true, showSelectionColumn: true, headerCellComponent: SelectHeaderCell }),\n    React.createElement(TableEditColumn, { cellComponent: EditColumnCell, headerCellComponent: EditColumnHeaderCell, showEditCommand: true, showAddCommand: true, showDeleteCommand: true }),\n    React.createElement(TableFixedColumns, { leftColumns: useMemo(() => [TableEditColumn.COLUMN_TYPE], []) }),\n    React.createElement(Getter, { name: \"tableColumns\", computed: useCallback(({ tableColumns, reconcileMode }) => {\n            return tableColumns.reduce((tableColumns, tableColumn) => {\n                var _a;\n                if (reconcileMode) {\n                    if (tableColumn.type !== TableEditColumn.COLUMN_TYPE &&\n                        ((_a = tableColumn.column) === null || _a === void 0 ? void 0 : _a.name) !== \"reconciled\") {\n                        tableColumns.push(tableColumn.type === TableSelection.COLUMN_TYPE\n                            ? { ...tableColumn, fixed: \"left\" }\n                            : tableColumn);\n                    }\n                }\n                else if (tableColumn.type !== TableSelection.COLUMN_TYPE) {\n                    tableColumns.push(tableColumn.type === TableEditColumn.COLUMN_TYPE\n                        ? { ...tableColumn, fixed: \"left\" }\n                        : tableColumn);\n                }\n                return tableColumns;\n            }, []);\n        }, []) }),\n    React.createElement(Getter, { name: \"hiddenColumnNames\", computed: useCallback(({ hiddenColumnNames, reconcileMode }) => reconcileMode\n            ? [...new Set([...hiddenColumnNames, \"reconciled\"])]\n            : hiddenColumnNames, []) }),\n    React.createElement(Getter, { name: \"isColumnTogglingEnabled\", computed: useCallback(({ isColumnTogglingEnabled, reconcileMode }) => reconcileMode\n            ? (columnName) => {\n                if (reconcileMode && columnName === \"reconciled\") {\n                    return false;\n                }\n                else {\n                    return isColumnTogglingEnabled(columnName);\n                }\n            }\n            : isColumnTogglingEnabled, []) }),\n    React.createElement(Template, { name: \"tableRow\", predicate: isTableBodyRow }, useCallback((params) => (React.createElement(TemplateConnector, null, ({ reconcileMode }, { startEditRows }) => {\n        const row = params.tableRow.row;\n        return (React.createElement(TemplatePlaceholder, { params: {\n                ...params,\n                ...(reconcileMode\n                    ? {}\n                    : {\n                        onDoubleClick: () => {\n                            startEditRows({ rowIds: [row.id] });\n                        },\n                    }),\n            } }));\n    })), [])),\n    React.createElement(Template, { name: \"tableCell\", predicate: isEditColumnBodyCell }, useCallback((params) => (React.createElement(TemplateConnector, null, ({ addedRows }, { addRow, startEditRows, changeAddedRow, deleteRows }) => (React.createElement(TemplatePlaceholder, { params: {\n            ...params,\n            addRow,\n            addedRows,\n            startEditRows,\n            changeAddedRow,\n            deleteRows,\n        } })))), [])),\n    React.createElement(Template, { name: \"tableCell\", predicate: isEditColumnHeaderCell }, useCallback((params) => (React.createElement(TemplateConnector, null, (_, { addRow }) => (React.createElement(TemplatePlaceholder, { params: {\n            ...params,\n            addRow,\n        } })))), [])),\n    React.createElement(Template, { name: \"tableCell\", predicate: isEditColumnFilterCell }, useCallback((params) => (React.createElement(TemplateConnector, null, ({ filters, hasColumnFilters, hasNamedFilters, namedFilters, loadedNamedFilter, addedNamedFilters, namedFilterChanges, deletedNamedFilters, }, { clearColumnFilters, addNamedFilters, cancelAddedNamedFilters, commitAddedNamedFilters, changeAddedNamedFilter, changeNamedFilter, cancelChangedNamedFilters, commitChangedNamedFilters, loadNamedFilter, deleteNamedFilters, cancelDeletedNamedFilters, commitDeletedNamedFilters, }) => (React.createElement(TemplatePlaceholder, { params: {\n            ...params,\n            filters,\n            hasNamedFilters,\n            hasColumnFilters,\n            namedFilters,\n            loadedNamedFilter,\n            addedNamedFilters,\n            namedFilterChanges,\n            deletedNamedFilters,\n            clearColumnFilters,\n            addNamedFilters,\n            cancelAddedNamedFilters,\n            commitAddedNamedFilters,\n            changeAddedNamedFilter,\n            changeNamedFilter,\n            cancelChangedNamedFilters,\n            commitChangedNamedFilters,\n            loadNamedFilter,\n            deleteNamedFilters,\n            cancelDeletedNamedFilters,\n            commitDeletedNamedFilters,\n        } })))), [])),\n    React.createElement(Template, { name: \"tableCell\", predicate: isSelectColumnHeaderCell }, useCallback((params) => (React.createElement(TemplateConnector, null, (_, { toggleConfirmReconcile }) => (React.createElement(TemplatePlaceholder, { params: {\n            ...params,\n            toggleConfirmReconcile,\n        } })))), [])),\n    React.createElement(Template, { name: \"entryActionDialog\" },\n        React.createElement(TemplateConnector, null, useCallback(({ rows, addedRows, editingRowIds, deletedRowIds, upsertEntryProps, upsertRefundProps, deleteEntryProps, reconcileEntriesProps, confirmReconcile, selection, }, { stopEditRows, cancelAddedRows, cancelChangedRows, cancelDeletedRows, toggleConfirmReconcile, toggleSelectAll, }) => {\n            var _a;\n            const isReconcile = confirmReconcile;\n            const isDelete = !isReconcile && !!deletedRowIds.length;\n            const isNew = !isReconcile && !isDelete && !!addedRows.length;\n            // NOTE: on new refunds, the id is the entry id.\n            const id = isNew\n                ? (_a = addedRows[0]) === null || _a === void 0 ? void 0 : _a.id\n                : isDelete\n                    ? deletedRowIds[0]\n                    : editingRowIds[0];\n            const row = isNew\n                ? addedRows[0]\n                : rows.find((entry) => entry.id === id);\n            const isOpen = !!row || isReconcile;\n            const isRefund = (row === null || row === void 0 ? void 0 : row.__typename) === \"EntryRefund\";\n            const handleClose = (_, reason) => {\n                if (isReconcile) {\n                    toggleConfirmReconcile(false);\n                    if (reason === \"success\") {\n                        toggleSelectAll(false);\n                    }\n                }\n                else if (isNew) {\n                    cancelAddedRows({\n                        rowIds: addedRows.map((_, i) => i),\n                    });\n                }\n                else if (isDelete) {\n                    cancelDeletedRows({ rowIds: deletedRowIds });\n                }\n                else {\n                    stopEditRows({ rowIds: editingRowIds });\n                    cancelChangedRows({ rowIds: editingRowIds });\n                }\n            };\n            const selectionSet = new Set(selection);\n            const reconcileEntries = rows.reduce((reconcileEntries, { id, __typename }) => {\n                if (selectionSet.has(id)) {\n                    if (__typename === \"Entry\") {\n                        reconcileEntries[0].push(id);\n                    }\n                    else {\n                        reconcileEntries[1].push(id);\n                    }\n                }\n                return reconcileEntries;\n            }, [[], []]);\n            return (React.createElement(React.Fragment, null,\n                React.createElement(UpsertEntry, { ...upsertEntryProps, entryProps: {\n                        ...upsertEntryProps.entryProps,\n                        updateEntryId: id,\n                    }, dialogProps: {\n                        ...upsertEntryProps.dialogProps,\n                        onClose: handleClose,\n                        open: isOpen && !isRefund && !isDelete && !isReconcile,\n                    } }),\n                React.createElement(UpsertRefund, { ...upsertRefundProps, refundProps: {\n                        ...upsertRefundProps.refundProps,\n                        ...(isNew\n                            ? { entryId: id }\n                            : { updateRefundId: id }),\n                    }, dialogProps: {\n                        ...upsertRefundProps.dialogProps,\n                        onClose: handleClose,\n                        open: isOpen && isRefund && !isDelete,\n                    } }),\n                React.createElement(DeleteEntry, { ...deleteEntryProps, ...(isRefund\n                        ? { deleteRefundId: id || \"\" }\n                        : { deleteEntryId: id || \"\" }), onClose: handleClose, open: isOpen && isDelete }),\n                React.createElement(ReconcileEntries, { ...reconcileEntriesProps, entryIds: reconcileEntries[0], refundIds: reconcileEntries[1], dialogProps: {\n                        ...reconcileEntriesProps\n                            .dialogProps,\n                        onClose: handleClose,\n                        open: isOpen && isReconcile,\n                    } })));\n        }, []))),\n    React.createElement(Template, { name: \"root\" },\n        React.createElement(TemplatePlaceholder, null),\n        React.createElement(TemplatePlaceholder, { name: \"entryActionDialog\" }))));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW50cnlBY3Rpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9wbHVnaW5zL0VudHJ5QWN0aW9ucy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsdURBQXVEO0FBQ3ZELE9BQU8sS0FBSyxFQUFFLEVBRVosV0FBVyxFQUNYLE9BQU8sRUFDUCxNQUFNLEVBQ04sUUFBUSxHQUNULE1BQU0sT0FBTyxDQUFDO0FBQ2YsT0FBTyxFQUNMLE1BQU0sRUFDTixNQUFNLEVBRU4sTUFBTSxFQUNOLFFBQVEsRUFDUixpQkFBaUIsRUFDakIsbUJBQW1CLEdBRXBCLE1BQU0sMkJBQTJCLENBQUM7QUFDbkMsT0FBTyxFQUNMLFlBQVksRUFDWixtQkFBbUIsRUFDbkIsY0FBYyxFQUVkLGNBQWMsR0FDZixNQUFNLDJCQUEyQixDQUFDO0FBQ25DLE9BQU8sRUFDTCxLQUFLLEVBQ0wsY0FBYyxFQUNkLGVBQWUsRUFDZixjQUFjLEVBQ2QsaUJBQWlCLEdBQ2xCLE1BQU0sdUNBQXVDLENBQUM7QUFDL0MsT0FBTyxFQUNMLE9BQU8sRUFDUCxVQUFVLEVBQ1YsWUFBWSxFQUNaLFlBQVksRUFDWixJQUFJLEVBQ0osUUFBUSxFQUNSLE9BQU8sRUFFUCxTQUFTLEVBQ1QsTUFBTSxFQUNOLFdBQVcsRUFDWCxhQUFhLEVBQ2IsU0FBUyxFQUNULGFBQWEsRUFDYixNQUFNLEVBRU4sVUFBVSxFQUNWLE9BQU8sRUFDUCxJQUFJLEVBQ0osUUFBUSxFQUNSLHVCQUF1QixHQUN4QixNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFDTCxRQUFRLElBQUksWUFBWSxFQUN4QixTQUFTLElBQUksYUFBYSxFQUMxQixNQUFNLElBQUksVUFBVSxFQUNwQixPQUFPLElBQUksYUFBYSxFQUN4QixJQUFJLElBQUksUUFBUSxFQUNoQixVQUFVLElBQUksY0FBYyxFQUM1QixLQUFLLElBQUksU0FBUyxFQUNsQixJQUFJLElB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","import { defaultInput } from \"mui-tree-select\";\nexport const inlineInputProps = {\n    margin: \"dense\",\n};\nexport const renderFilterInput = (params) => defaultInput({\n    ...params,\n    InputProps: {\n        ...(params.InputProps || {}),\n        ...inlineInputProps,\n    },\n});\nexport const inlinePadding = {\n    paddingLeft: \"8px\",\n    paddingRight: \"8px\",\n};\nexport const inlinePaddingWithSelector = {\n    paddingRight: \"8px\",\n};\nexport const inlineAutoCompleteProps = {\n    size: \"small\",\n    fullWidth: true,\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hhcmVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9jZWxscy9zaGFyZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFlO0lBQzFDLE1BQU0sRUFBRSxPQUFPO0NBQ2hCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBd0IsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUMvRCxZQUFZLENBQUM7SUFDWCxHQUFHLE1BQU07SUFDVCxVQUFVLEVBQUU7UUFDVixHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUM7UUFDNUIsR0FBRyxnQkFBZ0I7S0FDcEI7Q0FDRixDQUFDLENBQUM7QUFFTCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQXdCO0lBQ2hELFdBQVcsRUFBRSxLQUFLO0lBQ2xCLFlBQVksRUFBRSxLQUFLO0NBQ3BCLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBd0I7SUFDNUQsWUFBWSxFQUFFLEtBQUs7Q0FDcEIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUdoQztJQUNGLElBQUksRUFBRSxPQUFPO0lBQ2IsU0FBUyxFQUFFLElBQUk7Q0FDaEIsQ0FBQyJ9","import React, { useCallback, useMemo } from \"react\";\nimport { Done as DoneIcon } from \"@material-ui/icons\";\nimport { Table, TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport { TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { inlinePadding, inlineInputProps, inlineAutoCompleteProps, } from \"./shared\";\n// Data Cell\nconst boolCellStyle = {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n};\nexport const BoolCell = (props) => {\n    const { value, ...rest } = props;\n    return (React.createElement(Table.Cell, { ...rest },\n        React.createElement(\"div\", { style: boolCellStyle }, value && React.createElement(DoneIcon, { fontSize: \"small\" }))));\n};\n// Filter Cell\nconst renderInput = (params) => {\n    const props = {\n        ...params,\n        InputProps: {\n            ...inlineInputProps,\n            ...params.InputProps,\n        },\n    };\n    return React.createElement(TextField, { ...props });\n};\nconst filterOptions = [true, false];\nexport const BoolFilter = (props) => {\n    const { boolLabels, ...rest } = props;\n    const columnName = props.column.name;\n    const { onFilter, filter } = props;\n    const value = useMemo(() => {\n        var _a;\n        if (filter && \"operation\" in filter) {\n            return (_a = filter.value) !== null && _a !== void 0 ? _a : null;\n        }\n        return null;\n    }, [filter]);\n    const handleChange = useCallback((_, value) => {\n        if (value === null) {\n            onFilter(null);\n        }\n        else {\n            onFilter({\n                columnName,\n                operation: \"equal\",\n                value: value,\n            });\n        }\n    }, [columnName, onFilter]);\n    const getOptionLabel = useCallback((option) => {\n        if (boolLabels) {\n            return option ? boolLabels.trueLabel : boolLabels.falseLabel;\n        }\n        else {\n            return option ? \"True\" : \"False\";\n        }\n    }, [boolLabels]);\n    return (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    React.createElement(TableFilterRow.Cell, { ...rest, style: inlinePadding },\n        React.createElement(Autocomplete, { getOptionLabel: getOptionLabel, renderInput: renderInput, onChange: handleChange, options: filterOptions, value: value, ...inlineAutoCompleteProps })));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm9vbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvRGF0YUdyaWQvY2VsbHMvQm9vbC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxJQUFJLElBQUksUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDdEQsT0FBTyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUM5RSxPQUFPLEVBQUUsU0FBUyxFQUFrQixNQUFNLG1CQUFtQixDQUFDO0FBQzlELE9BQU8sWUFBbUMsTUFBTSwrQkFBK0IsQ0FBQztBQUVoRixPQUFPLEVBQ0wsYUFBYSxFQUNiLGdCQUFnQixFQUNoQix1QkFBdUIsR0FDeEIsTUFBTSxVQUFVLENBQUM7QUFJbEIsWUFBWTtBQUNaLE1BQU0sYUFBYSxHQUF3QjtJQUN6QyxLQUFLLEVBQUUsTUFBTTtJQUNiLE9BQU8sRUFBRSxNQUFNO0lBQ2YsY0FBYyxFQUFFLFFBQVE7Q0FDekIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQTBCLEVBQWUsRUFBRTtJQUNsRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBQ2pDLE9BQU8sQ0FDTCxvQkFBQyxLQUFLLENBQUMsSUFBSSxPQUFNLElBQTRCO1FBQzNDLDZCQUFLLEtBQUssRUFBRSxhQUFhLElBQUcsS0FBSyxJQUFJLG9CQUFDLFFBQVEsSUFBQyxRQUFRLEVBQUMsT0FBTyxHQUFHLENBQU8sQ0FDOUQsQ0FDZCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsY0FBYztBQUNkLE1BQU0sV0FBVyxHQUtFLENBQUMsTUFBTSxFQUFFLEVBQUU7SUFDNUIsTUFBTSxLQUFLLEdBQUc7UUFDWixHQUFHLE1BQU07UUFDVCxVQUFVLEVBQUU7WUFDVixHQUFHLGdCQUFnQjtZQUNuQixHQUFHLE1BQU0sQ0FBQyxVQUFVO1NBQ3JCO0tBQ2dCLENBQUM7SUFFcEIsT0FBTyxvQkFBQyxTQUFTLE9BQUssS0FBSyxHQUFJLENBQUM7QUFDbEMsQ0FBQyxDQUFDO0FBWUYsTUFBTSxhQUFhLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFFcEMsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBc0IsRUFBZSxFQUFFO0lBQ2hFLE1BQU0sRUFBRSxVQUFVLEVBQUUsR0FBRyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFdEMsTUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFJckMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFbkMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRTs7UUFDekIsSUFBSSxNQUFNLElBQUksV0FBVyxJQUFJLE1BQU0sRUFBRTtZQUNuQyxPQUFPLE1BQUEsTUFBTSxDQUFDLEtBQUssbUNBQUksSUFBSSxDQUFDO1NBQzdCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBRWIsTUFBTSxZQUFZLEdBQUcsV0FBVyxDQUM5QixDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNYLElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtZQUNsQixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDaEI7YUFBTTtZQUNMLFFBQVEsQ0FBQztnQkFDUCxVQUFVO2dCQUNWLFNBQVMsRUFBRSxPQUFPO2dCQUNsQixLQUFLLEVBQUUsS0FBSzthQUNiLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQyxFQUNELENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUN2QixDQUFDO0lBRUYsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUNoQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ1QsSUFBSSxVQUFVLEVBQUU7WUFDZCxPQUFPLE1BQU0sQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQztTQUM5RDthQUFNO1lBQ0wsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1NBQ2xDO0lBQ0gsQ0FBQyxFQUNELENBQUMsVUFBVSxDQUFDLENBQ2IsQ0FBQztJQUVGLE9BQU87SUFDTCw4REFBOEQ7SUFDOUQsb0JBQUMsY0FBYyxDQUFDLElBQUksT0FBTSxJQUFZLEVBQUUsS0FBSyxFQUFFLGFBQWE7UUFDMUQsb0JBQUMsWUFBWSxJQUNYLGNBQWMsRUFBRSxjQUFjLEVBQzlCLFdBQVcsRUFBRSxXQUFXLEVBQ3hCLFFBQVEsRUFBRSxZQUFZLEVBQ3RCLE9BQU8sRUFBRSxhQUFhLEVBQ3RCLEtBQUssRUFBRSxLQUFLLEtBQ1IsdUJBQXVCLEdBQzNCLENBQ2tCLENBQ3ZCLENBQUM7QUFDSixDQUFDLENBQUMifQ==","import React, { useCallback, useMemo, useState } from \"react\";\nimport { Table, TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport { IntegratedFiltering } from \"@devexpress/dx-react-grid\";\nimport { capitalCase } from \"capital-case\";\nimport TreeSelect, { BranchNode, ValueNode, } from \"mui-tree-select\";\nimport { EntryType } from \"../../../../apollo/graphTypes\";\nimport { getOptionLabel, getOptionSelected, } from \"../../../Inputs/Category\";\nimport { inlineAutoCompleteProps, inlinePadding, renderFilterInput, } from \"./shared\";\nexport const CategoryCell = (props) => {\n    const { value, ...rest } = props;\n    return (React.createElement(Table.Cell, { ...rest, value: value.name }));\n};\nexport const defaultOptions = [\n    new BranchNode(EntryType.Credit),\n    new BranchNode(EntryType.Debit),\n];\nconst isEntryType = (value) => value === EntryType.Credit || value === EntryType.Debit;\nconst getFilterOptionLabel = (option) => {\n    const value = option.valueOf();\n    if (isEntryType(value)) {\n        return capitalCase(value);\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return getOptionLabel(value);\n    }\n};\nconst getFilterOptionSelected = (option, value) => {\n    const opt = option.valueOf();\n    const val = value.valueOf();\n    const optionIsEntry = isEntryType(opt);\n    const valueIsEntry = isEntryType(val);\n    if (optionIsEntry || valueIsEntry) {\n        return opt === val;\n    }\n    else if (!optionIsEntry && !valueIsEntry) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return getOptionSelected(opt, val);\n    }\n    else {\n        return false;\n    }\n};\nexport const CategoryFilter = (props) => {\n    const { categoryFilterOpts, ...rest } = props;\n    const { filter, onFilter } = props;\n    const columnName = props.column.name;\n    const [state, setState] = useState({\n        branch: null,\n    });\n    const handleBranchChange = useCallback((_, branch) => {\n        setState((state) => ({\n            ...state,\n            branch,\n        }));\n    }, [setState]);\n    const [creditOpts, debitOpts] = useMemo(() => {\n        if (categoryFilterOpts) {\n            return categoryFilterOpts.reduce((parsedOpts, opt) => {\n                if (opt.type === EntryType.Credit) {\n                    parsedOpts[0].push(opt);\n                }\n                else {\n                    parsedOpts[1].push(opt);\n                }\n                return parsedOpts;\n            }, [[], []]);\n        }\n        return [[], []];\n    }, [categoryFilterOpts]);\n    const options = useMemo(() => {\n        if (state.branch) {\n            if (state.branch.valueOf() === EntryType.Credit) {\n                return creditOpts;\n            }\n            else {\n                return debitOpts;\n            }\n        }\n        else {\n            return defaultOptions.reduce((opts, opt) => {\n                if (opt.valueOf() === EntryType.Credit) {\n                    if (creditOpts.length) {\n                        opts.push(opt);\n                    }\n                    opts.push(opt.valueOf());\n                }\n                else {\n                    if (debitOpts.length) {\n                        opts.push(opt);\n                    }\n                    opts.push(opt.valueOf());\n                }\n                return opts;\n            }, []);\n        }\n    }, [creditOpts, debitOpts, state.branch]);\n    const handleChange = useCallback((_, value) => {\n        if (value.length) {\n            onFilter({\n                columnName,\n                operator: \"or\",\n                filters: value.map((option) => ({\n                    operation: \"equal\",\n                    value: option.valueOf(),\n                })),\n            });\n        }\n        else {\n            onFilter(null);\n        }\n    }, [columnName, onFilter]);\n    const value = useMemo(() => {\n        if (!filter) {\n            return [];\n        }\n        else if (\"operator\" in filter) {\n            return filter.filters.reduce((value, filter) => {\n                if (\"operation\" in filter && filter.value) {\n                    value.push(new ValueNode(filter.value, state.branch));\n                }\n                return value;\n            }, []);\n        }\n        return \"operation\" in filter && filter.value\n            ? [new ValueNode(filter.value, state.branch)]\n            : [];\n    }, [filter, state.branch]);\n    return (React.createElement(TableFilterRow.Cell, { ...rest, style: inlinePadding },\n        React.createElement(TreeSelect, { branch: state.branch, disabled: !props.filteringEnabled, getOptionLabel: getFilterOptionLabel, getOptionSelected: getFilterOptionSelected, multiple: true, onBranchChange: handleBranchChange, onChange: handleChange, options: options, renderInput: renderFilterInput, value: value, ...inlineAutoCompleteProps })));\n};\nexport const categoryFilterColumnExtension = (columnName, toString) => ({\n    columnName,\n    predicate: (value, filter, row) => {\n        const filterValue = filter\n            .value;\n        if (filterValue === undefined) {\n            return true;\n        }\n        switch (filter.operation) {\n            case \"equal\":\n                if (isEntryType(filterValue)) {\n                    return (filterValue ===\n                        value.type ||\n                        row.__typename === \"EntryRefund\");\n                }\n                else {\n                    return getOptionSelected(new ValueNode(value), new ValueNode(filterValue));\n                }\n            case \"notEqual\": {\n                if (isEntryType(filterValue)) {\n                    return (filterValue !==\n                        value.type &&\n                        row.__typename === \"Entry\");\n                }\n                else {\n                    return !getOptionSelected(new ValueNode(value), new ValueNode(filterValue));\n                }\n            }\n            default:\n                return IntegratedFiltering.defaultPredicate(toString(value), filter, row);\n        }\n    },\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2F0ZWdvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL0RhdGFHcmlkL2NlbGxzL0NhdGVnb3J5LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQzlELE9BQU8sRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDOUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDaEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMzQyxPQUFPLFVBQVUsRUFBRSxFQUNqQixVQUFVLEVBQ1YsU0FBUyxHQUVWLE1BQU0saUJBQWlCLENBQUM7QUFFekIsT0FBTyxFQUFFLFNBQVMsRUFBcUIsTUFBTSwrQkFBK0IsQ0FBQztBQUc3RSxPQUFPLEVBRUwsY0FBYyxFQUNkLGlCQUFpQixHQUNsQixNQUFNLDBCQUEwQixDQUFDO0FBQ2xDLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsYUFBYSxFQUNiLGlCQUFpQixHQUNsQixNQUFNLFVBQVUsQ0FBQztBQUlsQixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxLQUEwQixFQUFlLEVBQUU7SUFDdEUsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQztJQUVqQyxPQUFPLENBQ0wsb0JBQUMsS0FBSyxDQUFDLElBQUksT0FDTCxJQUFJLEVBQ1IsS0FBSyxFQUFHLEtBQXVDLENBQUMsSUFBSSxHQUNwRCxDQUNILENBQUM7QUFDSixDQUFDLENBQUM7QUFVRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQTRCO0lBQ3JELElBQUksVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7SUFDaEMsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztDQUNoQyxDQUFDO0FBWUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxLQUE2QixFQUFFLEVBQUUsQ0FDcEQsS0FBSyxLQUFLLFNBQVMsQ0FBQyxNQUFNLElBQUksS0FBSyxLQUFLLFNBQVMsQ0FBQyxLQUFLLENBQUM7QUFFMUQsTUFBTSxvQkFBb0IsR0FFdEIsQ0FBQyxNQUFNLEVBQVUsRUFBRTtJQUNyQixNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7SUFFL0IsSUFBSSxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdEIsT0FBTyxXQUFXLENBQUMsS0FBa0IsQ0FBQyxDQUFDO0tBQ3hDO1NBQU07UUFDTCw4REFBOEQ7UUFDOUQsT0FBTyxjQUFjLENBQUMsS0FBWSxDQUFDLENBQUM7S0FDckM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLHVCQUF1QixHQUV6QixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQVcsRUFBRTtJQUM3QixNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDN0IsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBRTVCLE1BQU0sYUFBYSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN2QyxNQUFNLFlBQVksR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFdEMsSUFBSSxhQUFhLElBQUksWUFBWSxFQUFFO1FBQ2pDLE9BQU8sR0FBRyxLQUFLLEdBQUcsQ0FBQztLQUNwQjtTQUFNLElBQUksQ0FBQyxhQUFhLElBQUksQ0FBQyxZQUFZLEVBQUU7UUFDMUMsOERBQThEO1FBQzlELE9BQU8saUJBQWlCLENBQUMsR0FBVSxFQUFFLEdBQVUsQ0FBQyxDQUFDO0tBQ2xEO1NBQU07UUFDTCxPQUFPLEtBQUssQ0FBQztLQUNkO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsS0FBMEIsRUFBZSxFQUFFO0lBQ3hFLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQztJQUU5QyxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLEtBQUssQ0FBQztJQUVuQyxNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUVyQyxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLFFBQVEsQ0FFL0I7UUFDRCxNQUFNLEVBQUUsSUFBSTtLQUNiLENBQUMsQ0FBQztJQUVILE1BQU0sa0JBQWtCLEdBQUcsV0FBVyxDQUdwQyxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRTtRQUNaLFFBQVEsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNuQixHQUFHLEtBQUs7WUFDUixNQUFNO1NBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDTixDQUFDLEVBQ0QsQ0FBQyxRQUFRLENBQUMsQ0FDWCxDQUFDO0lBRUYsTUFBTSxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsR0FBRyxPQUFPLENBS3JDLEdBQUcsRUFBRTtRQUNMLElBQUksa0JBQWtCLEVBQUU7WUFDdEIsT0FBTyxrQkFBa0IsQ0FBQyxNQUFNLENBQzlCLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUNsQixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLE1BQU0sRUFBRTtvQkFDakMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDekI7cUJBQU07b0JBQ0wsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDekI7Z0JBRUQsT0FBTyxVQUFVLENBQUM7WUFDcEIsQ0FBQyxFQUNELENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FHTixDQUNGLENBQUM7U0FDSDtRQUNELE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbEIsQ0FBQyxFQUFFLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO0lBRXpCLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBa0MsR0FBRyxFQUFFO1FBQzVELElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUNoQixJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLEtBQUssU0FBUyxDQUFDLE1BQU0sRUFBRTtnQkFDL0MsT0FBTyxVQUFVLENBQUM7YUFDbkI7aUJBQU07Z0JBQ0wsT0FBTyxTQUFTLENBQUM7YUFDbEI7U0FDRjthQUFNO1lBQ0wsT0FBTyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUN6QyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxTQUFTLENBQUMsTUFBTSxFQUFFO29CQUN0QyxJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUU7d0JBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7cUJBQ2hCO29CQUNELElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7aUJBQzFCO3FCQUFNO29CQUNMLElBQUksU0FBUyxDQUFDLE1BQU0sRUFBRTt3QkFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDaEI7b0JBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztpQkFDMUI7Z0JBRUQsT0FBTyxJQUFJLENBQUM7WUFDZCxDQUFDLEVBQUUsRUFBcUMsQ0FBQyxDQUFDO1NBQzNDO0lBQ0gsQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUUxQyxNQUFNLFlBQVksR0FBRyxXQUFXLENBRzlCLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFO1FBQ1gsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1lBQ2hCLFFBQVEsQ0FBQztnQkFDUCxVQUFVO2dCQUNWLFFBQVEsRUFBRSxJQUFJO2dCQUNkLE9BQU8sRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUM5QixTQUFTLEVBQUUsT0FBTztvQkFDbEIsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQXNCO2lCQUM1QyxDQUFDLENBQUM7YUFDSixDQUFDLENBQUM7U0FDSjthQUFNO1lBQ0wsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2hCO0lBQ0gsQ0FBQyxFQUNELENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUN2QixDQUFDO0lBRUYsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUVuQixHQUFHLEVBQUU7UUFDTCxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1gsT0FBTyxFQUFFLENBQUM7U0FDWDthQUFNLElBQUksVUFBVSxJQUFJLE1BQU0sRUFBRTtZQUMvQixPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO2dCQUM3QyxJQUFJLFdBQVcsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRTtvQkFDekMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2lCQUN2RDtnQkFDRCxPQUFPLEtBQUssQ0FBQztZQUNmLENBQUMsRUFBRSxFQUFpRSxDQUFDLENBQUM7U0FDdkU7UUFDRCxPQUFPLFdBQVcsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUs7WUFDMUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDN0MsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNULENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUUzQixPQUFPLENBQ0wsb0JBQUMsY0FBYyxDQUFDLElBQUksT0FDYixJQUFpQyxFQUN0QyxLQUFLLEVBQUUsYUFBYTtRQUVwQixvQkFBQyxVQUFVLElBT1QsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQ3BCLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFDakMsY0FBYyxFQUFFLG9CQUFvQixFQUNwQyxpQkFBaUIsRUFBRSx1QkFBdUIsRUFDMUMsUUFBUSxRQUNSLGNBQWMsRUFBRSxrQkFBa0IsRUFDbEMsUUFBUSxFQUFFLFlBQVksRUFDdEIsT0FBTyxFQUFFLE9BQU8sRUFDaEIsV0FBVyxFQUFFLGlCQUFpQixFQUM5QixLQUFLLEVBQUUsS0FBSyxLQUNSLHVCQUF1QixHQUMzQixDQUNrQixDQUN2QixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sNkJBQTZCLEdBQUcsQ0FDM0MsVUFBa0IsRUFDbEIsUUFBNkMsRUFDUixFQUFFLENBQUMsQ0FBQztJQUN6QyxVQUFVO0lBQ1YsU0FBUyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQVcsRUFBRTtRQUN6QyxNQUFNLFdBQVcsR0FBSSxNQUFvRDthQUN0RSxLQUFLLENBQUM7UUFFVCxJQUFJLFdBQVcsS0FBSyxTQUFTLEVBQUU7WUFDN0IsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELFFBQVEsTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUN4QixLQUFLLE9BQU87Z0JBQ1YsSUFBSSxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUU7b0JBQzVCLE9BQU8sQ0FDSixXQUF5Qjt3QkFDdkIsS0FBdUMsQ0FBQyxJQUFJO3dCQUM5QyxHQUFpQixDQUFDLFVBQVUsS0FBSyxhQUFhLENBQ2hELENBQUM7aUJBQ0g7cUJBQU07b0JBQ0wsT0FBTyxpQkFBaUIsQ0FDdEIsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQ3BCLElBQUksU0FBUyxDQUFDLFdBQStCLENBQUMsQ0FDL0MsQ0FBQztpQkFDSDtZQUVILEtBQUssVUFBVSxDQUFDLENBQUM7Z0JBQ2YsSUFBSSxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUU7b0JBQzVCLE9BQU8sQ0FDSixXQUF5Qjt3QkFDdkIsS0FBdUMsQ0FBQyxJQUFJO3dCQUM5QyxHQUFpQixDQUFDLFVBQVUsS0FBSyxPQUFPLENBQzFDLENBQUM7aUJBQ0g7cUJBQU07b0JBQ0wsT0FBTyxDQUFDLGlCQUFpQixDQUN2QixJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFDcEIsSUFBSSxTQUFTLENBQUMsV0FBK0IsQ0FBQyxDQUMvQyxDQUFDO2lCQUNIO2FBQ0Y7WUFDRDtnQkFDRSxPQUFPLG1CQUFtQixDQUFDLGdCQUFnQixDQUN6QyxRQUFRLENBQUMsS0FBeUIsQ0FBQyxFQUNuQyxNQUFNLEVBQ04sR0FBRyxDQUNKLENBQUM7U0FDTDtJQUNILENBQUM7Q0FDRixDQUFDLENBQUMifQ==","import React from \"react\";\nimport { TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport { SvgIcon } from \"@material-ui/core\";\nconst EqualIcon = (props) => (React.createElement(SvgIcon, { ...props },\n    React.createElement(\"path\", { d: \"M19,10H5V8H19V10M19,16H5V14H19V16Z\" })));\nconst NotEqualIcon = (props) => (React.createElement(SvgIcon, { ...props },\n    React.createElement(\"path\", { d: \"M14.08,4.61L15.92,5.4L14.8,8H19V10H13.95L12.23,14H19V16H11.38L9.92,19.4L8.08,18.61L9.2,16H5V14H10.06L11.77,10H5V8H12.63L14.08,4.61Z\" })));\nconst GreaterThanOrEqualIcon = (props) => (React.createElement(SvgIcon, { ...props },\n    React.createElement(\"path\", { d: \"M6.5,2.27L20,10.14L6.5,18L5.5,16.27L16.03,10.14L5.5,4L6.5,2.27M20,20V22H5V20H20Z\" })));\nconst GreaterThanIcon = (props) => (React.createElement(SvgIcon, { ...props },\n    React.createElement(\"path\", { d: \"M5.5,4.14L4.5,5.86L15,12L4.5,18.14L5.5,19.86L19,12L5.5,4.14Z\" })));\nconst LessThanOrEqualIcon = (props) => (React.createElement(SvgIcon, { ...props },\n    React.createElement(\"path\", { d: \"M18.5,2.27L5,10.14L18.5,18L19.5,16.27L8.97,10.14L19.5,4L18.5,2.27M5,20V22H20V20H5Z\" })));\nconst LessThanIcon = (props) => (React.createElement(SvgIcon, { ...props },\n    React.createElement(\"path\", { d: \"M18.5,4.14L19.5,5.86L8.97,12L19.5,18.14L18.5,19.86L5,12L18.5,4.14Z\" })));\nexport const availableFilterOperations = [\n    \"equal\",\n    \"notEqual\",\n    \"greaterThan\",\n    \"greaterThanOrEqual\",\n    \"lessThan\",\n    \"lessThanOrEqual\",\n];\nexport const lessThanFilterOps = [\"lessThan\", \"lessThanOrEqual\"];\nexport const greaterThanFilterOps = [\"greaterThan\", \"greaterThanOrEqual\"];\nexport const getAvailableRangeOps = (selector) => {\n    switch (selector) {\n        case \"greaterThan\":\n        case \"greaterThanOrEqual\":\n            return lessThanFilterOps;\n        case \"lessThan\":\n        case \"lessThanOrEqual\":\n            return greaterThanFilterOps;\n        default:\n            return undefined;\n    }\n};\nexport const isRangeSelector = (selector) => {\n    return (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    greaterThanFilterOps.includes(selector) ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        lessThanFilterOps.includes(selector));\n};\nexport const isValidRangeSelector = (selector, rangeSelector) => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (lessThanFilterOps.includes(selector)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return greaterThanFilterOps.includes(rangeSelector);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    }\n    else if (greaterThanFilterOps.includes(selector)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return lessThanFilterOps.includes(rangeSelector);\n    }\n    else {\n        return false;\n    }\n};\nexport const RangeFilterIcons = ({ type, ...rest }) => {\n    switch (type) {\n        case \"addRangeBound\":\n            return React.createElement(AddCircleIcon, { ...rest });\n        case \"equal\":\n            return React.createElement(EqualIcon, { ...rest });\n        case \"notEqual\":\n            return React.createElement(NotEqualIcon, { ...rest });\n        case \"greaterThan\":\n            return React.createElement(GreaterThanIcon, { ...rest });\n        case \"greaterThanOrEqual\":\n            return React.createElement(GreaterThanOrEqualIcon, { ...rest });\n        case \"lessThan\":\n            return React.createElement(LessThanIcon, { ...rest });\n        case \"lessThanOrEqual\":\n            return React.createElement(LessThanOrEqualIcon, { ...rest });\n        default:\n            return React.createElement(TableFilterRow.Icon, { type: type, ...rest });\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFuZ2VGaWx0ZXJVdGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvRGF0YUdyaWQvZmlsdGVycy9yYW5nZUZpbHRlclV0aWxzLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDMUIsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRXZFLE9BQU8sYUFBYSxNQUFNLDhCQUE4QixDQUFDO0FBR3pELE9BQU8sRUFBZ0IsT0FBTyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFZMUQsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUF3QyxFQUFFLEVBQUUsQ0FBQyxDQUM5RCxvQkFBQyxPQUFPLE9BQUssS0FBSztJQUNoQiw4QkFBTSxDQUFDLEVBQUMsb0NBQW9DLEdBQUcsQ0FDdkMsQ0FDWCxDQUFDO0FBRUYsTUFBTSxZQUFZLEdBQUcsQ0FBQyxLQUF3QyxFQUFFLEVBQUUsQ0FBQyxDQUNqRSxvQkFBQyxPQUFPLE9BQUssS0FBSztJQUNoQiw4QkFBTSxDQUFDLEVBQUMscUlBQXFJLEdBQUcsQ0FDeEksQ0FDWCxDQUFDO0FBRUYsTUFBTSxzQkFBc0IsR0FBRyxDQUFDLEtBQXdDLEVBQUUsRUFBRSxDQUFDLENBQzNFLG9CQUFDLE9BQU8sT0FBSyxLQUFLO0lBQ2hCLDhCQUFNLENBQUMsRUFBQyxrRkFBa0YsR0FBRyxDQUNyRixDQUNYLENBQUM7QUFFRixNQUFNLGVBQWUsR0FBRyxDQUFDLEtBQXdDLEVBQUUsRUFBRSxDQUFDLENBQ3BFLG9CQUFDLE9BQU8sT0FBSyxLQUFLO0lBQ2hCLDhCQUFNLENBQUMsRUFBQyw4REFBOEQsR0FBRyxDQUNqRSxDQUNYLENBQUM7QUFFRixNQUFNLG1CQUFtQixHQUFHLENBQUMsS0FBd0MsRUFBRSxFQUFFLENBQUMsQ0FDeEUsb0JBQUMsT0FBTyxPQUFLLEtBQUs7SUFDaEIsOEJBQU0sQ0FBQyxFQUFD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","import React, { useCallback, useMemo } from \"react\";\nimport { Table, TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport { Box, makeStyles } from \"@material-ui/core\";\nimport { KeyboardDatePicker, MuiPickersUtilsProvider, } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { isEqual, isSameDay, startOfDay } from \"date-fns\";\nimport { getAvailableRangeOps, isRangeSelector, RangeFilterIcons, availableFilterOperations, } from \"../filters/rangeFilterUtils\";\nimport { inlinePaddingWithSelector } from \"./shared\";\nimport { IntegratedFiltering } from \"@devexpress/dx-react-grid\";\nexport const DateCell = (props) => {\n    const { value, formatter, ...rest } = props;\n    return (React.createElement(Table.Cell, { ...rest, value: (formatter === null || formatter === void 0 ? void 0 : formatter.format(value)) || value.toLocaleString() }));\n};\nconst defaultKeyboardDatePickerProps = {\n    autoOk: true,\n    disableFuture: true,\n    disableToolbar: true,\n    format: \"MM/dd/yyyy\",\n    fullWidth: true,\n    inputVariant: \"standard\",\n    margin: \"dense\",\n    placeholder: \"mm/dd/yyyy\",\n    size: \"small\",\n    variant: \"inline\",\n};\nconst dateFilterOperations = availableFilterOperations.filter((op) => op !== \"notEqual\");\nconst useStyles = makeStyles((theme) => ({\n    keyboardDatePicker: {\n        // Fix bar alignment\n        position: \"relative\",\n        top: \"-1px\",\n        // space filter op selector\n        marginLeft: theme.spacing(1),\n    },\n    tableCell: {\n        // Align FilterSelector left\n        paddingLeft: \"0px !important\",\n    },\n}));\nexport const DateFilter = (props) => {\n    const { filteringEnabled, getMessage: getMessageProp, filter, onFilter, } = props;\n    const columnName = props.column.name;\n    const classes = useStyles();\n    const { date, dateSelector, rangeDate, rangeDateSelector, availableRangeDateSelectors, maxRangeDate, minRangeDate, } = useMemo(() => {\n        const dateFilterState = {\n            date: null,\n            dateSelector: \"equal\",\n            rangeDate: null,\n        };\n        // Default;\n        if (!filter) {\n            return dateFilterState;\n        }\n        if (\"operation\" in filter) {\n            dateFilterState.date = filter.value || null;\n            dateFilterState.dateSelector = filter.operation;\n        }\n        else {\n            const [dateOp, rangeDateOp] = filter.filters;\n            if (\"operation\" in dateOp) {\n                dateFilterState.date = dateOp.value || null;\n                dateFilterState.dateSelector = dateOp.operation;\n            }\n            if (\"operation\" in rangeDateOp) {\n                dateFilterState.rangeDate = rangeDateOp.value || null;\n                dateFilterState.rangeDateSelector =\n                    rangeDateOp.operation;\n            }\n        }\n        // Set available range selectors\n        dateFilterState.availableRangeDateSelectors = getAvailableRangeOps(dateFilterState.dateSelector);\n        // Set max or min range dates\n        switch (dateFilterState.dateSelector) {\n            case \"greaterThan\":\n            case \"greaterThanOrEqual\":\n                dateFilterState.minRangeDate = dateFilterState.date || undefined;\n                break;\n            case \"lessThan\":\n            case \"lessThanOrEqual\":\n                dateFilterState.maxRangeDate = dateFilterState.date || undefined;\n                break;\n            default:\n                break;\n        }\n        return dateFilterState;\n    }, [filter]);\n    const handleDateChange = useCallback((newDate) => {\n        if ((newDate !== null && date !== null && isEqual(newDate, date)) ||\n            newDate === date) {\n            return;\n        }\n        if (!newDate) {\n            onFilter(null);\n        }\n        else if (rangeDate && rangeDateSelector) {\n            onFilter({\n                columnName,\n                operator: \"and\",\n                filters: [\n                    { operation: dateSelector, value: newDate },\n                    { operation: rangeDateSelector, value: rangeDate },\n                ],\n            });\n        }\n        else {\n            onFilter({\n                columnName,\n                operation: dateSelector,\n                value: newDate || undefined,\n            });\n        }\n    }, [date, rangeDate, rangeDateSelector, onFilter, columnName, dateSelector]);\n    const handleDateRangeChange = useCallback((newRangeDate) => {\n        if ((newRangeDate !== null &&\n            rangeDate !== null &&\n            isEqual(newRangeDate, rangeDate)) ||\n            newRangeDate === rangeDate) {\n            return;\n        }\n        onFilter({\n            columnName,\n            operator: \"and\",\n            filters: [\n                { operation: dateSelector, value: date },\n                {\n                    operation: rangeDateSelector,\n                    value: newRangeDate || undefined,\n                },\n            ],\n        });\n    }, [rangeDate, onFilter, columnName, dateSelector, date, rangeDateSelector]);\n    const handleDateSelectorChange = useCallback((newDateSelector) => {\n        if (newDateSelector === dateSelector) {\n            return;\n        }\n        onFilter({\n            columnName,\n            operation: newDateSelector,\n            value: date || undefined,\n        });\n    }, [columnName, date, dateSelector, onFilter]);\n    const handleRangeDateSelectorChange = useCallback((newRangeDateSelector) => {\n        if (newRangeDateSelector === rangeDateSelector) {\n            return;\n        }\n        onFilter({\n            columnName,\n            operator: \"and\",\n            filters: [\n                { operation: dateSelector, value: date },\n                {\n                    operation: newRangeDateSelector,\n                    value: rangeDate || undefined,\n                },\n            ],\n        });\n    }, [columnName, date, dateSelector, onFilter, rangeDate, rangeDateSelector]);\n    const getMessage = useCallback((message) => {\n        switch (message) {\n            case \"equal\":\n                return \"On\";\n            case \"greaterThan\":\n                return \"After\";\n            case \"greaterThanOrEqual\":\n                return \"On or After\";\n            case \"lessThan\":\n                return \"Before\";\n            case \"lessThanOrEqual\":\n                return \"On or Before\";\n            default:\n                return getMessageProp(message);\n        }\n    }, [getMessageProp]);\n    const isRangeOp = isRangeSelector(dateSelector);\n    return (React.createElement(TableFilterRow.Cell, { ...props, style: inlinePaddingWithSelector },\n        React.createElement(Box, { width: \"100%\" },\n            React.createElement(Box, { display: \"flex\", alignItems: \"end\", justifyItems: \"flex-start\" },\n                React.createElement(MuiPickersUtilsProvider, { utils: DateFnsUtils },\n                    React.createElement(TableFilterRow.FilterSelector, { availableValues: dateFilterOperations, disabled: !filteringEnabled, getMessage: getMessage, iconComponent: RangeFilterIcons, onChange: handleDateSelectorChange, toggleButtonComponent: TableFilterRow.ToggleButton, value: dateSelector, get: true }),\n                    React.createElement(KeyboardDatePicker, { ...defaultKeyboardDatePickerProps, className: classes.keyboardDatePicker, disabled: !filteringEnabled, initialFocusedDate: startOfDay(new Date()).toISOString(), onChange: handleDateChange, value: date }))),\n            isRangeOp && !!date && (React.createElement(Box, { display: \"flex\", alignItems: \"center\" },\n                React.createElement(MuiPickersUtilsProvider, { utils: DateFnsUtils },\n                    React.createElement(TableFilterRow.FilterSelector, { availableValues: availableRangeDateSelectors || [], disabled: !filteringEnabled, getMessage: getMessage, iconComponent: RangeFilterIcons, onChange: handleRangeDateSelectorChange, toggleButtonComponent: TableFilterRow.ToggleButton, value: rangeDateSelector || \"addRangeBound\" }),\n                    React.createElement(KeyboardDatePicker, { ...defaultKeyboardDatePickerProps, disabled: !filteringEnabled || !rangeDateSelector, className: classes.keyboardDatePicker, initialFocusedDate: startOfDay(new Date()).toISOString(), inputVariant: \"standard\", maxDate: maxRangeDate, minDate: minRangeDate, onChange: handleDateRangeChange, value: rangeDate })))))));\n};\nexport const dateFilterColumnExtension = (columnName, toString) => {\n    return {\n        columnName,\n        predicate: (value, filter, row) => {\n            const filterDate = filter.value;\n            if (filterDate === undefined) {\n                return true;\n            }\n            switch (filter.operation) {\n                case \"equal\":\n                    return isSameDay(value, filterDate);\n                case \"notEqual\":\n                    return !isSameDay(value, filterDate);\n                case \"greaterThan\":\n                    return startOfDay(value) > startOfDay(filterDate);\n                case \"greaterThanOrEqual\":\n                    return startOfDay(value) >= startOfDay(filterDate);\n                case \"lessThan\":\n                    return startOfDay(value) < startOfDay(filterDate);\n                case \"lessThanOrEqual\":\n                    return startOfDay(value) <= startOfDay(filterDate);\n                default:\n                    return IntegratedFiltering.defaultPredicate(toString(value), filter, row);\n            }\n        },\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvRGF0YUdyaWQvY2VsbHMvRGF0ZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDOUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNwRCxPQUFPLEVBQ0wsa0JBQWtCLEVBRWxCLHVCQUF1QixHQUN4QixNQUFNLHNCQUFzQixDQUFDO0FBQzlCLE9BQU8sWUFBWSxNQUFNLG1CQUFtQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUUxRCxPQUFPLEVBR0wsb0JBQW9CLEVBQ3BCLGVBQWUsRUFDZixnQkFBZ0IsRUFDaEIseUJBQXlCLEdBQzFCLE1BQU0sNkJBQTZCLENBQUM7QUFFckMsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ3JELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBT2hFLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUN0QixLQUEwQyxFQUM3QixFQUFFO0lBQ2YsTUFBTSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFFNUMsT0FBTyxDQUNMLG9CQUFDLEtBQUssQ0FBQyxJQUFJLE9BQ0wsSUFBSSxFQUNSLEtBQUssRUFBRSxDQUFBLFNBQVMsYUFBVCxTQUFTLHVCQUFULFNBQVMsQ0FBRSxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssS0FBYyxDQUFDLGNBQWMsRUFBRSxHQUNuRSxDQUNILENBQUM7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","import React, { useCallback, useMemo } from \"react\";\nimport { Table, TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport { TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { IntegratedFiltering } from \"@devexpress/dx-react-grid\";\nimport { inlineAutoCompleteProps, inlineInputProps, inlinePadding, } from \"./shared\";\nexport const DeptCell = (props) => {\n    const { value, ...rest } = props;\n    return (React.createElement(Table.Cell, { ...rest, value: value.name }));\n};\nconst renderInput = (params) => {\n    const props = {\n        ...params,\n        InputProps: {\n            ...inlineInputProps,\n            ...params.InputProps,\n        },\n    };\n    return React.createElement(TextField, { ...props });\n};\nconst getOptionLabel = ({ name }) => name;\nexport const DeptFilter = (props) => {\n    const { deptFilterOpts, ...rest } = props;\n    const { filter, onFilter } = props;\n    const columnName = props.column.name;\n    const options = useMemo(() => deptFilterOpts || [], [deptFilterOpts]);\n    const handleChange = useCallback((_, value) => {\n        if (value.length) {\n            onFilter({\n                columnName,\n                operator: \"or\",\n                filters: value.map((option) => ({\n                    operation: \"equal\",\n                    value: option,\n                })),\n            });\n        }\n        else {\n            onFilter(null);\n        }\n    }, [columnName, onFilter]);\n    const value = useMemo(() => {\n        if (!filter) {\n            return [];\n        }\n        else if (\"operator\" in filter) {\n            return filter.filters.reduce((value, filter) => {\n                if (\"operation\" in filter && filter.value) {\n                    value.push(filter.value);\n                }\n                return value;\n            }, []);\n        }\n        return \"operation\" in filter && filter.value ? [filter.value] : [];\n    }, [filter]);\n    return (React.createElement(TableFilterRow.Cell, { ...rest, style: inlinePadding },\n        React.createElement(Autocomplete, { getOptionLabel: getOptionLabel, multiple: true, renderInput: renderInput, onChange: handleChange, options: options, value: value, ...inlineAutoCompleteProps })));\n};\nexport const deptFilterColumnExtension = (columnName, toString) => ({\n    columnName,\n    predicate: (value, filter, row) => {\n        const filterValue = filter.value;\n        if (filterValue === undefined) {\n            return IntegratedFiltering.defaultPredicate(toString(value), filter, row);\n        }\n        switch (filter.operation) {\n            case \"equal\":\n                return filterValue.id === value.id;\n            case \"notEqual\":\n                return filterValue.id !== value.id;\n            default:\n                return IntegratedFiltering.defaultPredicate(toString(value), filter, row);\n        }\n    },\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwYXJ0bWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvRGF0YUdyaWQvY2VsbHMvRGVwYXJ0bWVudC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDOUUsT0FBTyxFQUFFLFNBQVMsRUFBa0IsTUFBTSxtQkFBbUIsQ0FBQztBQUM5RCxPQUFPLFlBQW1DLE1BQU0sK0JBQStCLENBQUM7QUFDaEYsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFNaEUsT0FBTyxFQUNMLHVCQUF1QixFQUN2QixnQkFBZ0IsRUFDaEIsYUFBYSxHQUNkLE1BQU0sVUFBVSxDQUFDO0FBR2xCLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQTBCLEVBQWUsRUFBRTtJQUNsRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRWpDLE9BQU8sQ0FDTCxvQkFBQyxLQUFLLENBQUMsSUFBSSxPQUFLLElBQUksRUFBRSxLQUFLLEVBQUcsS0FBa0MsQ0FBQyxJQUFJLEdBQUksQ0FDMUUsQ0FBQztBQUNKLENBQUMsQ0FBQztBQVVGLE1BQU0sV0FBVyxHQUtFLENBQUMsTUFBTSxFQUFFLEVBQUU7SUFDNUIsTUFBTSxLQUFLLEdBQUc7UUFDWixHQUFHLE1BQU07UUFDVCxVQUFVLEVBQUU7WUFDVixHQUFHLGdCQUFnQjtZQUNuQixHQUFHLE1BQU0sQ0FBQyxVQUFVO1NBQ3JCO0tBQ2dCLENBQUM7SUFFcEIsT0FBTyxvQkFBQyxTQUFTLE9BQUssS0FBSyxHQUFJLENBQUM7QUFDbEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxjQUFjLEdBRWhCLENBQUMs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","import React, { useCallback, useMemo, useState } from \"react\";\nimport { Table, TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport { capitalCase } from \"capital-case\";\nimport { IntegratedFiltering } from \"@devexpress/dx-react-grid\";\nimport TreeSelect, { BranchNode, ValueNode, } from \"mui-tree-select\";\nimport { PaymentCardType, } from \"../../../../apollo/graphTypes\";\nimport { inlineAutoCompleteProps, inlinePadding, renderFilterInput, } from \"./shared\";\nimport { toString as toStringCardType } from \"../../../../apollo/typeUtils/paymentCardType\";\nimport { toString as toStringAccountCard } from \"../../../../apollo/typeUtils/accountCard\";\nexport const payMethodToStr = (payMethod) => {\n    switch (payMethod.__typename) {\n        case \"PaymentMethodCard\":\n            if (payMethod.card.__typename === \"AccountCard\") {\n                return toStringAccountCard(payMethod.card);\n            }\n            switch (payMethod.card.type) {\n                case PaymentCardType.Visa:\n                case PaymentCardType.AmericanExpress:\n                case PaymentCardType.MasterCard:\n                case PaymentCardType.Discover:\n                    return `${toStringCardType(payMethod.card.type)}-${payMethod.card.trailingDigits}`;\n                default:\n                    return payMethod.card.trailingDigits;\n            }\n        case \"PaymentMethodCheck\":\n            return `CK-${payMethod.check.checkNumber}`;\n        default:\n            return capitalCase(payMethod.__typename.replace(/^PaymentMethod/i, \"\"));\n    }\n};\nexport const PayMethodCell = (props) => {\n    const { value, ...rest } = props;\n    return (React.createElement(Table.Cell, { ...rest, value: payMethodToStr(value) }));\n};\nconst payMethodFilterEquals = (a, b) => {\n    switch (a.__typename) {\n        case \"PaymentMethodCash\":\n        case \"PaymentMethodCombination\":\n        case \"PaymentMethodOnline\":\n        case \"PaymentMethodUnknown\":\n            return a.__typename === b.__typename;\n        case \"PaymentMethodCard\":\n            return (a.__typename === b.__typename &&\n                a.card.__typename === b.card.__typename &&\n                a.card.type === b.card.type &&\n                a.card.trailingDigits === b.card.trailingDigits);\n        case \"PaymentMethodCheck\":\n            if (a.__typename === b.__typename) {\n                if (a.check.__typename === \"AccountCheck\" &&\n                    b.check.__typename === \"AccountCheck\") {\n                    return (a.check.checkNumber === b.check.checkNumber &&\n                        a.check.account.id === b.check.account.id);\n                }\n                else {\n                    return (a.check.__typename === b.check.__typename &&\n                        a.check.checkNumber === b.check.checkNumber);\n                }\n            }\n            return false;\n    }\n};\nexport const PayMethodFilter = (props) => {\n    const { payMethodFilterOpts, ...rest } = props;\n    const { onFilter, filter } = props;\n    const [branch, setBranch] = useState(null);\n    const options = useMemo(() => {\n        var _a;\n        const paymentMethods = payMethodFilterOpts || [];\n        if (branch) {\n            const branchVal = branch.valueOf();\n            switch (branchVal) {\n                case \"External\":\n                    return [\n                        ...paymentMethods\n                            .reduce((options, payMethod) => {\n                            if (payMethod.__typename === \"PaymentMethodCard\" &&\n                                payMethod.card.__typename === \"PaymentCard\" &&\n                                !options.has(payMethod.card.type)) {\n                                options.set(payMethod.card.type, new BranchNode(payMethod.card.type, branch));\n                            }\n                            return options;\n                        }, new Map())\n                            .values(),\n                    ];\n                case \"Internal\":\n                    return [\n                        ...paymentMethods\n                            .reduce((options, payMethod) => {\n                            if (payMethod.__typename === \"PaymentMethodCard\" &&\n                                payMethod.card.__typename === \"AccountCard\" &&\n                                !options.has(payMethod.card.type)) {\n                                options.set(payMethod.card.type, new BranchNode(payMethod.card.type, branch));\n                            }\n                            return options;\n                        }, new Map())\n                            .values(),\n                    ];\n                case \"PaymentMethodCard\":\n                    return [\n                        new BranchNode(\"Internal\", branch),\n                        new BranchNode(\"External\", branch),\n                    ];\n                case \"PaymentMethodCheck\": {\n                    return paymentMethods\n                        .reduce(([checks], payMethod) => {\n                        if (payMethod.__typename === \"PaymentMethodCheck\") {\n                            if (payMethod.check.__typename === \"AccountCheck\") {\n                                if (!checks.accounts.has(payMethod.check.account.id)) {\n                                    checks.accounts.set(payMethod.check.account.id, new BranchNode({\n                                        checkingAccountId: payMethod.check.account.id,\n                                        accountNumber: payMethod.check.account.accountNumber,\n                                    }, branch));\n                                }\n                            }\n                            else {\n                                checks.externalChecks.set(payMethod.check.checkNumber, payMethod);\n                            }\n                        }\n                        return [checks];\n                    }, [\n                        {\n                            accounts: new Map(),\n                            externalChecks: new Map(),\n                        },\n                    ])\n                        .map(({ accounts, externalChecks }) => [\n                        ...accounts.values(),\n                        ...externalChecks.values(),\n                    ])[0];\n                }\n                case PaymentCardType.AmericanExpress:\n                case PaymentCardType.Discover:\n                case PaymentCardType.MasterCard:\n                case PaymentCardType.Visa: {\n                    const cardTypename = ((_a = branch.parent) === null || _a === void 0 ? void 0 : _a.valueOf()) === \"External\"\n                        ? \"PaymentCard\"\n                        : \"AccountCard\";\n                    return [\n                        ...paymentMethods\n                            .reduce((options, payMethod) => {\n                            if (payMethod.__typename === \"PaymentMethodCard\" &&\n                                payMethod.card.type === branchVal &&\n                                payMethod.card.__typename === cardTypename &&\n                                !options.has(payMethod.card.trailingDigits)) {\n                                options.set(payMethod.card.trailingDigits, payMethod);\n                            }\n                            return options;\n                        }, new Map())\n                            .values(),\n                    ];\n                }\n                default: {\n                    const { checkingAccountId: id } = branchVal;\n                    return [\n                        ...paymentMethods\n                            .reduce((options, payMethod) => {\n                            if (payMethod.__typename === \"PaymentMethodCheck\" &&\n                                payMethod.check.__typename === \"AccountCheck\" &&\n                                payMethod.check.account.id === id &&\n                                !options.has(payMethod.check.checkNumber)) {\n                                options.set(payMethod.check.checkNumber, payMethod);\n                            }\n                            return options;\n                        }, new Map())\n                            .values(),\n                    ];\n                }\n            }\n        }\n        else {\n            return [\n                ...paymentMethods\n                    .reduce((options, payMethod) => {\n                    switch (payMethod.__typename) {\n                        case \"PaymentMethodCard\":\n                        case \"PaymentMethodCheck\":\n                            if (!options.has(payMethod.__typename)) {\n                                options.set(payMethod.__typename, new BranchNode(payMethod.__typename));\n                            }\n                            break;\n                        default:\n                            if (!options.has(payMethod.__typename)) {\n                                options.set(payMethod.__typename, payMethod);\n                            }\n                    }\n                    return options;\n                }, new Map())\n                    .values(),\n            ];\n        }\n    }, [branch, payMethodFilterOpts]);\n    const columnName = props.column.name;\n    const handleChange = useCallback((_, value) => {\n        if (value.length) {\n            onFilter({\n                columnName,\n                operator: \"or\",\n                filters: value.map((option) => ({\n                    operation: \"equal\",\n                    value: option.valueOf(),\n                })),\n            });\n        }\n        else {\n            onFilter(null);\n        }\n    }, [columnName, onFilter]);\n    const handleBranchChange = useCallback((_, branch) => setBranch(branch), []);\n    const getOptionLabel = useCallback((option) => {\n        var _a;\n        if (option instanceof BranchNode) {\n            const opt = option.valueOf();\n            if (typeof opt === \"string\") {\n                switch (opt) {\n                    case \"PaymentMethodCheck\":\n                        return \"Check\";\n                    case \"PaymentMethodCard\":\n                        return \"Card\";\n                    case \"External\":\n                    case \"Internal\":\n                        return opt;\n                    default:\n                        return capitalCase(opt);\n                }\n            }\n            else {\n                return `Acct# ...${(_a = opt.accountNumber) === null || _a === void 0 ? void 0 : _a.slice(-4)}`;\n            }\n        }\n        else {\n            const opt = option.valueOf();\n            switch (opt.__typename) {\n                case \"PaymentMethodCard\":\n                    if (opt.card.__typename === \"AccountCard\") {\n                        return toStringAccountCard(opt.card);\n                    }\n                    return `${toStringCardType(opt.card.type)}-${opt.card.trailingDigits}`;\n                case \"PaymentMethodCheck\":\n                    return `CK-${opt.check.checkNumber}`;\n                case \"PaymentMethodCash\":\n                    return \"Cash\";\n                case \"PaymentMethodCombination\":\n                    return \"Combination\";\n                case \"PaymentMethodOnline\":\n                    return \"Online\";\n                case \"PaymentMethodUnknown\":\n                    return \"Unknown\";\n            }\n        }\n    }, []);\n    const getOptionSelected = useCallback((option, value) => payMethodFilterEquals(option.valueOf(), value.valueOf()), []);\n    const value = useMemo(() => {\n        if (!filter) {\n            return [];\n        }\n        else if (\"operator\" in filter) {\n            return filter.filters.reduce((value, filter) => {\n                if (\"operation\" in filter && filter.value) {\n                    value.push(branch\n                        ? new ValueNode(filter.value, branch)\n                        : new ValueNode(filter.value));\n                }\n                return value;\n            }, []);\n        }\n        return \"operation\" in filter && filter.value\n            ? [\n                branch\n                    ? new ValueNode(filter.value, branch)\n                    : new ValueNode(filter.value),\n            ]\n            : [];\n    }, [filter, branch]);\n    return (React.createElement(TableFilterRow.Cell, { ...rest, style: inlinePadding },\n        React.createElement(TreeSelect, { onBranchChange: handleBranchChange, branch: branch, onChange: handleChange, options: options, multiple: true, getOptionLabel: getOptionLabel, getOptionSelected: getOptionSelected, renderInput: renderFilterInput, value: value, ...inlineAutoCompleteProps })));\n};\nexport const payMethodFilterColumnExtension = (columnName, toString = payMethodToStr) => ({\n    columnName,\n    predicate: (value, filter, row) => {\n        const filterValue = filter\n            .value;\n        if (filterValue === undefined) {\n            return true;\n        }\n        switch (filter.operation) {\n            case \"equal\":\n                return payMethodFilterEquals(filterValue, value);\n            case \"notEqual\":\n                return payMethodFilterEquals(filterValue, value);\n            default:\n                return IntegratedFiltering.defaultPredicate(toString(value), filter, row);\n        }\n    },\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGF5TWV0aG9kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9jZWxscy9QYXlNZXRob2QudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUQsT0FBTyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUM5RSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2hFLE9BQU8sVUFBVSxFQUFFLEVBQ2pCLFVBQVUsRUFFVixTQUFTLEdBQ1YsTUFBTSxpQkFBaUIsQ0FBQztBQUV6QixPQUFPLEVBRUwsZUFBZSxHQUNoQixNQUFNLCtCQUErQixDQUFDO0FBR3ZDLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsYUFBYSxFQUNiLGlCQUFpQixHQUNsQixNQUFNLFVBQVUsQ0FBQztBQUVsQixPQUFPLEVBQUUsUUFBUSxJQUFJLGdCQUFnQixFQUFFLE1BQU0sOENBQThDLENBQUM7QUFDNUYsT0FBTyxFQUFFLFFBQVEsSUFBSSxtQkFBbUIsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBRTNGLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxDQUM1QixTQUFvQyxFQUM1QixFQUFFO0lBQ1YsUUFBUSxTQUFTLENBQUMsVUFBVSxFQUFFO1FBQzVCLEtBQUssbUJBQW1CO1lBQ3RCLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLEtBQUssYUFBYSxFQUFFO2dCQUMvQyxPQUFPLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUM1QztZQUVELFFBQVEsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQzNCLEtBQUssZUFB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","import React, { useCallback, useMemo } from \"react\";\nimport { Table, TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport { Box } from \"@material-ui/core\";\nimport { availableFilterOperations, getAvailableRangeOps, isRangeSelector, RangeFilterIcons, } from \"../filters/rangeFilterUtils\";\nimport { RationalInputBase, } from \"../../../Inputs/RationalInput\";\nimport { inlineInputProps, inlinePaddingWithSelector } from \"./shared\";\nimport { IntegratedFiltering } from \"@devexpress/dx-react-grid\";\nexport const RationalCell = (props) => {\n    const { value, formatter, ...rest } = props;\n    return (React.createElement(Table.Cell, { ...rest, value: (formatter === null || formatter === void 0 ? void 0 : formatter.format(value.valueOf())) ||\n            value.valueOf() }));\n};\nexport const RationalFilter = (props) => {\n    const { rationalInputProps: rationalInputPropsProp, ...rest } = props;\n    const { filteringEnabled, getMessage, filter, onFilter } = props;\n    const columnName = props.column.name;\n    const { rational, rationalSelector, rangeRational, rangeRationalSelector, availableRangeRationalSelectors,\n    // maxRangeRational,\n    // minRangeRational,\n     } = useMemo(() => {\n        const rationalFilterState = {\n            rational: null,\n            rationalSelector: \"equal\",\n            rangeRational: null,\n        };\n        if (!filter) {\n            return rationalFilterState;\n        }\n        else if (\"operation\" in filter) {\n            rationalFilterState.rational = filter.value || null;\n            rationalFilterState.rationalSelector = filter.operation;\n        }\n        else {\n            const [rationalOp, rangeRationalOp] = filter.filters;\n            if (\"operation\" in rationalOp) {\n                rationalFilterState.rational = rationalOp.value || null;\n                rationalFilterState.rationalSelector = rationalOp.operation;\n            }\n            if (\"operation\" in rangeRationalOp) {\n                rationalFilterState.rangeRational = rangeRationalOp.value || null;\n                rationalFilterState.rangeRationalSelector =\n                    rangeRationalOp.operation;\n            }\n        }\n        // Set available range selectors\n        rationalFilterState.availableRangeRationalSelectors = getAvailableRangeOps(rationalFilterState.rationalSelector);\n        // Set max or min range rationals\n        switch (rationalFilterState.rationalSelector) {\n            case \"greaterThan\":\n            case \"greaterThanOrEqual\":\n                rationalFilterState.minRangeRational =\n                    rationalFilterState.rational || undefined;\n                break;\n            case \"lessThan\":\n            case \"lessThanOrEqual\":\n                rationalFilterState.maxRangeRational =\n                    rationalFilterState.rational || undefined;\n                break;\n            default:\n                break;\n        }\n        return rationalFilterState;\n    }, [filter]);\n    const handleRationalChange = useCallback((_, newRational) => {\n        if ((newRational !== null &&\n            rational !== null &&\n            newRational.equals(rational)) ||\n            newRational === rational) {\n            return;\n        }\n        if (!newRational) {\n            onFilter(null);\n        }\n        else if (rangeRational && rangeRationalSelector) {\n            onFilter({\n                columnName,\n                operator: \"and\",\n                filters: [\n                    { operation: rationalSelector, value: newRational },\n                    { operation: rangeRationalSelector, value: rangeRational },\n                ],\n            });\n        }\n        else {\n            onFilter({\n                columnName,\n                operation: rationalSelector,\n                value: newRational || undefined,\n            });\n        }\n        // if(newRational)\n    }, [\n        columnName,\n        onFilter,\n        rangeRational,\n        rangeRationalSelector,\n        rational,\n        rationalSelector,\n    ]);\n    const handleRangeRationalChange = useCallback((_, newRangeRational) => {\n        if ((newRangeRational !== null &&\n            rangeRational !== null &&\n            newRangeRational.equals(rangeRational)) ||\n            newRangeRational === rangeRational) {\n            return;\n        }\n        onFilter({\n            columnName,\n            operator: \"and\",\n            filters: [\n                { operation: rationalSelector, value: rational },\n                {\n                    operation: rangeRationalSelector,\n                    value: newRangeRational || undefined,\n                },\n            ],\n        });\n    }, [\n        rangeRational,\n        onFilter,\n        columnName,\n        rationalSelector,\n        rational,\n        rangeRationalSelector,\n    ]);\n    const handleRationalSelectorChange = useCallback((newRationalSelector) => {\n        if (newRationalSelector === rationalSelector) {\n            return;\n        }\n        onFilter({\n            columnName,\n            operation: newRationalSelector,\n            value: rational || undefined,\n        });\n    }, [columnName, rational, rationalSelector, onFilter]);\n    const handleRangeRationalSelectorChange = useCallback((newRangeRationalSelector) => {\n        if (newRangeRationalSelector === rangeRationalSelector) {\n            return;\n        }\n        onFilter({\n            columnName,\n            operator: \"and\",\n            filters: [\n                { operation: rationalSelector, value: rational },\n                {\n                    operation: newRangeRationalSelector,\n                    value: rangeRational || undefined,\n                },\n            ],\n        });\n    }, [\n        columnName,\n        rational,\n        rationalSelector,\n        onFilter,\n        rangeRational,\n        rangeRationalSelector,\n    ]);\n    const rationalInputProps = useMemo(() => {\n        if (rationalInputPropsProp) {\n            return {\n                ...rationalInputPropsProp,\n                InputProps: {\n                    ...inlineInputProps,\n                    ...(rationalInputPropsProp.InputProps || {}),\n                },\n            };\n        }\n        else {\n            return {\n                InputProps: inlineInputProps,\n            };\n        }\n    }, [rationalInputPropsProp]);\n    const isRangeOp = isRangeSelector(rationalSelector);\n    return (React.createElement(TableFilterRow.Cell, { ...rest, style: inlinePaddingWithSelector },\n        React.createElement(Box, { width: \"100%\" },\n            React.createElement(Box, { display: \"flex\", alignItems: \"center\" },\n                React.createElement(TableFilterRow.FilterSelector, { availableValues: availableFilterOperations, disabled: !filteringEnabled, getMessage: getMessage, iconComponent: RangeFilterIcons, onChange: handleRationalSelectorChange, toggleButtonComponent: TableFilterRow.ToggleButton, value: rationalSelector }),\n                React.createElement(RationalInputBase, { disabled: !filteringEnabled, fullWidth: true, onChange: handleRationalChange, size: \"small\", value: rational, ...rationalInputProps })),\n            isRangeOp && !!rational && (React.createElement(Box, { display: \"flex\", alignItems: \"center\" },\n                React.createElement(TableFilterRow.FilterSelector, { availableValues: availableRangeRationalSelectors || [], disabled: !filteringEnabled, getMessage: getMessage, iconComponent: RangeFilterIcons, onChange: handleRangeRationalSelectorChange, toggleButtonComponent: TableFilterRow.ToggleButton, value: rangeRationalSelector || \"addRangeBound\" }),\n                React.createElement(RationalInputBase, { disabled: !filteringEnabled || !rangeRationalSelector, fullWidth: true, onChange: handleRangeRationalChange, size: \"small\", value: rangeRational, ...(rationalInputProps || {}) }))))));\n};\nexport const rationalFilterColumnExtension = (columnName, toString) => ({\n    columnName,\n    predicate: (value, filter, row) => {\n        const filterTotal = filter.value;\n        if (filterTotal === undefined) {\n            return true;\n        }\n        switch (filter.operation) {\n            case \"equal\":\n                return value.equals(filterTotal);\n            case \"notEqual\":\n                return !value.equals(filterTotal);\n            case \"greaterThan\":\n                return value.compare(filterTotal) > 0;\n            case \"greaterThanOrEqual\":\n                return value.compare(filterTotal) >= 0;\n            case \"lessThan\":\n                return value.compare(filterTotal) < 0;\n            case \"lessThanOrEqual\":\n                return value.compare(filterTotal) <= 0;\n            default:\n                return IntegratedFiltering.defaultPredicate(toString(value), filter, row);\n        }\n    },\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmF0aW9uYWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL0RhdGFHcmlkL2NlbGxzL1JhdGlvbmFsLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDcEQsT0FBTyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUU5RSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFeEMsT0FBTyxFQUNMLHlCQUF5QixFQUd6QixvQkFBb0IsRUFDcEIsZUFBZSxFQUNmLGdCQUFnQixHQUNqQixNQUFNLDZCQUE2QixDQUFDO0FBQ3JDLE9BQU8sRUFDTCxpQkFBaUIsR0FFbEIsTUFBTSwrQkFBK0IsQ0FBQztBQUd2QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDdkUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFPaEUsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQzFCLEtBQThDLEVBQ2pDLEVBQUU7SUFDZixNQUFNLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQztJQUU1QyxPQUFPLENBQ0wsb0JBQUMsS0FBSyxDQUFDLElBQUksT0FDTCxJQUFJLEVBQ1IsS0FBSyxFQUNILENBQUEsU0FBUyxhQUFULFNBQVMsdUJBQVQsU0FBUyxDQUFFLE1BQU0sQ0FBRSxLQUFrQixDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQy9DLEtBQWtCLENBQUMsT0FBTyxFQUFFLEdBRS9CLENBQ0gsQ0FBQztBQUNKLENBQUMsQ0FBQztBQVdGLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxDQUFDLEtBQTBCLEVBQWUsRUFBRTtJQUN4RSxNQUFNLEVB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","import React, { useCallback, useMemo, useState } from \"react\";\nimport { Table, TableFilterRow } from \"@devexpress/dx-react-grid-material-ui\";\nimport TreeSelect, { BranchNode, defaultInput, ValueNode, } from \"mui-tree-select\";\nimport { IntegratedFiltering } from \"@devexpress/dx-react-grid\";\nimport { getOptionLabel as getOptionLabelUtil, getOptionSelected as getOptionSelectedUtil, } from \"../../../Inputs/Entity\";\nimport { inlineAutoCompleteProps, inlineInputProps, inlinePadding, } from \"./shared\";\nexport const sourceToStr = (src) => {\n    switch (src.__typename) {\n        case \"Business\":\n        case \"Department\":\n            return src.name;\n        case \"Person\":\n            return `${src.personName.first} ${src.personName.last}`;\n    }\n};\nexport const SourceCell = (props) => {\n    const { value, ...rest } = props;\n    return (React.createElement(Table.Cell, { ...rest, value: sourceToStr(value) }));\n};\n// Grid Entry source aliases name in Person to personName.\nconst getOptionLabel = (option) => {\n    const opt = option.valueOf();\n    if (typeof opt === \"string\") {\n        return opt;\n    }\n    else if ((opt === null || opt === void 0 ? void 0 : opt.__typename) === \"Person\") {\n        const { first, last } = opt.personName;\n        return `${first} ${last}`;\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return getOptionLabelUtil(option);\n    }\n};\nconst getOptionSelected = (option, value) => {\n    const opt = option.valueOf();\n    const val = value.valueOf();\n    if (typeof opt === \"string\" || typeof val === \"string\") {\n        return opt === val;\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return getOptionSelectedUtil(option, value);\n    }\n};\nexport const SourceFilter = (props) => {\n    const { srcFilterOpts, ...rest } = props;\n    const { onFilter, filter } = props;\n    const columnName = props.column.name;\n    const [branch, setBranch] = useState(null);\n    const options = useMemo(() => {\n        if (!srcFilterOpts) {\n            return [];\n        }\n        else if (branch) {\n            const typename = branch.valueOf();\n            return srcFilterOpts.filter((option) => option.__typename === typename);\n        }\n        else {\n            const branchOptions = new Set();\n            for (const { __typename } of srcFilterOpts) {\n                branchOptions.add(__typename);\n                if (branchOptions.size === 3) {\n                    break;\n                }\n            }\n            if (branchOptions.size === 1) {\n                return srcFilterOpts;\n            }\n            return [...branchOptions.values()].map((branchOption) => new BranchNode(branchOption));\n        }\n    }, [srcFilterOpts, branch]);\n    const handleBranchChange = useCallback((_, branchOption) => {\n        setBranch(branchOption);\n    }, [setBranch]);\n    const handleChange = useCallback((_, value) => {\n        if (value.length) {\n            // Other options will ONLY be BranchNode(s) and never called onChange.\n            onFilter({\n                columnName,\n                operator: \"or\",\n                filters: value.map((option) => ({\n                    operation: \"equal\",\n                    value: option.valueOf(),\n                })),\n            });\n        }\n        else {\n            onFilter(null);\n        }\n    }, [onFilter, columnName]);\n    const renderInput = useCallback((params) => defaultInput({\n        ...params,\n        InputProps: {\n            ...(params.InputProps || {}),\n            ...inlineInputProps,\n        },\n    }), []);\n    const value = useMemo(() => {\n        if (!filter) {\n            return [];\n        }\n        else if (\"operator\" in filter) {\n            return filter.filters.reduce((value, filter) => {\n                if (\"operation\" in filter && filter.value) {\n                    value.push(branch\n                        ? new ValueNode(filter.value, branch)\n                        : new ValueNode(filter.value));\n                }\n                return value;\n            }, []);\n        }\n        return \"operation\" in filter && filter.value\n            ? [\n                branch\n                    ? new ValueNode(filter.value, branch)\n                    : new ValueNode(filter.value),\n            ]\n            : [];\n    }, [filter, branch]);\n    return (React.createElement(TableFilterRow.Cell, { ...rest, style: inlinePadding },\n        React.createElement(TreeSelect, { getOptionLabel: getOptionLabel, getOptionSelected: getOptionSelected, onBranchChange: handleBranchChange, multiple: true, onChange: handleChange, options: options, renderInput: renderInput, value: value, ...inlineAutoCompleteProps })));\n};\nexport const sourceFilterColumnExtension = (columnName, toString) => ({\n    columnName,\n    predicate: (value, filter, row) => {\n        const filterValue = filter.value;\n        if (filterValue == undefined) {\n            return true;\n        }\n        switch (filter.operation) {\n            case \"equal\":\n                return (filterValue.__typename ===\n                    value.__typename &&\n                    filterValue.id === value.id);\n            case \"notEqual\":\n                return (filterValue.__typename !==\n                    value.__typename ||\n                    filterValue.id !== value.id);\n            default:\n                return IntegratedFiltering.defaultPredicate(toString(value), filter, row);\n        }\n    },\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9jZWxscy9Tb3VyY2UudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUQsT0FBTyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUM5RSxPQUFPLFVBQVUsRUFBRSxFQUNqQixVQUFVLEVBQ1YsWUFBWSxFQUVaLFNBQVMsR0FDVixNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBSWhFLE9BQU8sRUFHTCxjQUFjLElBQUksa0JBQWtCLEVBQ3BDLGlCQUFpQixJQUFJLHFCQUFxQixHQUMzQyxNQUFNLHdCQUF3QixDQUFDO0FBRWhDLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsZ0JBQWdCLEVBQ2hCLGFBQWEsR0FDZCxNQUFNLFVBQVUsQ0FBQztBQUdsQixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFnQyxFQUFVLEVBQUU7SUFDdEUsUUFBUSxHQUFHLENBQUMsVUFBVSxFQUFFO1FBQ3RCLEtBQUssVUFBVSxDQUFDO1FBQ2hCLEtBQUssWUFBWTtZQUNmLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQztRQUNsQixLQUFLLFFBQVE7WUFDWCxPQUFPLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztLQUMzRDtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFDLEtBQTBCLEVBQWUsRUFBRTtJQUNwRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBRWpDLE9BQU8sQ0FDTCxvQkFBQyxLQUFLLENBQUMsSUFBSSxPQUNMLElBQUksRUFDUixLQUFLLEVBQUUsV0FBVyxDQUFDLEtBQW9DLENBQUMsR0FDeEQsQ0FDSCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBZUYsMERBQTBEO0FBQzFELE1BQU0sY0FBYyxHQVFoQixDQUFDLE1BQU0sRUFBRSxFQUFFO0lBQ2IsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBRTdCLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1FBQzNCLE9BQU8sR0FBRyxDQUFDO0tBQ1o7U0FBTSxJQUFJLENBQUEsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLFVBQVUsTUFBSyxRQUFRLEVBQUU7UUFDdkMsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDO1FBQ3ZDLE9BQU8sR0FBRyxLQUFLLElBQUksSUFBSSxFQUFFLENBQUM7S0FDM0I7U0FBTTtRQUNMLDhEQUE4RDtRQUM5RCxPQUFPLGtCQUFrQixDQUFDLE1BQWEsQ0FBQyxDQUFDO0tBQzFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FRbkIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUU7SUFDcEIsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzdCLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUU1QixJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7UUFDdEQsT0FBTyxHQUFHLEtBQUssR0FBRyxDQUFDO0tBQ3BCO1NBQU07UUFDTCw4REFBOEQ7UUFDOUQsT0FBTyxxQkFBcUIsQ0FBQyxNQUFhLEVBQUUsS0FBWSxDQUFDLENBQUM7S0FDM0Q7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxLQUF3QixFQUFlLEVBQUU7SUFTcEUsTUFBTSxFQUFFLGFBQWEsRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQztJQUV6QyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQztJQUVuQyxNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUVyQyxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLFFBQVEsQ0FBa0MsSUFBSSxDQUFDLENBQUM7SUFFNUUsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQVFyQixHQUFHLEVBQUU7UUFDTCxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2xCLE9BQU8sRUFBRSxDQUFDO1NBQ1g7YUFBTSxJQUFJLE1BQU0sRUFBRTtZQUNqQixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDbEMsT0FBTyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLFFBQVEsQ0FBQyxDQUFDO1NBQ3pFO2FBQU07WUFDTCxNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBd0MsQ0FBQztZQUV0RSxLQUFLLE1BQU0sRUFBRSxVQUFVLEVBQUUsSUFBSSxhQUFhLEVBQUU7Z0JBQzFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzlCLElBQUksYUFBYSxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUU7b0JBQzVCLE1BQU07aUJBQ1A7YUFDRjtZQUVELElBQUksYUFBYSxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUU7Z0JBQzVCLE9BQU8sYUFBYSxDQUFDO2FBQ3RCO1lBRUQsT0FBTyxDQUFDLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsR0FBRyxDQUNwQyxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUMsSUFBSSxVQUFVLENBQUMsWUFBWSxDQUFDLENBQy9DLENBQUM7U0FDSDtJQUNILENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBRTVCLE1BQU0sa0JBQWtCLEdBQUcsV0FBVyxDQVNwQyxDQUFDLENBQUMsRUFBRSxZQUFZLEVBQUUsRUFBRTtRQUNsQixTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDMUIsQ0FBQyxFQUNELENBQUMsU0FBUyxDQUFDLENBQ1osQ0FBQztJQUVGLE1BQU0sWUFBWSxHQUFHLFdBQVcsQ0FXOUIsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDWCxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDaEIsc0VBQXNFO1lBQ3RFLFFBQVEsQ0FBQztnQkFDUCxVQUFVO2dCQUNWLFFBQVEsRUFBRSxJQUFJO2dCQUNkLE9BQU8sRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUM5QixTQUFTLEVBQUUsT0FBTztvQkFDbEIsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUU7aUJBQ3hCLENBQUMsQ0FBQzthQUNKLENBQUMsQ0FBQztTQUNKO2FBQU07WUFDTCxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDaEI7SUFDSCxDQUFDLEVBQ0QsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQ3ZCLENBQUM7SUFFRixNQUFNLFdBQVcsR0FBRyxXQUFXLENBVzdCLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FDVCxZQUFZLENBQUM7UUFDWCxHQUFHLE1BQU07UUFDVCxVQUFVLEVBQUU7WUFDVixHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUM7WUFDNUIsR0FBRyxnQkFBZ0I7U0FDcEI7S0FDRixDQUFDLEVBQ0osRUFBRSxDQUNILENBQUM7SUFFRixNQUFNLEtBQUssR0FBRyxPQUFPLENBQWlELEdBQUcsRUFBRTtRQUN6RSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1gsT0FBTyxFQUFFLENBQUM7U0FDWDthQUFNLElBQUksVUFBVSxJQUFJLE1BQU0sRUFBRTtZQUMvQixPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO2dCQUM3QyxJQUFJLFdBQVcsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRTtvQkFDekMsS0FBSyxDQUFDLElBQUksQ0FDUixNQUFNO3dCQUNKLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQzt3QkFDckMsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FDaEMsQ0FBQztpQkFDSDtnQkFDRCxPQUFPLEtBQUssQ0FBQztZQUNmLENBQUMsRUFBRSxFQUFvRCxDQUFDLENBQUM7U0FDMUQ7UUFDRCxPQUFPLFdBQVcsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUs7WUFDMUMsQ0FBQyxDQUFDO2dCQUNFLE1BQU07b0JBQ0osQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO29CQUNyQyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzthQUNoQztZQUNILENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDVCxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUVyQixPQUFPLENBQ0wsb0JBQUMsY0FBYyxDQUFDLElBQUksT0FDYixJQUFpQyxFQUN0QyxLQUFLLEVBQUUsYUFBYTtRQUVwQixvQkFBQyxVQUFVLElBQ1QsY0FBYyxFQUFFLGNBQWMsRUFDOUIsaUJBQWlCLEVBQUUsaUJBQWlCLEVBQ3BDLGNBQWMsRUFBRSxrQkFBa0IsRUFDbEMsUUFBUSxRQUNSLFFBQVEsRUFBRSxZQUFZLEVBQ3RCLE9BQU8sRUFBRSxPQUFPLEVBQ2hCLFdBQVcsRUFBRSxXQUFXLEVBQ3hCLEtBQUssRUFBRSxLQUFLLEtBQ1IsdUJBQXVCLEdBQzNCLENBQ2tCLENBQ3ZCLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSwyQkFBMkIsR0FBRyxDQUN6QyxVQUFrQixFQUNsQixRQUF3RCxFQUNuQixFQUFFLENBQUMsQ0FBQztJQUN6QyxVQUFVO0lBQ1YsU0FBUyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQVcsRUFBRTtRQUN6QyxNQUFNLFdBQVcsR0FBSSxNQUE0QyxDQUFDLEtBQUssQ0FBQztRQUV4RSxJQUFJLFdBQVcsSUFBSSxTQUFTLEVBQUU7WUFDNUIsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELFFBQVEsTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUN4QixLQUFLLE9BQU87Z0JBQ1YsT0FBTyxDQUNMLFdBQVcsQ0FBQyxVQUFVO29CQUNuQixLQUFxQyxDQUFDLFVBQVU7b0JBQ25ELFdBQVcsQ0FBQyxFQUFFLEtBQU0sS0FBcUMsQ0FBQyxFQUFFLENBQzdELENBQUM7WUFDSixLQUFLLFVBQVU7Z0JBQ2IsT0FBTyxDQUNMLFdBQVcsQ0FBQyxVQUFVO29CQUNuQixLQUFxQyxDQUFDLFVBQVU7b0JBQ25ELFdBQVcsQ0FBQyxFQUFFLEtBQU0sS0FBcUMsQ0FBQyxFQUFFLENBQzdELENBQUM7WUFDSjtnQkFDRSxPQUFPLG1CQUFtQixDQUFDLGdCQUFnQixDQUN6QyxRQUFRLENBQUMsS0FBb0MsQ0FBQyxFQUM5QyxNQUFNLEVBQ04sR0FBRyxDQUNKLENBQUM7U0FDTDtJQUNILENBQUM7Q0FDRixDQUFDLENBQUMifQ==","import React, { useCallback } from \"react\";\nimport { TextField, } from \"@material-ui/core\";\nconst style = {\n    paddingRight: \"8px\",\n};\nconst InputProps = {\n    margin: \"dense\",\n};\nexport const DefaultEditor = (props) => {\n    const { \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getMessage: _, value, onChange: onChangeProp, ...rest } = props;\n    const onChange = useCallback((event) => {\n        var _a;\n        onChangeProp((_a = event.target.value) !== null && _a !== void 0 ? _a : \"\");\n    }, [onChangeProp]);\n    return (React.createElement(TextField, { size: \"small\", fullWidth: true, InputProps: InputProps, onChange: onChange, style: style, value: value !== null && value !== void 0 ? value : \"\", ...rest }));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVmYXVsdEVkaXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvRGF0YUdyaWQvZmlsdGVycy9EZWZhdWx0RWRpdG9yLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUMzQyxPQUFPLEVBRUwsU0FBUyxHQUVWLE1BQU0sbUJBQW1CLENBQUM7QUFHM0IsTUFBTSxLQUFLLEdBQXdCO0lBQ2pDLFlBQVksRUFBRSxLQUFLO0NBQ3BCLENBQUM7QUFFRixNQUFNLFVBQVUsR0FBa0I7SUFDaEMsTUFBTSxFQUFFLE9BQU87Q0FDaEIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUMzQixLQUFpQyxFQUNwQixFQUFFO0lBQ2YsTUFBTTtJQUNKLDZEQUE2RDtJQUM3RCxVQUFVLEVBQUUsQ0FBQyxFQUNiLEtBQUssRUFDTCxRQUFRLEVBQUUsWUFBWSxFQUN0QixHQUFHLElBQUksRUFDUixHQUFHLEtBQUssQ0FBQztJQUVWLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FDMUIsQ0FBQyxLQUFLLEVBQUUsRUFBRTs7UUFDUixZQUFZLENBQUMsTUFBQSxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssbUNBQUksRUFBRSxDQUFDLENBQUM7SUFDekMsQ0FBQyxFQUNELENBQUMsWUFBWSxDQUFDLENBQ2YsQ0FBQztJQUVGLE9BQU8sQ0FDTCxvQkFBQyxTQUFTLElBQ1IsSUFBSSxFQUFDLE9BQU8sRUFDWixTQUFTLFFBQ1QsVUFBVSxFQUFFLFVBQVUsRUFDdEIsUUFBUSxFQUFFLFFBQVEsRUFDbEIsS0FBSyxFQUFFLEtBQUssRUFDWixLQUFLLEVBQUUsS0FBSyxhQUFMLEtBQUssY0FBTCxLQUFLLEdBQUksRUFBRSxLQUNkLElBQUksR0FDUixDQUNILENBQUM7QUFDSixDQUFDLENBQUMifQ==","import React from \"react\";\nimport { Plugin, Template, TemplateConnector, TemplatePlaceholder, } from \"@devexpress/dx-react-core\";\nimport { Typography } from \"@material-ui/core\";\nconst gridTitleDeps = [\n    {\n        name: \"SummaryState\",\n        optional: false,\n    },\n    {\n        name: \"IntegratedSummary\",\n        optional: false,\n    },\n];\nexport const GridTitle = ({ title }) => {\n    return (React.createElement(Plugin, { name: \"GridTitle\", dependencies: gridTitleDeps },\n        React.createElement(Template, { name: \"toolbarContent\" },\n            React.createElement(TemplateConnector, null, ({ totalSummaryValues, totalSummaryItems, loadedNamedFilter }) => {\n                const totalAggregate = totalSummaryValues[totalSummaryItems.findIndex(({ type, columnName }) => columnName === \"total\" && type === \"totalAggregate\")];\n                return (React.createElement(React.Fragment, null,\n                    React.createElement(Typography, { variant: \"h6\" }, (() => {\n                        let gridTitle = \"\";\n                        if (title) {\n                            gridTitle = title;\n                        }\n                        if (loadedNamedFilter) {\n                            gridTitle = gridTitle\n                                ? `${gridTitle} (${loadedNamedFilter})`\n                                : `${loadedNamedFilter}`;\n                        }\n                        return gridTitle\n                            ? `${gridTitle}: ${totalAggregate}`\n                            : totalAggregate;\n                    })()),\n                    React.createElement(TemplatePlaceholder, null)));\n            }))));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3JpZFRpdGxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvSm91cm5hbC9EYXRhR3JpZC9wbHVnaW5zL0dyaWRUaXRsZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQzFCLE9BQU8sRUFFTCxNQUFNLEVBQ04sUUFBUSxFQUNSLGlCQUFpQixFQUNqQixtQkFBbUIsR0FDcEIsTUFBTSwyQkFBMkIsQ0FBQztBQUNuQyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFHL0MsTUFBTSxhQUFhLEdBQWtCO0lBQ25DO1FBQ0UsSUFBSSxFQUFFLGNBQWM7UUFDcEIsUUFBUSxFQUFFLEtBQUs7S0FDaEI7SUFDRDtRQUNFLElBQUksRUFBRSxtQkFBbUI7UUFDekIsUUFBUSxFQUFFLEtBQUs7S0FDaEI7Q0FDRixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQXNCLEVBQWUsRUFBRTtJQUN0RSxPQUFPLENBQ0wsb0JBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxXQUFXLEVBQUMsWUFBWSxFQUFFLGFBQWE7UUFDbEQsb0JBQUMsUUFBUSxJQUFDLElBQUksRUFBQyxnQkFBZ0I7WUFDN0Isb0JBQUMsaUJBQWlCLFFBQ2YsQ0FBQyxFQUFFLGtCQUFrQixFQUFFLGlCQUFpQixFQUFFLGlCQUFpQixFQUFFLEVBQUUsRUFBRTtnQkFDaEUsTUFBTSxjQUFjLEdBQUcsa0JBQWtCLENBQ3RDLGlCQUFtQyxDQUFDLFNBQVMsQ0FDNUMsQ0FBQyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLENBQ3ZCLFVBQVUsS0FBSyxPQUFPLElBQUksSUFBSSxLQUFLLGdCQUFnQixDQUN0RCxDQUNRLENBQUM7Z0JBRVosT0FBTyxDQUNMO29CQUNFLG9CQUFDLFVBQVUsSUFBQyxPQUFPLEVBQUMsSUFBSSxJQUNyQixDQUFDLEdBQUcsRUFBRTt3QkFDTCxJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7d0JBRW5CLElBQUksS0FBSyxFQUFFOzRCQUNULFNBQVMsR0FBRyxLQUFLLENBQUM7eUJBQ25CO3dCQUVELElBQUksaUJBQWlCLEVBQUU7NEJBQ3JCLFNBQVMsR0FBRyxTQUFTO2dDQUNuQixDQUFDLENBQUMsR0FBRyxTQUFTLEtBQUssaUJBQWlCLEdBQUc7Z0NBQ3ZDLENBQUMsQ0FBQyxHQUFHLGlCQUFpQixFQUFFLENBQUM7eUJBQzVCO3dCQUVELE9BQU8sU0FBUzs0QkFDZCxDQUFDLENBQUMsR0FBRyxTQUFTLEtBQUssY0FBYyxFQUFFOzRCQUNuQyxDQUFDLENBQUMsY0FBYyxDQUFDO29CQUNyQixDQUFDLENBQUMsRUFBRSxDQUNPO29CQUNiLG9CQUFDLG1CQUFtQixPQUFHLENBQ3RCLENBQ0osQ0FBQztZQUNKLENBQUMsQ0FDaUIsQ0FDWCxDQUNKLENBQ1YsQ0FBQztBQUNKLENBQUMsQ0FBQyJ9","import React, { useCallback } from \"react\";\nimport { Plugin, Action } from \"@devexpress/dx-react-core\";\nimport { unparse } from \"papaparse\";\nimport { saveAs } from \"file-saver\";\nimport { payMethodToStr } from \"../cells/PayMethod\";\nimport { sourceToStr } from \"../cells\";\nimport { EntryType } from \"../../../../apollo/graphTypes\";\nimport { format as formatDate } from \"date-fns\";\nexport const ExportGrid = () => {\n    return (React.createElement(Plugin, { name: \"ExportGrid\" },\n        React.createElement(Action, { name: \"exportGrid\", action: useCallback((...args) => {\n                const [, { rows, loadedNamedFilter }] = args;\n                if (!rows.length) {\n                    return;\n                }\n                const csvStr = unparse(rows.map(({ __typename, date, dateOfRecord, department: { name: department }, category, paymentMethod, description, total, source, reconciled, }) => ({\n                    Date: formatDate(date, \"PP\"),\n                    \"Date off Record\": formatDate((dateOfRecord === null || dateOfRecord === void 0 ? void 0 : dateOfRecord.date) || date, \"PP\"),\n                    Category: category.name,\n                    Department: department,\n                    Source: sourceToStr(source),\n                    \"Payment Method\": payMethodToStr(paymentMethod),\n                    Description: description,\n                    Reconciled: reconciled ? \"Y\" : \"N\",\n                    Total: (() => {\n                        if (__typename === \"EntryRefund\") {\n                            return category.type === EntryType.Credit\n                                ? `(${total.toString()})`\n                                : total;\n                        }\n                        else {\n                            return category.type === EntryType.Credit\n                                ? total\n                                : `(${total.toString()})`;\n                        }\n                    })(),\n                })));\n                const blob = new Blob([csvStr], {\n                    type: \"text/csv;charset=utf-8\",\n                });\n                if (loadedNamedFilter) {\n                    saveAs(blob, `${loadedNamedFilter}-${formatDate(new Date(), \"yyyy-MM-dd\")}.csv`);\n                }\n                else {\n                    saveAs(blob, `journal-${formatDate(new Date(), \"yyyy-MM-dd\")}.csv`);\n                }\n            }, []) })));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXhwb3J0R3JpZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvRGF0YUdyaWQvcGx1Z2lucy9FeHBvcnRHcmlkLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUMzQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDcEMsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFlBQVksQ0FBQztBQUdwQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDcEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN2QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDMUQsT0FBTyxFQUFFLE1BQU0sSUFBSSxVQUFVLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFaEQsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLEdBQUcsRUFBRTtJQUM3QixPQUFPLENBQ0wsb0JBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxZQUFZO1FBQ3ZCLG9CQUFDLE1BQU0sSUFDTCxJQUFJLEVBQUMsWUFBWSxFQUNqQixNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsRUFBRTtnQkFDOUIsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQyxHQUFHLElBR3ZDLENBQUM7Z0JBRUYsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ2hCLE9BQU87aUJBQ1I7Z0JBRUQsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUNwQixJQUFJLENBQUMsR0FBRyxDQUNOLENBQUMsRUFDQyxVQUFVLEVBQ1YsSUFBSSxFQUNKLFlBQVksRUFDWixVQUFVLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEVBQ2hDLFFBQVEsRUFDUixhQUFhLEVBQ2IsV0FBVyxFQUNYLEtBQUssRUFDTCxNQUFNLEVBQ04sVUFBVSxHQUNYLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQ0wsSUFBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO29CQUM1QixpQkFBaUIsRUFBRSxVQUFVLENBQUMsQ0FBQSxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsSUFBSSxLQUFJLElBQUksRUFBRSxJQUFJLENBQUM7b0JBQy9ELFFBQVEsRUFBRSxRQUFRLENBQUMsSUFBSTtvQkFDdkIsVUFBVSxFQUFFLFVBQVU7b0JBQ3RCLE1BQU0sRUFBRSxXQUFXLENBQUMsTUFBTSxDQUFDO29CQUMzQixnQkFBZ0IsRUFBRSxjQUFjLENBQUMsYUFBYSxDQUFDO29CQUMvQyxXQUFXLEVBQUUsV0FBVztvQkFDeEIsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHO29CQUNsQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUU7d0JBQ1gsSUFBSSxVQUFVLEtBQUssYUFBYSxFQUFFOzRCQUNoQyxPQUFPLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLE1BQU07Z0NBQ3ZDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsR0FBRztnQ0FDekIsQ0FBQyxDQUFDLEtBQUssQ0FBQzt5QkFDWDs2QkFBTTs0QkFDTCxPQUFPLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLE1BQU07Z0NBQ3ZDLENBQUMsQ0FBQyxLQUFLO2dDQUNQLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDO3lCQUM3QjtvQkFDSCxDQUFDLENBQUMsRUFBRTtpQkFDTCxDQUFDLENBQ0gsQ0FDRixDQUFDO2dCQUVGLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUU7b0JBQzlCLElBQUksRUFBRSx3QkFBd0I7aUJBQy9CLENBQUMsQ0FBQztnQkFFSCxJQUFJLGlCQUFpQixFQUFFO29CQUNyQixNQUFNLENBQ0osSUFBSSxFQUNKLEdBQUcsaUJBQWlCLElBQUksVUFBVSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsWUFBWSxDQUFDLE1BQU0sQ0FDbkUsQ0FBQztpQkFDSDtxQkFBTTtvQkFDTCxNQUFNLENBQUMsSUFBSSxFQUFFLFdBQVcsVUFBVSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUNyRTtZQUNILENBQUMsRUFBRSxFQUFFLENBQUMsR0FDTixDQUNLLENBQ1YsQ0FBQztBQUNKLENBQUMsQ0FBQyJ9","import React, { useCallback, useState } from \"react\";\nimport { Plugin, Template, TemplateConnector, TemplatePlaceholder, } from \"@devexpress/dx-react-core\";\nimport { IconButton, ListItemIcon, ListItemSecondaryAction, ListItemText, Menu, MenuItem, Switch, } from \"@material-ui/core\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport ReconcileIcon from \"@material-ui/icons/DoneAll\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport { ExportGrid } from \"./ExportGrid\";\nconst anchorOrigin = {\n    vertical: \"top\",\n    horizontal: \"right\",\n};\nconst transformOrigin = {\n    vertical: \"top\",\n    horizontal: \"right\",\n};\nconst deps = [\n    {\n        name: \"EntryActionState\",\n        optional: false,\n    },\n];\nexport const GridMenu = () => {\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [open, setOpen] = useState(false);\n    return (React.createElement(Plugin, { name: \"GridMenu\", dependencies: deps },\n        React.createElement(ExportGrid, null),\n        React.createElement(Template, { name: \"toolbarContent\" },\n            React.createElement(TemplatePlaceholder, null),\n            React.createElement(TemplateConnector, null, useCallback(({ reconcileMode }, { changeReconcileMode, exportGrid }) => (React.createElement(React.Fragment, null,\n                React.createElement(IconButton, { ref: setAnchorEl, onClick: () => {\n                        setOpen(true);\n                    }, edge: \"end\" },\n                    React.createElement(MoreIcon, null)),\n                React.createElement(Menu, { anchorEl: anchorEl, open: open, anchorOrigin: anchorOrigin, transformOrigin: transformOrigin, onClose: () => {\n                        setOpen(false);\n                    } },\n                    React.createElement(MenuItem, { style: {\n                            minWidth: \"300px\",\n                        }, button: false },\n                        React.createElement(ListItemIcon, null,\n                            React.createElement(ReconcileIcon, null)),\n                        React.createElement(ListItemText, { primary: \"Reconcile Mode\" }),\n                        React.createElement(ListItemSecondaryAction, null,\n                            React.createElement(Switch, { checked: reconcileMode, edge: \"end\", onChange: (_, checked) => {\n                                    changeReconcileMode(checked);\n                                } }))),\n                    React.createElement(MenuItem, { button: true, onClick: () => {\n                            exportGrid();\n                            setOpen(false);\n                        } },\n                        React.createElement(ListItemIcon, null,\n                            React.createElement(SaveIcon, null)),\n                        React.createElement(ListItemText, { primary: \"Save to Disk\" }))))), [anchorEl, open])))));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3JpZE1lbnUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9Kb3VybmFsL0RhdGFHcmlkL3BsdWdpbnMvR3JpZE1lbnUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUNyRCxPQUFPLEVBRUwsTUFBTSxFQUNOLFFBQVEsRUFDUixpQkFBaUIsRUFDakIsbUJBQW1CLEdBQ3BCLE1BQU0sMkJBQTJCLENBQUM7QUFDbkMsT0FBTyxFQUNMLFVBQVUsRUFDVixZQUFZLEVBQ1osdUJBQXVCLEVBQ3ZCLFlBQVksRUFDWixJQUFJLEVBQ0osUUFBUSxFQUVSLE1BQU0sR0FDUCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sUUFBUSxNQUFNLDZCQUE2QixDQUFDO0FBQ25ELE9BQU8sYUFBYSxNQUFNLDRCQUE0QixDQUFDO0FBQ3ZELE9BQU8sUUFBUSxNQUFNLHlCQUF5QixDQUFDO0FBRS9DLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFMUMsTUFBTSxZQUFZLEdBQWtCO0lBQ2xDLFFBQVEsRUFBRSxLQUFLO0lBQ2YsVUFBVSxFQUFFLE9BQU87Q0FDcEIsQ0FBQztBQUNGLE1BQU0sZUFBZSxHQUFrQjtJQUNyQyxRQUFRLEVBQUUsS0FBSztJQUNmLFVBQVUsRUFBRSxPQUFPO0NBQ3BCLENBQUM7QUFFRixNQUFNLElBQUksR0FBa0I7SUFDMUI7UUFDRSxJQUFJLEVBQUUsa0JBQWtCO1FBQ3hCLFFBQVEsRUFBRSxLQUFLO0tBQ2hCO0NBQ0YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxHQUFnQixFQUFFO0lBQ3hDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEdBQUcsUUFBUSxDQUEyQixJQUFJLENBQUMsQ0FBQztJQUV6RSxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUV4QyxPQUFPLENBQ0wsb0JBQUMsTUFBTSxJQUFDLElBQUksRUFBQyxVQUFVLEVBQUMsWUFBWSxFQUFFLElBQUk7UUFDeEMsb0JBQUMsVUFBVSxPQUFHO1FBQ2Qsb0JBQUMsUUFBUSxJQUFDLElBQUksRUFBQyxnQkFBZ0I7WUFDN0Isb0JBQUMsbUJBQW1CLE9BQUc7WUFDdkIsb0JBQUMsaUJBQWlCLFFBQ2YsV0FBVyxDQUNWLENBQUMsRUFBRSxhQUFhLEVBQUUsRUFBRSxFQUFFLG1CQUFtQixFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUMxRDtnQkFDRSxvQkFBQyxVQUFVLElBQ1QsR0FBRyxFQUFFLFdBQVcsRUFDaEIsT0FBTyxFQUFFLEdBQUcsRUFBRTt3QkFDWixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2hCLENBQUMsRUFDRCxJQUFJLEVBQUMsS0FBSztvQkFFVixvQkFBQyxRQUFRLE9BQUcsQ0FDRDtnQkFDYixvQkFBQyxJQUFJLElBQ0gsUUFBUSxFQUFFLFFBQVEsRUFDbEIsSUFBSSxFQUFFLElBQUksRUFDVixZQUFZLEVBQUUsWUFBWSxFQUMxQixlQUFlLEVBQUUsZUFBZSxFQUNoQyxPQUFPLEVBQUUsR0FBRyxFQUFFO3dCQUNaLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDakIsQ0FBQztvQkFFRCxvQkFBQyxRQUFRLElBQ1AsS0FBSyxFQUFFOzRCQUNMLFFBQVEsRUFBRSxPQUFPO3lCQUNsQixFQUNELE1BQU0sRUFBRSxLQUFLO3dCQUViLG9CQUFDLFlBQVk7NEJBQ1gsb0JBQUMsYUFBYSxPQUFHLENBQ0o7d0JBQ2Ysb0JBQUMsWUFBWSxJQUFDLE9BQU8sRUFBQyxnQkFBZ0IsR0FBRzt3QkFDekMsb0JBQUMsdUJBQXVCOzRCQUN0QixvQkFBQyxNQUFNLElBQ0wsT0FBTyxFQUFFLGFBQWEsRUFDdEIsSUFBSSxFQUFDLEtBQUssRUFDVixRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUU7b0NBQ3ZCLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dDQUMvQixDQUFDLEdBQ0QsQ0FDc0IsQ0FDakI7b0JBQ1gsb0JBQUMsUUFBUSxJQUNQLE1BQU0sUUFDTixPQUFPLEVBQUUsR0FBRyxFQUFFOzRCQUNaLFVBQVUsRUFBRSxDQUFDOzRCQUNiLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDakIsQ0FBQzt3QkFFRCxvQkFBQyxZQUFZOzRCQUNYLG9CQUFDLFFBQVEsT0FBRyxDQUNDO3dCQUNmLG9CQUFDLFlBQVksSUFBQyxPQUFPLEVBQUMsY0FBYyxHQUFHLENBQzlCLENBQ04sQ0FDTixDQUNKLEVBQ0QsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQ2pCLENBQ2lCLENBQ1gsQ0FDSixDQUNWLENBQUM7QUFDSixDQUFDLENBQUMifQ==","/* eslint-disable react/prop-types */\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport { Paper } from \"@material-ui/core\";\nimport { SummaryState, IntegratedSummary, SortingState, IntegratedSorting, SearchState, IntegratedFiltering, } from \"@devexpress/dx-react-grid\";\nimport { Grid, TableHeaderRow, TableSummaryRow, TableColumnResizing, TableColumnReordering, DragDropProvider, TableColumnVisibility, ColumnChooser, VirtualTable, SearchPanel, Toolbar, TableFilterRow, } from \"@devexpress/dx-react-grid-material-ui\";\nimport { green, red } from \"@material-ui/core/colors\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useQuery } from \"@apollo/client\";\nimport { compareAsc } from \"date-fns\";\nimport Fraction from \"fraction.js\";\nimport { ValueNode } from \"mui-tree-select\";\nimport md5 from \"md5\";\nimport { EntryType, } from \"../../../apollo/graphTypes\";\nimport { deserializeDate, deserializeRational } from \"../../../apollo/scalars\";\nimport { GRID_ENTRIES, GRID_ENTRY_REFUNDS } from \"./Grid.gql\";\nimport OverlayLoading from \"../../utils/OverlayLoading\";\nimport useLocalStorage from \"../../utils/useLocalStorage\";\nimport { FilteringState, DataCell, FilterCell, DataCellProvider, FilterCellProvider, EntryActionState, EntryAction, EditColumnFilterHeaderCell, } from \"./plugins\";\nimport { BoolCell, BoolFilter, CategoryCell, CategoryFilter, categoryFilterColumnExtension, DateCell, DateFilter, dateFilterColumnExtension, DeptCell, DeptFilter, deptFilterColumnExtension, PayMethodCell, PayMethodFilter, payMethodFilterColumnExtension, RationalCell, RationalFilter, rationalFilterColumnExtension, SourceCell, SourceFilter, sourceFilterColumnExtension, sourceToStr, } from \"./cells\";\nimport { DefaultEditor } from \"./filters\";\nimport { getOptionLabel as getCategoryOptionLabel, } from \"../../Inputs/Category\";\nimport { dialogProps } from \"./forms/shared\";\nimport { GridTitle } from \"./plugins/GridTitle\";\nimport { GridMenu } from \"./plugins/GridMenu\";\nconst GridRoot = (props) => (React.createElement(Grid.Root, { ...props, style: { height: \"100%\" } }));\nconst deserializeGridRefund = (refund) => ({\n    ...refund,\n    date: deserializeDate(refund.date),\n    dateOfRecord: (refund.dateOfRecord\n        ? {\n            ...refund.dateOfRecord,\n            date: deserializeDate(refund.dateOfRecord.date),\n        }\n        : undefined),\n    total: deserializeRational(refund.total),\n});\nconst deserializeEntry = (entry) => ({\n    ...entry,\n    date: deserializeDate(entry.date),\n    dateOfRecord: entry.dateOfRecord\n        ? {\n            ...entry.dateOfRecord,\n            date: deserializeDate(entry.dateOfRecord.date),\n        }\n        : undefined,\n    total: deserializeRational(entry.total),\n    refunds: (\"refunds\" in entry ? entry.refunds : []).map((refund) => deserializeGridRefund(refund)),\n});\n// DX React Grid\nconst getRowId = (row) => row.id;\n// Styles\nconst useStyles = makeStyles({\n    creditCell: {\n        color: green[900],\n    },\n    debitCell: {\n        color: red[900],\n    },\n    paper: {\n        height: \"100vh\",\n    },\n});\nconst dateDefaultFormat = {\n    locales: \"en-US\",\n    options: { month: \"short\", day: \"2-digit\", year: \"numeric\" },\n};\nconst dateDefaultFormatter = new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"2-digit\",\n    year: \"numeric\",\n});\nconst currencyFormat = {\n    locales: \"en-US\",\n    options: { style: \"currency\", currency: \"USD\" },\n};\nconst defaultCurrencyFormatter = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n});\nconst columns = [\n    {\n        name: \"date\",\n        title: \"Date\",\n        getCellValue: (row) => (row === null || row === void 0 ? void 0 : row.date) || null,\n    },\n    {\n        name: \"dateOfRecord\",\n        title: \"Date of Record\",\n        getCellValue: (row) => { var _a; return ((_a = row === null || row === void 0 ? void 0 : row.dateOfRecord) === null || _a === void 0 ? void 0 : _a.date) || (row === null || row === void 0 ? void 0 : row.date) || null; },\n    },\n    {\n        name: \"department\",\n        title: \"Department\",\n    },\n    {\n        name: \"category\",\n        title: \"Category\",\n    },\n    {\n        name: \"paymentMethod\",\n        title: \"Payment Method\",\n    },\n    {\n        name: \"description\",\n        title: \"Description\",\n    },\n    {\n        name: \"total\",\n        title: \"Total\",\n        getCellValue: (row) => (row === null || row === void 0 ? void 0 : row.total) || null,\n    },\n    {\n        name: \"source\",\n        title: \"Source\",\n    },\n    {\n        name: \"reconciled\",\n        title: \"Reconciled\",\n    },\n];\nconst summaryCalculator = (type, rows, getValue) => {\n    if (type === \"totalAggregate\") {\n        return defaultCurrencyFormatter.format(rows\n            .reduce((sum, row) => {\n            if (row.__typename === \"EntryRefund\") {\n                return row.category.type === EntryType.Credit\n                    ? sum.sub(getValue(row))\n                    : sum.add(getValue(row));\n            }\n            else {\n                return row.category.type === EntryType.Credit\n                    ? sum.add(getValue(row))\n                    : sum.sub(getValue(row));\n            }\n        }, new Fraction(0))\n            .valueOf());\n    }\n    else {\n        return IntegratedSummary.defaultCalculator(type, rows, getValue);\n    }\n};\nconst messages = {\n    totalAggregate: \"Balance\",\n    count: \"Transactions\",\n};\nconst totalItems = [\n    { columnName: \"total\", type: \"count\" },\n    {\n        columnName: \"total\",\n        type: \"totalAggregate\",\n    },\n];\nconst defaultColumnWidths = [\n    {\n        columnName: \"id\",\n        width: \"50px\",\n    },\n    {\n        columnName: \"date\",\n        width: \"135px\",\n    },\n    {\n        columnName: \"dateOfRecord\",\n        width: \"135px\",\n    },\n    {\n        columnName: \"type\",\n        width: \"85px\",\n    },\n    {\n        columnName: \"department\",\n        width: \"180px\",\n    },\n    {\n        columnName: \"category\",\n        width: \"180px\",\n    },\n    {\n        columnName: \"paymentMethod\",\n        width: \"135px\",\n    },\n    {\n        columnName: \"description\",\n        width: \"300px\",\n    },\n    {\n        columnName: \"total\",\n        width: \"175px\",\n    },\n    {\n        columnName: \"source\",\n        width: \"180px\",\n    },\n    {\n        columnName: \"reconciled\",\n        width: \"135px\",\n    },\n];\nconst defaultColumnOrder = columns.map((column) => column.name);\nconst namedFilterSerialization = {\n    serialize: (namedFilters) => JSON.stringify(namedFilters, function (key, value) {\n        const rawValue = this[key];\n        if (rawValue instanceof Date) {\n            return { _TYPE_: \"Date\", value: this[key].toISOString() };\n        }\n        else if (rawValue instanceof Fraction) {\n            return {\n                _TYPE_: \"Rational\",\n                value: {\n                    s: rawValue.s,\n                    n: rawValue.n,\n                    d: rawValue.d,\n                },\n            };\n        }\n        return value;\n    }),\n    deserialize: (namedFilters) => JSON.parse(namedFilters, (_, value) => {\n        if (value &&\n            typeof value === \"object\" &&\n            \"_TYPE_\" in value &&\n            \"value\" in value) {\n            switch (value._TYPE_) {\n                case \"Date\":\n                    return new Date(value.value);\n                case \"Rational\":\n                    return new Fraction(value.value);\n            }\n        }\n        return value;\n    }),\n};\nconst defaultSorting = [\n    { columnName: \"dateOfRecord\", direction: \"asc\" },\n];\nconst integratedSortingColumnExtensions = [\n    { columnName: \"total\", compare: (a, b) => a.compare(b) },\n    { columnName: \"date\", compare: compareAsc },\n    { columnName: \"dateOfRecord\", compare: compareAsc },\n    { columnName: \"dateOfRecord\", compare: compareAsc },\n];\nconst dateToString = new Intl.DateTimeFormat(dateDefaultFormat === null || dateDefaultFormat === void 0 ? void 0 : dateDefaultFormat.locales, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndateDefaultFormat === null || dateDefaultFormat === void 0 ? void 0 : dateDefaultFormat.options);\nconst currencyToString = new Intl.NumberFormat(currencyFormat.locales, currencyFormat.options);\nconst integratedFilteringColumnExtensions = [\n    dateFilterColumnExtension(\"date\", (date) => dateToString.format(date)),\n    dateFilterColumnExtension(\"dateOfRecord\", (date) => dateToString.format(date)),\n    categoryFilterColumnExtension(\"category\", (value) => getCategoryOptionLabel(new ValueNode(value))),\n    deptFilterColumnExtension(\"department\", (value) => value.name),\n    payMethodFilterColumnExtension(\"paymentMethod\"),\n    rationalFilterColumnExtension(\"total\", (value) => `${value.toString()} ${currencyToString.format(value.valueOf())}`),\n    sourceFilterColumnExtension(\"source\", sourceToStr),\n];\nconst JournalGrid = (props) => {\n    var _a, _b;\n    const classes = useStyles();\n    const entryVariables = useMemo(() => ({\n        where: props.where,\n        filterRefunds: true,\n    }), [props.where]);\n    const entryRefundVariables = props === null || props === void 0 ? void 0 : props.refundsWhere;\n    const cachePrefix = useMemo(() => { var _a; return (_a = props.layoutCacheKey) !== null && _a !== void 0 ? _a : `${md5(JSON.stringify(props.where))}`; }, [props.where, props.layoutCacheKey]);\n    const gridEntryResults = useQuery(GRID_ENTRIES, {\n        variables: entryVariables,\n        fetchPolicy: \"cache-and-network\",\n    });\n    const gridEntryRefundResults = useQuery(GRID_ENTRY_REFUNDS, {\n        skip: !entryRefundVariables,\n        variables: entryRefundVariables,\n        fetchPolicy: \"cache-and-network\",\n    });\n    const loading = gridEntryResults.loading || gridEntryRefundResults.loading;\n    const error = gridEntryResults.error || gridEntryRefundResults.error;\n    const rows = useMemo(() => {\n        var _a, _b;\n        const refundsMap = (((_a = gridEntryRefundResults.data) === null || _a === void 0 ? void 0 : _a.entryRefunds) || []).reduce((refundsMap, { entry, ...refundRaw }) => {\n            if (!refundRaw.deleted) {\n                const refund = deserializeGridRefund(refundRaw);\n                refundsMap.set(refund.id, {\n                    ...deserializeEntry(entry),\n                    ...refund,\n                    refunds: [refund],\n                    entryId: entry.id,\n                });\n            }\n            return refundsMap;\n        }, new Map());\n        const gridEntries = (((_b = gridEntryResults.data) === null || _b === void 0 ? void 0 : _b.entries) || []).reduce((entries, entryRaw) => {\n            if (entryRaw.deleted) {\n                return entries;\n            }\n            const entry = deserializeEntry(entryRaw);\n            entries.push(entry);\n            if (entry.refunds.length > 0) {\n                for (const refund of entry.refunds) {\n                    if (!refund.deleted) {\n                        const refundEntry = (() => {\n                            if (refundsMap.has(refund.id)) {\n                                const refundEntry = refundsMap.get(refund.id);\n                                refundsMap.delete(refund.id);\n                                return refundEntry;\n                            }\n                            return {\n                                ...entry,\n                                ...refund,\n                                entryId: entry.id,\n                            };\n                        })();\n                        entries.push(refundEntry);\n                    }\n                }\n            }\n            return entries;\n        }, []);\n        gridEntries.push(...refundsMap.values());\n        return gridEntries;\n    }, [\n        (_a = gridEntryRefundResults.data) === null || _a === void 0 ? void 0 : _a.entryRefunds,\n        (_b = gridEntryResults.data) === null || _b === void 0 ? void 0 : _b.entries,\n    ]);\n    const filterCellProviderProps = useMemo(() => {\n        const deptFilterOpts = new Map();\n        const payMethodFilterOpts = [];\n        const categoryFilterOpts = new Map();\n        const srcFilterOpts = new Map();\n        for (const row of rows) {\n            const { department, category, source, paymentMethod } = row;\n            if (!deptFilterOpts.has(department.id)) {\n                deptFilterOpts.set(department.id, department);\n            }\n            payMethodFilterOpts.push(paymentMethod);\n            if (!categoryFilterOpts.has(category.id)) {\n                categoryFilterOpts.set(category.id, category);\n            }\n            const srcKey = `${source.__typename}_${source.id}`;\n            if (!srcFilterOpts.has(srcKey)) {\n                srcFilterOpts.set(srcKey, source);\n            }\n        }\n        return {\n            category: {\n                cell: CategoryFilter,\n                props: {\n                    categoryFilterOpts: [...categoryFilterOpts.values()],\n                },\n            },\n            date: {\n                cell: DateFilter,\n            },\n            dateOfRecord: {\n                cell: DateFilter,\n            },\n            department: {\n                cell: DeptFilter,\n                props: {\n                    deptFilterOpts: [...deptFilterOpts.values()],\n                },\n            },\n            paymentMethod: {\n                cell: PayMethodFilter,\n                props: {\n                    payMethodFilterOpts,\n                },\n            },\n            reconciled: {\n                cell: BoolFilter,\n                props: {\n                    boolLabels: {\n                        trueLabel: \"Reconciled\",\n                        falseLabel: \"Unreconciled\",\n                    },\n                },\n            },\n            source: {\n                cell: SourceFilter,\n                props: {\n                    srcFilterOpts: [...srcFilterOpts.values()],\n                },\n            },\n            total: {\n                cell: RationalFilter,\n                props: {\n                    rationalInputProps: {\n                        InputProps: {\n                            startAdornment: \"$\",\n                        },\n                    },\n                },\n            },\n        };\n    }, [rows]);\n    const [columnOrder, setColumnOrder] = useLocalStorage({\n        defaultValue: defaultColumnOrder,\n        cacheKey: `column_order_${cachePrefix}`,\n    });\n    const [columnWidths, setColumnWidths] = useLocalStorage({\n        defaultValue: defaultColumnWidths,\n        cacheKey: `column_widths_${cachePrefix}`,\n    });\n    const [hiddenColumnNames, setHiddenColumnNames] = useLocalStorage({\n        defaultValue: [],\n        cacheKey: `column_visibility_${cachePrefix}`,\n    });\n    const [sorting, setSorting] = useLocalStorage({\n        defaultValue: defaultSorting,\n        cacheKey: `column_visibility_sorting${cachePrefix}`,\n    });\n    const [filters, setFilters] = useState([]);\n    const [namedFilters, setNamedFilters] = useLocalStorage({\n        defaultValue: {},\n        cacheKey: `named_filters_${cachePrefix}`,\n        serializer: namedFilterSerialization,\n    });\n    const dataCellColor = useCallback(({ className = \"\", row, ...rest }) => {\n        const colorClass = (() => {\n            if (row.__typename === \"EntryRefund\") {\n                return row.category.type === EntryType.Credit\n                    ? classes.debitCell\n                    : classes.creditCell;\n            }\n            else {\n                return row.category.type === EntryType.Credit\n                    ? classes.creditCell\n                    : classes.debitCell;\n            }\n        })();\n        return {\n            className: `${className} ${colorClass}`.trim(),\n            row,\n            ...rest,\n        };\n    }, [classes.creditCell, classes.debitCell]);\n    const dataCellProviderProps = useMemo(() => {\n        return {\n            date: {\n                cell: DateCell,\n                props: (props) => dataCellColor({\n                    ...props,\n                    formatter: dateDefaultFormatter,\n                }),\n            },\n            dateOfRecord: {\n                cell: DateCell,\n                props: (props) => dataCellColor({\n                    ...props,\n                    formatter: dateDefaultFormatter,\n                }),\n            },\n            department: {\n                cell: DeptCell,\n                props: dataCellColor,\n            },\n            category: {\n                cell: CategoryCell,\n                props: dataCellColor,\n            },\n            paymentMethod: {\n                cell: PayMethodCell,\n                props: dataCellColor,\n            },\n            description: {\n                props: dataCellColor,\n            },\n            total: {\n                cell: RationalCell,\n                props: (props) => dataCellColor({\n                    ...props,\n                    formatter: defaultCurrencyFormatter,\n                }),\n            },\n            source: {\n                cell: SourceCell,\n                props: dataCellColor,\n            },\n            reconciled: {\n                cell: BoolCell,\n                props: dataCellColor,\n            },\n        };\n    }, [dataCellColor]);\n    const [upsertEntryProps, upsertRefundProps, deleteEntryProps, reconcileEntriesProps,] = useMemo(() => [\n        {\n            dialogProps,\n            entryProps: {\n                paymentMethod: { accounts: props.selectableAccounts },\n                department: {\n                    root: props.selectableDepts,\n                },\n            },\n            refetchQueries: {\n                onNewEntry: [\n                    {\n                        query: GRID_ENTRIES,\n                        variables: entryVariables,\n                    },\n                ],\n            },\n        },\n        {\n            dialogProps,\n            refundProps: {\n                paymentMethod: { accounts: props.selectableAccounts },\n            },\n            refetchQueries: entryRefundVariables\n                ? {\n                    onNewEntryRefund: [\n                        {\n                            query: GRID_ENTRY_REFUNDS,\n                            variables: entryRefundVariables,\n                        },\n                    ],\n                    onUpdateEntryRefund: [\n                        {\n                            query: GRID_ENTRY_REFUNDS,\n                            variables: entryRefundVariables,\n                        },\n                        {\n                            query: GRID_ENTRIES,\n                            variables: entryVariables,\n                        },\n                    ],\n                }\n                : undefined,\n        },\n        {\n            keepMounted: false,\n            maxWidth: \"sm\",\n            fullWidth: true,\n        },\n        {\n            dialogProps: {\n                keepMounted: false,\n                maxWidth: \"sm\",\n                fullWidth: true,\n            },\n        },\n    ], [\n        props.selectableAccounts,\n        props.selectableDepts,\n        entryVariables,\n        entryRefundVariables,\n    ]);\n    if (error) {\n        return React.createElement(\"div\", null, error.message);\n    }\n    return (React.createElement(Paper, { className: classes.paper },\n        React.createElement(Grid, { columns: columns, rows: rows, getRowId: getRowId, rootComponent: GridRoot },\n            React.createElement(DragDropProvider, null),\n            React.createElement(EntryActionState, { reconcileMode: props.reconcileMode, upsertEntryProps: upsertEntryProps, upsertRefundProps: upsertRefundProps, deleteEntryProps: deleteEntryProps, reconcileEntriesProps: reconcileEntriesProps }),\n            React.createElement(SearchState, null),\n            React.createElement(FilteringState, { filters: filters, onFiltersChange: setFilters, namedFilters: namedFilters, onNamedFiltersChange: setNamedFilters }),\n            React.createElement(SortingState, { sorting: sorting, onSortingChange: setSorting }),\n            React.createElement(SummaryState, { totalItems: totalItems }),\n            React.createElement(IntegratedFiltering, { columnExtensions: integratedFilteringColumnExtensions }),\n            React.createElement(IntegratedSummary, { calculator: summaryCalculator }),\n            React.createElement(IntegratedSorting, { columnExtensions: integratedSortingColumnExtensions }),\n            React.createElement(VirtualTable, { height: \"auto\", cellComponent: DataCell, \n                // Allows for named filters\n                stubHeaderCellComponent: EditColumnFilterHeaderCell }),\n            React.createElement(TableColumnResizing, { columnWidths: columnWidths, onColumnWidthsChange: setColumnWidths }),\n            React.createElement(TableColumnReordering, { order: columnOrder, onOrderChange: setColumnOrder }),\n            React.createElement(TableHeaderRow, { showSortingControls: true }),\n            React.createElement(TableFilterRow, { showFilterSelector: true, cellComponent: FilterCell, editorComponent: DefaultEditor }),\n            React.createElement(DataCellProvider, { ...dataCellProviderProps }),\n            React.createElement(FilterCellProvider, { ...filterCellProviderProps }),\n            React.createElement(TableColumnVisibility, { hiddenColumnNames: hiddenColumnNames, onHiddenColumnNamesChange: setHiddenColumnNames }),\n            React.createElement(Toolbar, null),\n            React.createElement(GridTitle, { title: props.title }),\n            React.createElement(SearchPanel, null),\n            React.createElement(ColumnChooser, null),\n            React.createElement(TableSummaryRow, { messages: messages }),\n            React.createElement(EntryAction, null),\n            React.createElement(GridMenu, null)),\n        (loading || !!props.loading) && React.createElement(OverlayLoading, { zIndex: \"modal\" })));\n};\nexport default JournalGrid;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3JpZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0pvdXJuYWwvRGF0YUdyaWQvR3JpZC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUNBQXFDO0FBQ3JDLE9BQU8sS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDOUQsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzFDLE9BQU8sRUFDTCxZQUFZLEVBRVosaUJBQWlCLEVBR2pCLFlBQVksRUFFWixpQkFBaUIsRUFDakIsV0FBVyxFQUVYLG1CQUFtQixHQUNwQixNQUFNLDJCQUEyQixDQUFDO0FBQ25DLE9BQU8sRUFDTCxJQUFJLEVBR0osY0FBYyxFQUNkLGVBQWUsRUFFZixtQkFBbUIsRUFDbkIscUJBQXFCLEVBRXJCLGdCQUFnQixFQUNoQixxQkFBcUIsRUFFckIsYUFBYSxFQUNiLFlBQVksRUFDWixXQUFXLEVBQ1gsT0FBTyxFQUNQLGNBQWMsR0FDZixNQUFNLHVDQUF1QyxDQUFDO0FBQy9DLE9BQU8sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMxQyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ3RDLE9BQU8sUUFBUSxNQUFNLGFBQWEsQ0FBQztBQUNuQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDNUMsT0FBTyxHQUFHLE1BQU0sS0FBSyxDQUFDO0FBRXRCLE9BQU8sRUFNTCxTQUFTLEdBUVYsTUFBTSw0QkFBNEIsQ0FBQztBQUNwQyxPQUFPLEVBQUUsZUFBZSxFQUFFLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDL0UsT0FBTyxFQUFFLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUM5RCxPQUFPLGNBQWMsTUFBTSw0QkFBNEIsQ0FBQztBQUN4RCxPQUFPLGVBRU4sTUFBTSw2QkFBNkIsQ0FBQztBQUNyQyxPQUFPLEVBQ0wsY0FBYyxFQUVkLFFBQVEsRUFDUixVQUFVLEVBQ1YsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUVsQixnQkFBZ0IsRUFDaEIsV0FBVyxFQUNYLDBCQUEwQixHQUUzQixNQUFNLFdBQVcsQ0FBQztBQUNuQixPQUFPLEVBQ0wsUUFBUSxFQUNSLFVBQVUsRUFFVixZQUFZLEVBQ1osY0FBYyxFQUNkLDZCQUE2QixFQUU3QixRQUFRLEVBQ1IsVUFBVSxFQUNWLHlCQUF5QixFQUN6QixRQUFRLEVBQ1IsVUFBVSxFQUNWLHlCQUF5QixFQUV6QixhQUFhLEVBQ2IsZUFBZSxFQUVmLDhCQUE4QixFQUM5QixZQUFZLEVBQ1osY0FBYyxFQUNkLDZCQUE2QixFQUU3QixVQUFVLEVBQ1YsWUFBWSxFQUNaLDJCQUEyQixFQUUzQixXQUFXLEdBQ1osTUFBTSxTQUFTLENBQUM7QUFDakIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUUxQyxPQUFPLEVBRUwsY0FBYyxJQUFJLHNCQUFzQixHQUN6QyxNQUFNLHVCQUF1QixDQUFDO0FBSy9CLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDaEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRzlDLE1BQU0sUUFBUSxHQUFHLENBQUMsS0FBcUIsRUFBRSxFQUFFLENBQUMsQ0FDMUMsb0JBQUMsSUFBSSxDQUFDLElBQUksT0FBSyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFJLENBQ3BELENBQUM7QUEyQkYsTUFBTSxxQkFBcUIsR0FBRyxDQUFDLE1BQTBCLEVBQWMsRUFBRSxDQUFDLENBQUM7SUFDekUsR0FBRyxNQUFNO0lBQ1QsSUFBSSxFQUFFLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2xDLFlBQVksRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZO1FBQ2hDLENBQUMsQ0FBQztZQUNFLEdBQUcsTUFBTSxDQUFDLFlBQVk7WUFDdEIsSUFBSSxFQUFFLGVBQWUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztTQUNoRDtRQUNILENBQUMsQ0FBQyxTQUFTLENBQStCO0lBQzVDLEtBQUssRUFBRSxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0NBQ3pDLENBQUMsQ0FBQztBQUVILE1BQU0sZ0JBQWdCLEdBQUcsQ0FDdkIsS0FBMkQsRUFDaEQsRUFBRSxDQUNiLENBQUM7SUFDQyxHQUFHLEtBQUs7SUFDUixJQUFJLEVBQUUsZUFBZSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDakMsWUFBWSxFQUFFLEtBQUssQ0FBQyxZQUFZO1FBQzlCLENBQUMsQ0FBQztZQUNFLEdBQUcsS0FBSyxDQUFDLFlBQVk7WUFDckIsSUFBSSxFQUFFLGVBQWUsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztTQUMvQztRQUNILENBQUMsQ0FBQyxTQUFTO0lBQ2IsS0FBSyxFQUFFLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDdkMsT0FBTyxFQUFFLENBQUMsU0FBUyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUNwRCxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLENBQzFDO0NBQ1ksQ0FBQSxDQUFDO0FBbUJsQixnQkFBZ0I7QUFDaEIsTUFBTSxRQUFRLEdBQXVDLENBQUMsR0FBc0IsRUFBRSxFQUFFLENBQzlFLEdBQUcsQ0FBQyxFQUFFLENBQUM7QUFFVCxTQUFTO0FBQ1QsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDO0lBQzNCLFVBQVUsRUFBRTtRQUNWLEtBQUssRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDO0tBQ2xCO0lBQ0QsU0FBUyxFQUFFO1FBQ1QsS0FBSyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUM7S0FDaEI7SUFDRCxLQUFLLEVBQUU7UUFDTCxNQUFNLEVBQUUsT0FBTztLQUNoQjtDQUNGLENBQUMsQ0FBQztBQUVILE1BQU0saUJBQWlCLEdBQUc7SUFDeEIsT0FBTyxFQUFFLE9BQU87SUFDaEIsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUU7Q0FDN0QsQ0FBQztBQUVGLE1BQU0sb0JBQW9CLEdBQUcsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRTtJQUM1RCxLQUFLLEVBQUUsT0FBTztJQUNkLEdBQUcsRUFBRSxTQUFTO0lBQ2QsSUFBSSxFQUFFLFNBQVM7Q0FDaEIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxjQUFjLEdBQUc7SUFDckIsT0FBTyxFQUFFLE9BQU87SUFDaEIsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFO0NBQ2hELENBQUM7QUFFRixNQUFNLHdCQUF3QixHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUU7SUFDOUQsS0FBSyxFQUFFLFVBQVU7SUFDakIsUUFBUSxFQUFFLEtBQUs7Q0FDaEIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxPQUFPLEdBQUc7SUFDZDtRQUNFLElBQUksRUFBRSxNQUFNO1FBQ1osS0FBSyxFQUFFLE1BQU07UUFDYixZQUFZLEVBQUUsQ0FBQyxHQUFlLEVBQUUsRUFBRSxDQUFDLENBQUEsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLElBQUksS0FBSSxJQUFJO0tBQ3JEO0lBQ0Q7UUFDRSxJQUFJLEVBQUUsY0FBYztRQUNwQixLQUFLLEVBQUUsZ0JBQWdCO1FBQ3ZCLFlBQVksRUFBRSxDQUFDLEdBQWUsRUFBRSxFQUFFLFdBQ2hDLE9BQUEsQ0FBQSxNQUFBLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxZQUFZLDBDQUFFLElBQUksTUFBSSxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsSUFBSSxDQUFBLElBQUksSUFBSSxDQUFBLEVBQUE7S0FDL0M7SUFDRDtRQUNFLElBQUksRUFBRSxZQUFZO1FBQ2xCLEtBQUssRUFBRSxZQUFZO0tBQ3BCO0lBQ0Q7UUFDRSxJQUFJLEVBQUUsVUFBVTtRQUNoQixLQUFLLEVBQUUsVUFBVTtLQUNsQjtJQUNEO1FBQ0UsSUFBSSxFQUFFLGVBQWU7UUFDckIsS0FBSyxFQUFFLGdCQUFnQjtLQUN4QjtJQUNEO1FBQ0UsSUFBSSxFQUFFLGFBQWE7UUFDbkIsS0FBSyxFQUFFLGFBQWE7S0FDckI7SUFDRDtRQUNFLElBQUksRUFBRSxPQUFPO1FBQ2IsS0FBSyxFQUFFLE9BQU87UUFDZCxZQUFZLEVBQUUsQ0FBQyxHQUF1QixFQUFFLEVBQUUsQ0FBQyxDQUFBLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxLQUFLLEtBQUksSUFBSTtLQUM5RDtJQUNEO1FBQ0UsSUFBSSxFQUFFLFFBQVE7UUFDZCxLQUFLLEVBQUUsUUFBUTtLQUNoQjtJQUNEO1FBQ0UsSUFBSSxFQUFFLFlBQVk7UUFDbEIsS0FBSyxFQUFFLFlBQVk7S0FDcEI7Q0FDTyxDQUFDO0FBRVgsTUFBTSxpQkFBaUIsR0FBc0QsQ0FDM0UsSUFBSSxFQUNKLElBQUksRUFDSixRQUFRLEVBQ1IsRUFBRTtJQUNGLElBQUksSUFBSSxLQUFLLGdCQUFnQixFQUFFO1FBQzdCLE9BQU8sd0JBQXdCLENBQUMsTUFBTSxDQUNwQyxJQUFJO2FBQ0QsTUFBTSxDQUFDLENBQUMsR0FBYSxFQUFFLEdBQWMsRUFBRSxFQUFFO1lBQ3hDLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxhQUFhLEVBQUU7Z0JBQ3BDLE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLE1BQU07b0JBQzNDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDeEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDNUI7aUJBQU07Z0JBQ0wsT0FBTyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsTUFBTTtvQkFDM0MsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUN4QixDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzthQUM1QjtRQUNILENBQUMsRUFBRSxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNsQixPQUFPLEVBQUUsQ0FDYixDQUFDO0tBQ0g7U0FBTTtRQUNMLE9BQU8saUJBQWlCLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztLQUNsRTtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sUUFBUSxHQUFHO0lBQ2YsY0FBYyxFQUFFLFNBQVM7SUFDekIsS0FBSyxFQUFFLGNBQWM7Q0FDYixDQUFDO0FBRVgsTUFBTSxVQUFVLEdBQStCO0lBQzdDLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0lBQ3RDO1FBQ0UsVUFBVSxFQUFFLE9BQU87UUFDbkIsSUFBSSxFQUFFLGdCQUFnQjtLQUN2QjtDQUNGLENBQUM7QUFFRixNQUFNLG1CQUFtQixHQUF3QztJQUMvRDtRQUNFLFVBQVUsRUFBRSxJQUFJO1FBQ2hCLEtBQUssRUFBRSxNQUFNO0tBQ2Q7SUFDRDtRQUNFLFVBQVUsRUFBRSxNQUFNO1FBQ2xCLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLFVBQVUsRUFBRSxjQUFjO1FBQzFCLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLFVBQVUsRUFBRSxNQUFNO1FBQ2xCLEtBQUssRUFBRSxNQUFNO0tBQ2Q7SUFDRDtRQUNFLFVBQVUsRUFBRSxZQUFZO1FBQ3hCLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLFVBQVUsRUFBRSxVQUFVO1FBQ3RCLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLFVBQVUsRUFBRSxlQUFlO1FBQzNCLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLFVBQVUsRUFBRSxhQUFhO1FBQ3pCLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLFVBQVUsRUFBRSxPQUFPO1FBQ25CLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLFVBQVUsRUFBRSxRQUFRO1FBQ3BCLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLFVBQVUsRUFBRSxZQUFZO1FBQ3hCLEtBQUssRUFBRSxPQUFPO0tBQ2Y7Q0FDRixDQUFDO0FBRUYsTUFBTSxrQkFBa0IsR0FFcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRXpDLE1BQU0sd0JBQXdCLEdBQzVCO0lBQ0UsU0FBUyxFQUFFLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsVUFBVSxHQUFHLEVBQUUsS0FBSztRQUMvQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFM0IsSUFBSSxRQUFRLFlBQVksSUFBSSxFQUFFO1lBQzVCLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQztTQUMzRDthQUFNLElBQUksUUFBUSxZQUFZLFFBQVEsRUFBRTtZQUN2QyxPQUFPO2dCQUNMLE1BQU0sRUFBRSxVQUFVO2dCQUNsQixLQUFLLEVBQUU7b0JBQ0wsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO29CQUNiLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztvQkFDYixDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7aUJBQ2Q7YUFDRixDQUFDO1NBQ0g7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUMsQ0FBQztJQUNKLFdBQVcsRUFBRSxDQUFDLFlBQVksRUFBRSxFQUFFLENBQzVCLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFO1FBQ3BDLElBQ0UsS0FBSztZQUNMLE9BQU8sS0FBSyxLQUFLLFFBQVE7WUFDekIsUUFBUSxJQUFJLEtBQUs7WUFDakIsT0FBTyxJQUFJLEtBQUssRUFDaEI7WUFDQSxRQUFRLEtBQUssQ0FBQyxNQUFNLEVBQUU7Z0JBQ3BCLEtBQUssTUFBTTtvQkFDVCxPQUFPLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDL0IsS0FBSyxVQUFVO29CQUNiLE9BQU8sSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3BDO1NBQ0Y7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUMsQ0FBQztDQUNMLENBQUM7QUFFSixNQUFNLGNBQWMsR0FBYztJQUNoQyxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRTtDQUNqRCxDQUFDO0FBRUYsTUFBTSxpQ0FBaUMsR0FBd0M7SUFDN0UsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQVcsRUFBRSxDQUFXLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDNUUsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUU7SUFDM0MsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUU7SUFDbkQsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUU7Q0FDcEQsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FDMUMsaUJBQWlCLGFBQWpCLGlCQUFpQix1QkFBakIsaUJBQWlCLENBQUUsT0FBTztBQUMxQiw4REFBOEQ7QUFDOUQsaUJBQWlCLGFBQWpCLGlCQUFpQix1QkFBakIsaUJBQWlCLENBQUUsT0FBYyxDQUNsQyxDQUFDO0FBQ0YsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQzVDLGNBQWMsQ0FBQyxPQUFPLEVBQ3RCLGNBQWMsQ0FBQyxPQUFPLENBQ3ZCLENBQUM7QUFDRixNQUFNLG1DQUFtQyxHQUN2QztJQUNFLHlCQUF5QixDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0RSx5QkFBeUIsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUNqRCxZQUFZLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUMxQjtJQUNELDZCQUE2QixDQUFDLFVBQVUsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQ2xELHNCQUFzQixDQUFDLElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQzdDO0lBQ0QseUJBQXlCLENBQUMsWUFBWSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQzlELDhCQUE4QixDQUFDLGVBQWUsQ0FBQztJQUMvQyw2QkFBNkIsQ0FDM0IsT0FBTyxFQUNQLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FDUixHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FDcEU7SUFDRCwyQkFBMkIsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDO0NBQ25ELENBQUM7QUFpQkosTUFBTSxXQUFXLEdBQW9CLENBQUMsS0FBWSxFQUFFLEVBQUU7O0lBQ3BELE1BQU0sT0FBTyxHQUFHLFNBQVMsRUFBRSxDQUFDO0lBRTVCLE1BQU0sY0FBYyxHQUFHLE9BQU8sQ0FDNUIsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUNMLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSztRQUNsQixhQUFhLEVBQUUsSUFBSTtLQUNwQixDQUFDLEVBQ0YsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQ2QsQ0FBQztJQUVGLE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLFlBQVksQ0FBQztJQUVqRCxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQ3pCLEdBQUcsRUFBRSxXQUFDLE9BQUEsTUFBQSxLQUFLLENBQUMsY0FBYyxtQ0FBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUEsRUFBQSxFQUVuRSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUNwQyxDQUFDO0lBQ0YsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBRy9CLFlBQVksRUFBRTtRQUNkLFNBQVMsRUFBRSxjQUFjO1FBQ3pCLFdBQVcsRUFBRSxtQkFBbUI7S0FDakMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxzQkFBc0IsR0FBRyxRQUFRLENBR3JDLGtCQUFrQixFQUFFO1FBQ3BCLElBQUksRUFBRSxDQUFDLG9CQUFvQjtRQUMzQixTQUFTLEVBQUUsb0JBQXdDO1FBQ25ELFdBQVcsRUFBRSxtQkFBbUI7S0FDakMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLENBQUMsT0FBTyxJQUFJLHNCQUFzQixDQUFDLE9BQU8sQ0FBQztJQUMzRSxNQUFNLEtBQUssR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLElBQUksc0JBQXNCLENBQUMsS0FBSyxDQUFDO0lBRXJFLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBYyxHQUFHLEVBQUU7O1FBQ3JDLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBQSxNQUFBLHNCQUFzQixDQUFDLElBQUksMENBQUUsWUFBWSxLQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FDekUsQ0FBQyxVQUFVLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRyxTQUFTLEVBQUUsRUFBRSxFQUFFO1lBQ3RDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFO2dCQUN0QixNQUFNLE1BQU0sR0FBRyxxQkFBcUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFFaEQsVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFO29CQUN4QixHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQztvQkFDMUIsR0FBRyxNQUFNO29CQUNULE9BQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQztvQkFDakIsT0FBTyxFQUFFLEtBQUssQ0FBQyxFQUFFO2lCQUNMLENBQUMsQ0FBQzthQUNqQjtZQUVELE9BQU8sVUFBVSxDQUFDO1FBQ3BCLENBQUMsRUFDRCxJQUFJLEdBQUcsRUFBcUIsQ0FDN0IsQ0FBQztRQUVGLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQSxNQUFBLGdCQUFnQixDQUFDLElBQUksMENBQUUsT0FBTyxLQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FDL0QsQ0FBQyxPQUFPLEVBQUUsUUFBMkIsRUFBRSxFQUFFO1lBQ3ZDLElBQUksUUFBUSxDQUFDLE9BQU8sRUFBRTtnQkFDcEIsT0FBTyxPQUFPLENBQUM7YUFDaEI7WUFFRCxNQUFNLEtBQUssR0FBRyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUV6QyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQWtCLENBQUMsQ0FBQztZQUVqQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDNUIsS0FBSyxNQUFNLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO29CQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTt3QkFDbkIsTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFHLEVBQUU7NEJBQ3hCLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0NBQzdCLE1BQU0sV0FBVyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBYyxDQUFDO2dDQUMzRCxVQUFVLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztnQ0FDN0IsT0FBTyxXQUFXLENBQUM7NkJBQ3BCOzRCQUVELE9BQU87Z0NBQ0wsR0FBRyxLQUFLO2dDQUNSLEdBQUcsTUFBTTtnQ0FDVCxPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUU7NkJBQ2xCLENBQUM7d0JBQ0osQ0FBQyxDQUFDLEVBQUUsQ0FBQzt3QkFFTCxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQW1DLENBQUMsQ0FBQztxQkFDbkQ7aUJBQ0Y7YUFDRjtZQUVELE9BQU8sT0FBTyxDQUFDO1FBQ2pCLENBQUMsRUFDRCxFQUFpQixDQUNsQixDQUFDO1FBRUYsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1FBRXpDLE9BQU8sV0FBVyxDQUFDO0lBQ3JCLENBQUMsRUFBRTtRQUNELE1BQUEsc0JBQXNCLENBQUMsSUFBSSwwQ0FBRSxZQUFZO1FBQ3pDLE1BQUEsZ0JBQWdCLENBQUMsSUFBSSwwQ0FBRSxPQUFPO0tBQy9CLENBQUMsQ0FBQztJQUVILE1BQU0sdUJBQXVCLEdBQUcsT0FBTyxDQUVyQyxHQUFHLEVBQUU7UUFDTCxNQUFNLGNBQWMsR0FBRyxJQUFJLEdBQUcsRUFBOEIsQ0FBQztRQUM3RCxNQUFNLG1CQUFtQixHQUFnQyxFQUFFLENBQUM7UUFDNUQsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLEdBQUcsRUFBNEIsQ0FBQztRQUMvRCxNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBMEIsQ0FBQztRQUV4RCxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtZQUN0QixNQUFNLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLEdBQUcsR0FBRyxDQUFDO1lBRTVELElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDdEMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLFVBQWdDLENBQUMsQ0FBQzthQUNyRTtZQUVELG1CQUFtQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUV4QyxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDeEMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsUUFBNEIsQ0FBQyxDQUFDO2FBQ25FO1lBRUQsTUFBTSxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsVUFBVSxJQUFJLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUNuRCxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDOUIsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsTUFBd0IsQ0FBQyxDQUFDO2FBQ3JEO1NBQ0Y7UUFFRCxPQUFPO1lBQ0wsUUFBUSxFQUFFO2dCQUNSLElBQUksRUFBRSxjQUFjO2dCQUNwQixLQUFLLEVBQUU7b0JBQ0wsa0JBQWtCLEVBQUUsQ0FBQyxHQUFHLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUM5QjthQUN6QjtZQUNELElBQUksRUFBRTtnQkFDSixJQUFJLEVBQUUsVUFBVTthQUNqQjtZQUNELFlBQVksRUFBRTtnQkFDWixJQUFJLEVBQUUsVUFBVTthQUNqQjtZQUNELFVBQVUsRUFBRTtnQkFDVixJQUFJLEVBQUUsVUFBVTtnQkFDaEIsS0FBSyxFQUFFO29CQUNMLGNBQWMsRUFBRSxDQUFDLEdBQUcsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUMxQjthQUNyQjtZQUNELGFBQWEsRUFBRTtnQkFDYixJQUFJLEVBQUUsZUFBZTtnQkFDckIsS0FBSyxFQUFFO29CQUNMLG1CQUFtQjtpQkFDSTthQUMxQjtZQUNELFVBQVUsRUFBRTtnQkFDVixJQUFJLEVBQUUsVUFBVTtnQkFDaEIsS0FBSyxFQUFFO29CQUNMLFVBQVUsRUFBRTt3QkFDVixTQUFTLEVBQUUsWUFBWTt3QkFDdkIsVUFBVSxFQUFFLGNBQWM7cUJBQzNCO2lCQUNpQjthQUNyQjtZQUNELE1BQU0sRUFBRTtnQkFDTixJQUFJLEVBQUUsWUFBWTtnQkFDbEIsS0FBSyxFQUFFO29CQUNMLGFBQWEsRUFBRSxDQUFDLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUN0QjthQUN2QjtZQUNELEtBQUssRUFBRTtnQkFDTCxJQUFJLEVBQUUsY0FBYztnQkFDcEIsS0FBSyxFQUFFO29CQUNMLGtCQUFrQixFQUFFO3dCQUNsQixVQUFVLEVBQUU7NEJBQ1YsY0FBYyxFQUFFLEdBQUc7eUJBQ3BCO3FCQUNGO2lCQUNxQjthQUN6QjtTQUNGLENBQUM7SUFDSixDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRVgsTUFBTSxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsR0FBRyxlQUFlLENBQUM7UUFDcEQsWUFBWSxFQUFFLGtCQUFrQjtRQUNoQyxRQUFRLEVBQUUsZ0JBQWdCLFdBQVcsRUFBRTtLQUN4QyxDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsWUFBWSxFQUFFLGVBQWUsQ0FBQyxHQUFHLGVBQWUsQ0FBQztRQUN0RCxZQUFZLEVBQUUsbUJBQTZDO1FBQzNELFFBQVEsRUFBRSxpQkFBaUIsV0FBVyxFQUFFO0tBQ3pDLENBQUMsQ0FBQztJQUNILE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxvQkFBb0IsQ0FBQyxHQUFHLGVBQWUsQ0FBQztRQUNoRSxZQUFZLEVBQUUsRUFFYjtRQUNELFFBQVEsRUFBRSxxQkFBcUIsV0FBVyxFQUFFO0tBQzdDLENBQUMsQ0FBQztJQUVILE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsZUFBZSxDQUFDO1FBQzVDLFlBQVksRUFBRSxjQUFjO1FBQzVCLFFBQVEsRUFBRSw0QkFBNEIsV0FBVyxFQUFFO0tBQ3BELENBQUMsQ0FBQztJQUVILE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFhLEVBQUUsQ0FBQyxDQUFDO0lBRXZELE1BQU0sQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLEdBQUcsZUFBZSxDQUFlO1FBQ3BFLFlBQVksRUFBRSxFQUFFO1FBQ2hCLFFBQVEsRUFBRSxpQkFBaUIsV0FBVyxFQUFFO1FBQ3hDLFVBQVUsRUFBRSx3QkFBd0I7S0FDckMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxhQUFhLEdBQUcsV0FBVyxDQUMvQixDQUFDLEVBQ0MsU0FBUyxHQUFHLEVBQUUsRUFDZCxHQUFHLEVBQ0gsR0FBRyxJQUFJLEVBQ3NDLEVBQUUsRUFBRTtRQUNqRCxNQUFNLFVBQVUsR0FBRyxDQUFDLEdBQUcsRUFBRTtZQUN2QixJQUFLLEdBQWlCLENBQUMsVUFBVSxLQUFLLGFBQWEsRUFBRTtnQkFDbkQsT0FBUSxHQUFpQixDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLE1BQU07b0JBQzFELENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUztvQkFDbkIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7YUFDeEI7aUJBQU07Z0JBQ0wsT0FBUSxHQUFpQixDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLE1BQU07b0JBQzFELENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVTtvQkFDcEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7YUFDdkI7UUFDSCxDQUFDLENBQUMsRUFBRSxDQUFDO1FBRUwsT0FBTztZQUNMLFNBQVMsRUFBRSxHQUFHLFNBQVMsSUFBSSxVQUFVLEVBQUUsQ0FBQyxJQUFJLEVBQUU7WUFDOUMsR0FBRztZQUNILEdBQUcsSUFBSTtTQUNSLENBQUM7SUFDSixDQUFDLEVBQ0QsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FDeEMsQ0FBQztJQUVGLE1BQU0scUJBQXFCLEdBQUcsT0FBTyxDQUFrQyxHQUFHLEVBQUU7UUFDMUUsT0FBTztZQUNMLElBQUksRUFBRTtnQkFDSixJQUFJLEVBQUUsUUFBUTtnQkFDZCxLQUFLLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUNmLGFBQWEsQ0FBQztvQkFDWixHQUFHLEtBQUs7b0JBQ1IsU0FBUyxFQUFFLG9CQUFvQjtpQkFDaEMsQ0FBQzthQUNMO1lBQ0QsWUFBWSxFQUFFO2dCQUNaLElBQUksRUFBRSxRQUFRO2dCQUNkLEtBQUssRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQ2YsYUFBYSxDQUFDO29CQUNaLEdBQUcsS0FBSztvQkFDUixTQUFTLEVBQUUsb0JBQW9CO2lCQUNoQyxDQUFDO2FBQ0w7WUFDRCxVQUFVLEVBQUU7Z0JBQ1YsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsS0FBSyxFQUFFLGFBQWE7YUFDckI7WUFDRCxRQUFRLEVBQUU7Z0JBQ1IsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLEtBQUssRUFBRSxhQUFhO2FBQ3JCO1lBQ0QsYUFBYSxFQUFFO2dCQUNiLElBQUksRUFBRSxhQUFhO2dCQUNuQixLQUFLLEVBQUUsYUFBYTthQUNyQjtZQUNELFdBQVcsRUFBRTtnQkFDWCxLQUFLLEVBQUUsYUFBYTthQUNyQjtZQUNELEtBQUssRUFBRTtnQkFDTCxJQUFJLEVBQUUsWUFBWTtnQkFDbEIsS0FBSyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FDZixhQUFhLENBQUM7b0JBQ1osR0FBRyxLQUFLO29CQUNSLFNBQVMsRUFBRSx3QkFBd0I7aUJBQ3BDLENBQUM7YUFDTDtZQUNELE1BQU0sRUFBRTtnQkFDTixJQUFJLEVBQUUsVUFBVTtnQkFDaEIsS0FBSyxFQUFFLGFBQWE7YUFDckI7WUFDRCxVQUFVLEVBQUU7Z0JBQ1YsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsS0FBSyxFQUFFLGFBQWE7YUFDckI7U0FDRixDQUFDO0lBQ0osQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUVwQixNQUFNLENBQ0osZ0JBQWdCLEVBQ2hCLGlCQUFpQixFQUNqQixnQkFBZ0IsRUFDaEIscUJBQXFCLEVBQ3RCLEdBQUcsT0FBTyxDQVFULEdBQUcsRUFBRSxDQUFDO1FBQ0o7WUFDRSxXQUFXO1lBQ1gsVUFBVSxFQUFFO2dCQUNWLGFBQWEsRUFBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsa0JBQWtCLEVBQUU7Z0JBQ3JELFVBQVUsRUFBRTtvQkFDVixJQUFJLEVBQUUsS0FBSyxDQUFDLGVBQWU7aUJBQzVCO2FBQ0Y7WUFDRCxjQUFjLEVBQUU7Z0JBQ2QsVUFBVSxFQUFFO29CQUNWO3dCQUNFLEtBQUssRUFBRSxZQUFZO3dCQUNuQixTQUFTLEVBQUUsY0FBYztxQkFDMUI7aUJBQ0Y7YUFDRjtTQUNrQjtRQUNyQjtZQUNFLFdBQVc7WUFDWCxXQUFXLEVBQUU7Z0JBQ1gsYUFBYSxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxrQkFBa0IsRUFBRTthQUN0RDtZQUNELGNBQWMsRUFBRSxvQkFBb0I7Z0JBQ2xDLENBQUMsQ0FBQztvQkFDRSxnQkFBZ0IsRUFBRTt3QkFDaEI7NEJBQ0UsS0FBSyxFQUFFLGtCQUFrQjs0QkFDekIsU0FBUyxFQUFFLG9CQUFvQjt5QkFDaEM7cUJBQ0Y7b0JBQ0QsbUJBQW1CLEVBQUU7d0JBQ25COzRCQUNFLEtBQUssRUFBRSxrQkFBa0I7NEJBQ3pCLFNBQVMsRUFBRSxvQkFBb0I7eUJBQ2hDO3dCQUNEOzRCQUNFLEtBQUssRUFBRSxZQUFZOzRCQUNuQixTQUFTLEVBQUUsY0FBYzt5QkFDMUI7cUJBQ0Y7aUJBQ0Y7Z0JBQ0gsQ0FBQyxDQUFDLFNBQVM7U0FDTztRQUN0QjtZQUNFLFdBQVcsRUFBRSxLQUFLO1lBQ2xCLFFBQVEsRUFBRSxJQUFJO1lBQ2QsU0FBUyxFQUFFLElBQUk7U0FDSTtRQUNyQjtZQUNFLFdBQVcsRUFBRTtnQkFDWCxXQUFXLEVBQUUsS0FBSztnQkFDbEIsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsU0FBUyxFQUFFLElBQUk7YUFDaEI7U0FDdUI7S0FDM0IsRUFDRDtRQUNFLEtBQUssQ0FBQyxrQkFBa0I7UUFDeEIsS0FBSyxDQUFDLGVBQWU7UUFDckIsY0FBYztRQUNkLG9CQUFvQjtLQUNyQixDQUNGLENBQUM7SUFFRixJQUFJLEtBQUssRUFBRTtRQUNULE9BQU8saUNBQU0sS0FBSyxDQUFDLE9BQU8sQ0FBTyxDQUFDO0tBQ25DO0lBRUQsT0FBTyxDQUNMLG9CQUFDLEtBQUssSUFBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEtBQUs7UUFDN0Isb0JBQUMsSUFBSSxJQUNILE9BQU8sRUFBRSxPQUFPLEVBQ2hCLElBQUksRUFBRSxJQUFJLEVBQ1YsUUFBUSxFQUFFLFFBQVEsRUFDbEIsYUFBYSxFQUFFLFFBQVE7WUFHdkIsb0JBQUMsZ0JBQWdCLE9BQUc7WUFHcEIsb0JBQUMsZ0JBQWdCLElBQ2YsYUFBYSxFQUFFLEtBQUssQ0FBQyxhQUFhLEVBQ2xDLGdCQUFnQixFQUFFLGdCQUFnQixFQUNsQyxpQkFBaUIsRUFBRSxpQkFBaUIsRUFDcEMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQ2xDLHFCQUFxQixFQUFFLHFCQUFxQixHQUM1QztZQUNGLG9CQUFDLFdBQVcsT0FBRztZQUNmLG9CQUFDLGNBQWMsSUFDYixPQUFPLEVBQUUsT0FBTyxFQUNoQixlQUFlLEVBQUUsVUFBVSxFQUMzQixZQUFZLEVBQUUsWUFBWSxFQUMxQixvQkFBb0IsRUFBRSxlQUFlLEdBQ3JDO1lBRUYsb0JBQUMsWUFBWSxJQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFFLFVBQVUsR0FBSTtZQUMvRCxvQkFBQyxZQUFZLElBQUMsVUFBVSxFQUFFLFVBQXNDLEdBQUk7WUFHcEUsb0JBQUMsbUJBQW1CLElBQ2xCLGdCQUFnQixFQUFFLG1DQUFtQyxHQUNyRDtZQUNGLG9CQUFDLGlCQUFpQixJQUFDLFVBQVUsRUFBRSxpQkFBaUIsR0FBSTtZQUNwRCxvQkFBQyxpQkFBaUIsSUFDaEIsZ0JBQWdCLEVBQUUsaUNBQWlDLEdBQ25EO1lBRUYsb0JBQUMsWUFBWSxJQUNYLE1BQU0sRUFBQyxNQUFNLEVBQ2IsYUFBYSxFQUFFLFFBQVE7Z0JBQ3ZCLDJCQUEyQjtnQkFDM0IsdUJBQXVCLEVBQUUsMEJBQTBCLEdBQ25EO1lBQ0Ysb0JBQUMsbUJBQW1CLElBQ2xCLFlBQVksRUFBRSxZQUFZLEVBQzFCLG9CQUFvQixFQUFFLGVBQWUsR0FDckM7WUFDRixvQkFBQyxxQkFBcUIsSUFDcEIsS0FBSyxFQUFFLFdBQVcsRUFDbEIsYUFBYSxFQUFFLGNBQWMsR0FDN0I7WUFDRixvQkFBQyxjQUFjLElBQUMsbUJBQW1CLFNBQUc7WUFDdEMsb0JBQUMsY0FBYyxJQUNiLGtCQUFrQixRQUNsQixhQUFhLEVBQUUsVUFBVSxFQUN6QixlQUFlLEVBQUUsYUFBYSxHQUM5QjtZQUNGLG9CQUFDLGdCQUFnQixPQUFLLHFCQUFxQixHQUFJO1lBQy9DLG9CQUFDLGtCQUFrQixPQUFLLHVCQUF1QixHQUFJO1lBQ25ELG9CQUFDLHFCQUFxQixJQUNwQixpQkFBaUIsRUFBRSxpQkFBaUIsRUFDcEMseUJBQXlCLEVBQUUsb0JBQW9CLEdBQy9DO1lBQ0Ysb0JBQUMsT0FBTyxPQUFHO1lBQ1gsb0JBQUMsU0FBUyxJQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxHQUFJO1lBQ2pDLG9CQUFDLFdBQVcsT0FBRztZQUNmLG9CQUFDLGFBQWEsT0FBRztZQUNqQixvQkFBQyxlQUFlLElBQ2QsUUFBUSxFQUFFLFFBQXVELEdBQ2pFO1lBQ0Ysb0JBQUMsV0FBVyxPQUFHO1lBQ2Ysb0JBQUMsUUFBUSxPQUFHLENBRVA7UUFDTixDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLG9CQUFDLGNBQWMsSUFBQyxNQUFNLEVBQUMsT0FBTyxHQUFHLENBQzVELENBQ1QsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGVBQWUsV0FBVyxDQUFDIn0=","import gql from \"graphql-tag\";\nexport const GET_REPORT_DATA_DEPT_FRAGMENT = gql `\n  fragment GetReportDataDept on Department {\n    __typename\n    id\n    name\n    budgets {\n      id\n      __typename\n      amount\n      fiscalYear {\n        __typename\n        id\n      }\n    }\n  }\n`;\nexport const REPORT_DATA_ENTRY_REFUND = gql `\n  fragment ReportDataEntryRefund on EntryRefund {\n    __typename\n    id\n    total\n    deleted\n    lastUpdate\n  }\n`;\nexport const REPORT_DATA_ENTRY_CATEGORY = gql `\n  fragment ReportDataEntryCategory on Category {\n    __typename\n    id\n    name\n    type\n  }\n`;\nexport const REPORT_DATA_ENTRY_DEPT = gql `\n  fragment ReportDataEntryDept on Department {\n    __typename\n    id\n    ancestors {\n      __typename\n      ... on Business {\n        id\n      }\n      ... on Department {\n        id\n      }\n    }\n  }\n`;\nexport const GET_REPORT_DATA_ENTRY_SANS_REFUNDS = gql `\n  fragment GetReportDataEntrySansRefunds on Entry {\n    id\n    __typename\n    category {\n      ...ReportDataEntryCategory\n    }\n    total\n    fiscalYear {\n      __typename\n      id\n    }\n    department {\n      ...ReportDataEntryDept\n    }\n    items {\n      __typename\n      id\n      total\n      department {\n        __typename\n        id\n      }\n      deleted\n    }\n    lastUpdate\n    deleted\n  }\n  ${REPORT_DATA_ENTRY_CATEGORY}\n  ${REPORT_DATA_ENTRY_DEPT}\n`;\nexport const GET_REPORT_DATA_ENTRY_FRAGMENT = gql `\n  fragment GetReportDataEntry on Entry {\n    ...GetReportDataEntrySansRefunds\n    refunds {\n      ...ReportDataEntryRefund\n    }\n  }\n  ${GET_REPORT_DATA_ENTRY_SANS_REFUNDS}\n  ${REPORT_DATA_ENTRY_REFUND}\n`;\nexport const REPORT_DATA_OTHER_ENTRY_REFUND = gql `\n  fragment ReportDataOtherEntryRefund on EntryRefund {\n    ...ReportDataEntryRefund\n    entry {\n      __typename\n      id\n      category {\n        ...ReportDataEntryCategory\n      }\n      department {\n        ...ReportDataEntryDept\n      }\n    }\n  }\n  ${REPORT_DATA_ENTRY_REFUND}\n  ${REPORT_DATA_ENTRY_CATEGORY}\n  ${REPORT_DATA_ENTRY_DEPT}\n`;\nexport const GET_REPORT_DATA = gql `\n \n  query GetReportData($deptId:ID!, $where:EntriesWhere!, $filterRefunds:Boolean, $whereRefunds:EntryRefundsWhere!, $whereRefundEntries:EntriesWhere!) {\n    department(id:$deptId) {\n      ...GetReportDataDept\n      descendants {\n        ...GetReportDataDept\n      }\n    }\n    entries(where:$where, filterRefunds:$filterRefunds) {\n      ...GetReportDataEntry\n    }\n  \n    entryRefunds(where:$whereRefunds, entriesWhere:$whereRefundEntries) {\n      ...ReportDataOtherEntryRefund\n    }\n\n    fiscalYears {\n      __typename\n      id\n      name\n      begin\n      end\n    }\n  }\n  ${GET_REPORT_DATA_DEPT_FRAGMENT},\n  ${GET_REPORT_DATA_ENTRY_FRAGMENT}\n  ${REPORT_DATA_OTHER_ENTRY_REFUND}\n`;\nexport const JOURNAL_ENTRY_ADDED_SUB = gql `\n  subscription EntryAdded_2 {\n    entryAdded {\n      ...GetReportDataEntry\n    }\n  }\n  ${GET_REPORT_DATA_ENTRY_FRAGMENT}\n`;\nexport const JOURNAL_ENTRY_UPDATED_SUB = gql `\n  subscription EntryUpdated_2 {\n    entryUpdated {\n      ...GetReportDataEntry\n    }\n  }\n  ${GET_REPORT_DATA_ENTRY_FRAGMENT}\n`;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVwb3J0RGF0YS5ncWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9EYXNoYm9hcmQvUmVwb3J0RGF0YS5ncWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBRTlCLE1BQU0sQ0FBQyxNQUFNLDZCQUE2QixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7O0NBZS9DLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7O0NBUTFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Q0FPNUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Q0FjeEMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGtDQUFrQyxHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQTRCakQsMEJBQTBCO0lBQzFCLHNCQUFzQjtDQUN6QixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sOEJBQThCLEdBQUcsR0FBRyxDQUFBOzs7Ozs7O0lBTzdDLGtDQUFrQztJQUNsQyx3QkFBd0I7Q0FDM0IsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLDhCQUE4QixHQUFHLEdBQUcsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7SUFjN0Msd0JBQXdCO0lBQ3hCLDBCQUEwQjtJQUMxQixzQkFBc0I7Q0FDekIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF5QjlCLDZCQUE2QjtJQUM3Qiw4QkFBOEI7SUFDOUIsOEJBQThCO0NBQ2pDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxHQUFHLENBQUE7Ozs7OztJQU10Qyw4QkFBOEI7Q0FDakMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLEdBQUcsQ0FBQTs7Ozs7O0lBTXhDLDhCQUE4QjtDQUNqQyxDQUFDIn0=","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport TableChartIcon from \"@material-ui/icons/TableChart\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport numeral from \"numeral\";\nimport { red, green, orange, grey } from \"@material-ui/core/colors\";\nimport { FormControl, InputLabel } from \"@material-ui/core\";\nimport Fraction from \"fraction.js\";\nimport { Select } from \"@material-ui/core\";\nimport { MenuItem } from \"@material-ui/core\";\nimport { format as formatDate } from \"date-fns\";\nimport { EntryType, } from \"../../apollo/graphTypes\";\nimport { deserializeDate, deserializeRational, serializeDate, } from \"../../apollo/scalars\";\nimport { GET_REPORT_DATA } from \"./ReportData.gql\";\nimport { UpsertEntry, } from \"../Journal/DataGrid/forms/UpsertEntry\";\nimport { dialogProps } from \"../Journal/DataGrid/forms/shared\";\nconst colorMeter = (percentSpent, shade = 800) => {\n    if (percentSpent < 0.75) {\n        return green[shade];\n    }\n    else if (percentSpent < 0.9) {\n        return orange[shade];\n    }\n    else {\n        return red[shade];\n    }\n};\nconst BudgetMeter = (props) => {\n    const { spentPercentage, height } = props;\n    return (React.createElement(Box, { height: height, bgcolor: colorMeter(spentPercentage), display: \"flex\", justifyContent: \"flex-start\" },\n        React.createElement(Box, { height: \"100%\", width: `${100 * spentPercentage}%`, bgcolor: grey[400] })));\n};\nconst Dashboard = (props) => {\n    var _a;\n    const { deptId, selectableAccounts, selectableDepts } = props;\n    const [addEntryOpen, setAddEntryOpen] = useState(false);\n    const [year, setYear] = useState(new Date(new Date().toDateString()));\n    const variables = useMemo(() => ({\n        deptId,\n        where: {\n            fiscalYear: {\n                date: {\n                    eq: serializeDate(year),\n                },\n            },\n            department: {\n                id: {\n                    lte: deptId,\n                },\n            },\n            deleted: false,\n        },\n        whereRefunds: {\n            fiscalYear: {\n                date: {\n                    eq: serializeDate(year),\n                },\n            },\n            deleted: false,\n        },\n        whereRefundEntries: {\n            department: {\n                id: {\n                    lte: deptId,\n                },\n            },\n            fiscalYear: {\n                nor: [\n                    {\n                        date: {\n                            eq: serializeDate(year),\n                        },\n                    },\n                ],\n            },\n            deleted: false,\n        },\n        filterRefunds: true,\n    }), [deptId, year]);\n    const { loading, error, data } = useQuery(GET_REPORT_DATA, {\n        variables,\n        fetchPolicy: \"cache-and-network\",\n    });\n    const isLoading = loading && !(data === null || data === void 0 ? void 0 : data.entries);\n    const fiscalYear = useMemo(() => {\n        for (const fiscalYear of (data === null || data === void 0 ? void 0 : data.fiscalYears) || []) {\n            if (year >= new Date(fiscalYear.begin) &&\n                year < new Date(fiscalYear.end)) {\n                return fiscalYear;\n            }\n        }\n        return null;\n    }, [year, data]);\n    const entries = useMemo(() => {\n        return (data === null || data === void 0 ? void 0 : data.entries) || [];\n    }, [data === null || data === void 0 ? void 0 : data.entries]);\n    const extraneousRefunds = useMemo(() => {\n        return (data === null || data === void 0 ? void 0 : data.entryRefunds) || [];\n    }, [data === null || data === void 0 ? void 0 : data.entryRefunds]);\n    const deptName = ((_a = data === null || data === void 0 ? void 0 : data.department) === null || _a === void 0 ? void 0 : _a.name) || \"\";\n    useEffect(() => {\n        document.title = deptName;\n    }, [deptName]);\n    const department = (data === null || data === void 0 ? void 0 : data.department) || null;\n    const { totalRemaining, budget, spentToBudgetRatio, deptReports, uBudget } = useMemo(() => {\n        var _a;\n        // Generate department report objects\n        const deptReports = new Map();\n        let uBudget = new Fraction(0);\n        let uSpent = new Fraction(0);\n        const depts = [];\n        if (department) {\n            const budgetsAccountedFor = new Set();\n            depts.push(department, ...department.descendants);\n            for (const dept of depts) {\n                const budgetFound = (_a = dept.budgets.find((b) => b.fiscalYear.id === (fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) &&\n                    !budgetsAccountedFor.has(b.id))) !== null && _a !== void 0 ? _a : null;\n                let budget = null;\n                if (budgetFound) {\n                    const amount = budgetFound.amount;\n                    budgetsAccountedFor.add(budgetFound.id);\n                    budget = deserializeRational(amount);\n                    uBudget = uBudget.add(budget);\n                }\n                deptReports.set(dept.id, {\n                    name: dept.name,\n                    spent: new Fraction(0),\n                    budget,\n                });\n            }\n        }\n        const otherRefundsMap = extraneousRefunds.reduce((otherRefundsMap, otherRefund) => {\n            otherRefundsMap.set(otherRefund.id, otherRefund);\n            return otherRefundsMap;\n        }, new Map());\n        // Calculating aggregate depts and credits\n        for (const entry of entries) {\n            if (entry.deleted) {\n                continue;\n            }\n            const deptReport = deptReports.get(entry.department.id);\n            let entryTotal = deserializeRational(entry.total);\n            // BUG Story ID: CH58\n            // Aggregate Refunds\n            for (const refund of entry.refunds) {\n                if (refund.deleted) {\n                    continue;\n                }\n                // Remove if accounted for\n                otherRefundsMap.delete(refund.id);\n                entryTotal = entryTotal.sub(deserializeRational(refund.total));\n            }\n            // Itemization Adjustments\n            if (department) {\n                for (const item of entry.items) {\n                    if (item.deleted ||\n                        !item.department ||\n                        depts.some(({ id }) => { var _a; return id === ((_a = item.department) === null || _a === void 0 ? void 0 : _a.id); })) {\n                        continue;\n                    }\n                    // Item has been applied  to another department budget.\n                    entryTotal = entryTotal.sub(deserializeRational(item.total));\n                }\n            }\n            if (entry.category.type === EntryType.Credit) {\n                uSpent = uSpent.sub(entryTotal);\n                deptReport.spent = deptReport.spent.sub(entryTotal);\n            }\n            else {\n                uSpent = uSpent.add(entryTotal);\n                deptReport.spent = deptReport.spent.add(entryTotal);\n            }\n        }\n        // Calculate other refunds\n        for (const otherRefund of otherRefundsMap.values()) {\n            const entry = otherRefund.entry;\n            const refundTotal = deserializeRational(otherRefund.total);\n            const deptReport = deptReports.get(entry.department.id);\n            if (entry.category.type === EntryType.Debit) {\n                uSpent = uSpent.sub(refundTotal);\n                deptReport.spent = deptReport.spent.sub(refundTotal);\n            }\n            else {\n                uSpent = uSpent.add(refundTotal);\n                deptReport.spent = deptReport.spent.add(refundTotal);\n            }\n        }\n        return {\n            totalRemaining: numeral(uBudget.sub(uSpent).valueOf()).format(\"$0,0.00\"),\n            budget: numeral(uBudget.valueOf()).format(\"$0,0.00\"),\n            spentToBudgetRatio: uBudget.n === 0\n                ? uSpent.s === -1\n                    ? 0\n                    : 1\n                : uSpent.div(uBudget).valueOf(),\n            deptReports,\n            uBudget,\n        };\n    }, [department, extraneousRefunds, fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id, entries]);\n    const subDeptCards = useMemo(() => {\n        const subDeptCards = [];\n        for (const [id, { budget, spent, name }] of deptReports) {\n            // Do not include root department\n            if (id === (department === null || department === void 0 ? void 0 : department.id) && (!budget || budget.equals(uBudget))) {\n                continue;\n            }\n            const card = (React.createElement(Grid, { key: id, item: true, xs: 12, md: 4, lg: 3 },\n                React.createElement(Card, null,\n                    React.createElement(CardHeader, { titleTypographyProps: {\n                            noWrap: true,\n                        }, title: name }),\n                    React.createElement(CardContent, null, (() => {\n                        if (budget === null || budget.n === 0) {\n                            return (React.createElement(Box, { color: spent.compare(new Fraction(0)) > 0\n                                    ? red[900]\n                                    : green[900], clone: true },\n                                React.createElement(Typography, { variant: \"h6\" }, `Spent: ${numeral(spent.abs().valueOf()).format(\"$0,0.00\")}`)));\n                        }\n                        const totalRemaining = budget.sub(spent);\n                        const spentToBudgetRatio = spent.div(budget).valueOf();\n                        return (React.createElement(React.Fragment, null,\n                            React.createElement(Box, { color: colorMeter(spentToBudgetRatio, 900), clone: true },\n                                React.createElement(Typography, { variant: \"h6\" }, `${numeral(totalRemaining.valueOf()).format(\"$0,0.00\")} Remaining`)),\n                            React.createElement(Typography, { variant: \"body1\" }, `of ${numeral(budget.valueOf()).format(\"$0,0.00\")}`),\n                            React.createElement(BudgetMeter, { spentPercentage: spentToBudgetRatio, height: 5 })));\n                    })()))));\n            subDeptCards.push(card);\n        }\n        return subDeptCards;\n    }, [deptReports, department, uBudget]);\n    const onClickAddEntry = useCallback(() => setAddEntryOpen(true), [setAddEntryOpen]);\n    const fiscalYearSelect = useMemo(() => {\n        const onChange = (event) => {\n            const value = event.target.value;\n            if (value) {\n                for (const fiscalYear of (data === null || data === void 0 ? void 0 : data.fiscalYears) || []) {\n                    if (fiscalYear.id === value) {\n                        setYear(new Date(fiscalYear.begin)\n                        /* new Date(\n                          new Date(fiscalYear.begin).getTime() + 1000 * 60 * 60 * 24 * 5\n                        ) */\n                        );\n                        return;\n                    }\n                }\n            }\n        };\n        return (React.createElement(Box, { minWidth: 120, clone: true },\n            React.createElement(FormControl, { variant: \"outlined\" },\n                React.createElement(InputLabel, null, \"Fiscal Year\"),\n                React.createElement(Select, { label: \"Fiscal Year<\", variant: \"outlined\", value: (fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) || \"\", onChange: onChange }, [...((data === null || data === void 0 ? void 0 : data.fiscalYears) || [])]\n                    .sort((a, b) => new Date(a.begin).getTime() - new Date(b.begin).getTime())\n                    .map(({ id, begin, end }) => {\n                    return (React.createElement(MenuItem, { key: id, value: id }, `${formatDate(deserializeDate(begin), \"uuuu\")}-${formatDate(deserializeDate(end), \"uuuu\")}`));\n                })))));\n    }, [data, setYear, fiscalYear]);\n    const upsertEntryProps = useMemo(() => ({\n        dialogProps: {\n            ...dialogProps,\n            open: addEntryOpen,\n            onClose: () => setAddEntryOpen(false),\n        },\n        entryProps: {\n            paymentMethod: { accounts: selectableAccounts },\n            department: {\n                root: selectableDepts,\n            },\n        },\n        refetchQueries: {\n            onNewEntry: [\n                {\n                    query: GET_REPORT_DATA,\n                    variables,\n                },\n            ],\n        },\n    }), [addEntryOpen, selectableAccounts, selectableDepts, variables]);\n    if (isLoading) {\n        return React.createElement(\"p\", null, \"Loading...\");\n    }\n    else if (error) {\n        return React.createElement(\"p\", null, error.message);\n    }\n    return (React.createElement(Box, { display: \"flex\", flexDirection: \"column\", overflow: \"hidden\", clone: true },\n        React.createElement(Container, null,\n            React.createElement(Box, { padding: 8 },\n                React.createElement(Grid, { container: true, alignItems: \"center\", justify: \"center\", spacing: 4 },\n                    React.createElement(Grid, { item: true },\n                        React.createElement(Button, { variant: \"contained\", color: \"secondary\", startIcon: React.createElement(AddIcon, null), onClick: onClickAddEntry }, \"New Entry\")),\n                    React.createElement(Grid, { item: true },\n                        React.createElement(Button, { disabled: !fiscalYear, component: Link, to: `/journal/${deptId}/${(fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) || \"\"}/reconcile`, variant: \"contained\", startIcon: React.createElement(DoneAllIcon, null) }, \"Reconcile\")),\n                    React.createElement(Grid, { item: true },\n                        React.createElement(Button, { disabled: !fiscalYear, component: Link, to: `/journal/${deptId}/${(fiscalYear === null || fiscalYear === void 0 ? void 0 : fiscalYear.id) || \"\"}`, variant: \"contained\", startIcon: React.createElement(TableChartIcon, null) }, \"Journal\")),\n                    React.createElement(Grid, { item: true }, fiscalYearSelect))),\n            React.createElement(Box, { flexGrow: 1, overflow: \"auto\" },\n                React.createElement(Grid, { justify: \"center\", container: true, spacing: 2 },\n                    React.createElement(Grid, { item: true, xs: 12 },\n                        React.createElement(Typography, { align: \"center\", variant: \"h3\" }, deptName),\n                        React.createElement(Box, { color: colorMeter(spentToBudgetRatio.valueOf()) },\n                            React.createElement(Typography, { align: \"center\", variant: \"h4\" }, `${totalRemaining} Remaining`)),\n                        React.createElement(Typography, { align: \"center\", variant: \"subtitle1\" }, `of ${budget}`),\n                        React.createElement(BudgetMeter, { spentPercentage: spentToBudgetRatio.valueOf(), height: 10 })),\n                    subDeptCards)),\n            React.createElement(UpsertEntry, { ...upsertEntryProps }))));\n};\nexport default Dashboard;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGFzaGJvYXJkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvRGFzaGJvYXJkL0Rhc2hib2FyZC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDekUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLElBQUksTUFBTSx3QkFBd0IsQ0FBQztBQUMxQyxPQUFPLFNBQVMsTUFBTSw2QkFBNkIsQ0FBQztBQUNwRCxPQUFPLEdBQUcsTUFBTSx1QkFBdUIsQ0FBQztBQUN4QyxPQUFPLE1BQU0sTUFBTSwwQkFBMEIsQ0FBQztBQUM5QyxPQUFPLFVBQVUsTUFBTSw4QkFBOEIsQ0FBQztBQUN0RCxPQUFPLE9BQU8sTUFBTSx3QkFBd0IsQ0FBQztBQUM3QyxPQUFPLFdBQVcsTUFBTSw0QkFBNEIsQ0FBQztBQUNyRCxPQUFPLGNBQWMsTUFBTSwrQkFBK0IsQ0FBQztBQUMzRCxPQUFPLElBQUksTUFBTSx3QkFBd0IsQ0FBQztBQUMxQyxPQUFPLFVBQVUsTUFBTSw4QkFBOEIsQ0FBQztBQUN0RCxPQUFPLFdBQVcsTUFBTSwrQkFBK0IsQ0FBQztBQUN4RCxPQUFPLE9BQU8sTUFBTSxTQUFTLENBQUM7QUFDOUIsT0FBTyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3BFLE9BQU8sRUFBUyxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbkUsT0FBTyxRQUFRLE1BQU0sYUFBYSxDQUFDO0FBQ25DLE9BQU8sRUFBRSxNQUFNLEVBQWUsTUFBTSxtQkFBbUIsQ0FBQztBQUN4RCxPQUFP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","import React, { useCallback, useEffect, useState, useMemo } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport gql from \"graphql-tag\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport { Link } from \"react-router-dom\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nconst DEPTS_FOR_NAV = gql `\n  query DeptsForNav_1 {\n    departments {\n      __typename\n      id\n      name\n      parent {\n        __typename\n        ... on Business {\n          id\n        }\n        ... on Department {\n          id\n        }\n      }\n      virtualRoot\n    }\n  }\n`;\n// JSX requires a props argument\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst TopNav = (props) => {\n    const { loading, error, data } = useQuery(DEPTS_FOR_NAV);\n    const [value, setValue] = useState(\"\");\n    const depts = useMemo(() => (data === null || data === void 0 ? void 0 : data.departments) || [], [data === null || data === void 0 ? void 0 : data.departments]);\n    const { rootDepts, virtualRoots } = useMemo(() => {\n        const rootDepts = [];\n        const virtualRoots = new Set();\n        for (const dept of depts) {\n            if (dept.parent.__typename === \"Business\") {\n                rootDepts.push(dept);\n            }\n            if (dept.virtualRoot) {\n                virtualRoots.add(dept.id);\n            }\n        }\n        return { rootDepts, virtualRoots };\n    }, [depts]);\n    const subDepts = useMemo(() => {\n        const subDepts = [];\n        if (value && virtualRoots.has(value)) {\n            for (const dept of depts) {\n                if (dept.parent.id === value) {\n                    subDepts.push(dept);\n                }\n            }\n        }\n        return subDepts;\n    }, [virtualRoots, value, depts]);\n    useEffect(() => {\n        document.title = \"Select Department\";\n    });\n    const onChange = useCallback((event) => {\n        var _a;\n        setValue(((_a = event === null || event === void 0 ? void 0 : event.target) === null || _a === void 0 ? void 0 : _a.value) || \"\");\n    }, [setValue]);\n    if (loading) {\n        return React.createElement(\"p\", null, \"Loading...\");\n    }\n    else if (error) {\n        return React.createElement(\"p\", null, error.message);\n    }\n    const showSubDepts = subDepts.length > 0;\n    return (React.createElement(Box, { flexGrow: 1, display: \"flex\", justifyContent: \"center\", alignItems: \"center\", flexDirection: \"column\", clone: true },\n        React.createElement(Container, { style: { display: \"flex\" } },\n            React.createElement(Box, { padding: 4, clone: true },\n                React.createElement(Typography, { align: \"center\", color: \"primary\", variant: \"h3\" }, \"Select Department\")),\n            React.createElement(Box, { minWidth: \"250px !important\", clone: true },\n                React.createElement(FormControl, { variant: \"filled\" },\n                    React.createElement(InputLabel, null, \"Department\"),\n                    React.createElement(Select, { value: value, onChange: onChange, autoWidth: true }, rootDepts.map((dept) => {\n                        const props = (() => {\n                            if (dept.virtualRoot) {\n                                return {\n                                    value: dept.id,\n                                    children: dept.name,\n                                };\n                            }\n                            else {\n                                return {\n                                    component: Link,\n                                    to: `/department/${dept.id}`,\n                                    value: dept.id,\n                                    children: dept.name,\n                                };\n                            }\n                        })();\n                        return React.createElement(MenuItem, { key: dept.id, ...props });\n                    })))),\n            showSubDepts && (React.createElement(Box, { pt: 2 },\n                React.createElement(Box, { pt: 2, minWidth: \"250px !important\", clone: true },\n                    React.createElement(FormControl, { variant: \"filled\" },\n                        React.createElement(InputLabel, null, \"Sub Department\"),\n                        React.createElement(Select, { autoWidth: true }, subDepts.map((dept) => {\n                            const props = {\n                                component: Link,\n                                to: `/department/${dept.id}`,\n                                value: dept.id,\n                                children: dept.name,\n                            };\n                            return React.createElement(MenuItem, { key: dept.id, ...props });\n                        })))))))));\n};\nexport default TopNav;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9wTmF2LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvVG9wTmF2LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUN6RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDMUMsT0FBTyxHQUFHLE1BQU0sYUFBYSxDQUFDO0FBQzlCLE9BQU8sVUFBVSxNQUFNLDhCQUE4QixDQUFDO0FBQ3RELE9BQU8sU0FBUyxNQUFNLDZCQUE2QixDQUFDO0FBQ3BELE9BQU8sR0FBRyxNQUFNLHVCQUF1QixDQUFDO0FBQ3hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLFVBQVUsTUFBTSw4QkFBOEIsQ0FBQztBQUN0RCxPQUFPLFFBQVEsTUFBTSw0QkFBNEIsQ0FBQztBQUNsRCxPQUFPLFdBQVcsTUFBTSwrQkFBK0IsQ0FBQztBQUN4RCxPQUFPLE1BQU0sTUFBTSwwQkFBMEIsQ0FBQztBQUk5QyxNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQWtCeEIsQ0FBQztBQUVGLGdDQUFnQztBQUNoQyw2REFBNkQ7QUFDN0QsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUE4QixFQUFlLEVBQUU7SUFDN0QsTUFBTSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFtQixhQUFhLENBQUMsQ0FBQztJQUUzRSxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLFFBQVEsQ0FBUyxFQUFFLENBQUMsQ0FBQztJQUUvQyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsV0FBVyxL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","import React, { useMemo } from \"react\";\nimport { Route, Routes, useParams } from \"react-router-dom\";\nimport { useQuery, gql } from \"@apollo/client\";\n// import Journal from \"./components/Journal/Table/Journal\";\nimport Grid from \"./components/Journal/DataGrid/Grid\";\nimport Dashboard from \"./components/Dashboard/Dashboard\";\nimport TopNav from \"./components/TopNav\";\nimport { Typography } from \"@material-ui/core\";\nconst DashBoardRender = () => {\n    const { id } = useParams();\n    const selectableDepts = useMemo(() => ({\n        id: {\n            eq: id,\n        },\n    }), [id]);\n    const selectableAccounts = useMemo(() => ({}), []);\n    return id ? (React.createElement(Dashboard, { selectableDepts: selectableDepts, selectableAccounts: selectableAccounts, deptId: id })) : (React.createElement(\"div\", null, \"Error: No Dept ID!\"));\n};\nconst DEPT_NAME = gql `\n  query DepartmentName($id: ID!) {\n    department(id: $id) {\n      __typename\n      id\n      name\n    }\n  }\n`;\nconst GridParent = ({ reconcileMode, }) => {\n    var _a;\n    const { id = \"\", fiscalYear } = useParams();\n    const where = useMemo(() => ({\n        department: {\n            id: {\n                lte: id,\n            },\n        },\n        fiscalYear: {\n            id: {\n                eq: fiscalYear,\n            },\n        },\n        deleted: false,\n    }), [id, fiscalYear]);\n    const refundsWhere = useMemo(() => ({\n        where: {\n            fiscalYear: {\n                id: {\n                    eq: fiscalYear,\n                },\n            },\n            deleted: false,\n        },\n        entriesWhere: {\n            department: {\n                id: {\n                    lte: id,\n                },\n            },\n            fiscalYear: {\n                nor: [\n                    {\n                        id: {\n                            eq: fiscalYear,\n                        },\n                    },\n                ],\n            },\n            deleted: false,\n        },\n    }), [fiscalYear, id]);\n    const selectableDepts = useMemo(() => ({\n        id: {\n            eq: id,\n        },\n    }), [id]);\n    const selectableAccounts = useMemo(() => ({}), []);\n    const { loading, error, data } = useQuery(DEPT_NAME, useMemo(() => ({\n        skip: !id,\n        variables: {\n            id: id,\n        },\n    }), [id]));\n    if (error) {\n        return React.createElement(Typography, { color: \"error\" }, error.message);\n    }\n    return (React.createElement(Grid, { title: (_a = data === null || data === void 0 ? void 0 : data.department) === null || _a === void 0 ? void 0 : _a.name, reconcileMode: reconcileMode, loading: loading, where: where, refundsWhere: refundsWhere, selectableDepts: selectableDepts, selectableAccounts: selectableAccounts }));\n};\nconst GridReconcileMode = () => React.createElement(GridParent, { reconcileMode: true });\nconst AppRoutes = () => {\n    return (React.createElement(Routes, null,\n        React.createElement(Route, { path: \"/\", element: React.createElement(TopNav, null) }),\n        React.createElement(Route, { path: \"department/:id\", element: React.createElement(DashBoardRender, null) }),\n        React.createElement(Route, { path: \"journal\" },\n            React.createElement(Route, { path: \":id/:fiscalYear\", element: React.createElement(GridParent, null) }),\n            React.createElement(Route, { path: \":id/:fiscalYear/reconcile\", element: React.createElement(GridReconcileMode, null) }))));\n};\nexport default AppRoutes;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUm91dGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL1JvdXRlcy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDdkMsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDNUQsT0FBTyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUUvQyw0REFBNEQ7QUFDNUQsT0FBTyxJQUEwQixNQUFNLG9DQUFvQyxDQUFDO0FBQzVFLE9BQU8sU0FBUyxNQUFNLGtDQUFrQyxDQUFDO0FBQ3pELE9BQU8sTUFBTSxNQUFNLHFCQUFxQixDQUFDO0FBUXpDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUUvQyxNQUFNLGVBQWUsR0FBRyxHQUFHLEVBQUU7SUFDM0IsTUFBTSxFQUFFLEVBQUUsRUFBRSxHQUFHLFNBQVMsRUFBa0IsQ0FBQztJQUUzQyxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQzdCLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDTCxFQUFFLEVBQUU7WUFDRixFQUFFLEVBQUUsRUFBRTtTQUNQO0tBQ0YsQ0FBQyxFQUNGLENBQUMsRUFBRSxDQUFDLENBQ0wsQ0FBQztJQUVGLE1BQU0sa0JBQWtCLEdBQUcsT0FBTyxDQUFnQixHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRWxFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUNWLG9CQUFDLFNBQVMsSUFDUixlQUFlLEVBQUUsZUFBZSxFQUNoQyxrQkFBa0IsRUFBRSxrQkFBa0IsRUFDdEMsTUFBTSxFQUFFLEVBQUUsR0FDVixDQUNILENBQUMsQ0FBQyxDQUFDLENBQ0Ysc0RBQTZCLENBQzlCLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixN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","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nReactDOM.render(React.createElement(App, null), document.getElementById(\"root\"));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMxQixPQUFPLFFBQVEsTUFBTSxXQUFXLENBQUM7QUFDakMsT0FBTyxHQUFHLE1BQU0sT0FBTyxDQUFDO0FBRXhCLFFBQVEsQ0FBQyxNQUFNLENBQUMsb0JBQUMsR0FBRyxPQUFHLEVBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDIn0=","import React, { Fragment } from \"react\";\nimport { ApolloProvider } from \"@apollo/client\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport client from \"./apollo/apollo\";\nimport AppRoutes from \"./Routes\";\nconst App = () => (React.createElement(Fragment, null,\n    React.createElement(CssBaseline, null),\n    React.createElement(ApolloProvider, { client: client },\n        React.createElement(BrowserRouter, null,\n            React.createElement(AppRoutes, null)))));\nexport default App;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL0FwcC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDeEMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sV0FBVyxNQUFNLCtCQUErQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxPQUFPLE1BQU0sTUFBTSxpQkFBaUIsQ0FBQztBQUNyQyxPQUFPLFNBQVMsTUFBTSxVQUFVLENBQUM7QUFFakMsTUFBTSxHQUFHLEdBQUcsR0FBZ0IsRUFBRSxDQUFDLENBQzdCLG9CQUFDLFFBQVE7SUFDUCxvQkFBQyxXQUFXLE9BQUc7SUFFZixvQkFBQyxjQUFjLElBQUMsTUFBTSxFQUFFLE1BQU07UUFDNUIsb0JBQUMsYUFBYTtZQUNaLG9CQUFDLFNBQVMsT0FBRyxDQUNDLENBQ0QsQ0FDUixDQUNaLENBQUM7QUFFRixlQUFlLEdBQUcsQ0FBQyJ9"],"names":["h","this","name","__classPrivateFieldGet","s","n","e","a","id","t","entry","f"],"sourceRoot":""}